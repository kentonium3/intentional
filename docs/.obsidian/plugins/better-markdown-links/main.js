/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

(function initCjs() {
  const globalThisRecord = globalThis;
  globalThisRecord["__name"] ??= name;
  const originalRequire = require;
  if (originalRequire && !originalRequire.__isPatched) {
    require = Object.assign(
      (id) => requirePatched(id),
      originalRequire,
      {
        __isPatched: true
      }
    );
  }
  const newFuncs = {
    __extractDefault() {
      return extractDefault;
    },
    process() {
      const browserProcess = {
        browser: true,
        cwd() {
          return "/";
        },
        env: {},
        platform: "android"
      };
      return browserProcess;
    }
  };
  for (const key of Object.keys(newFuncs)) {
    globalThisRecord[key] ??= newFuncs[key]?.();
  }
  function name(obj) {
    return obj;
  }
  function extractDefault(module2) {
    return module2 && module2.__esModule && "default" in module2 ? module2.default : module2;
  }
  const OBSIDIAN_BUILT_IN_MODULE_NAMES = [
    "obsidian",
    "@codemirror/autocomplete",
    "@codemirror/collab",
    "@codemirror/commands",
    "@codemirror/language",
    "@codemirror/lint",
    "@codemirror/search",
    "@codemirror/state",
    "@codemirror/text",
    "@codemirror/view",
    "@lezer/common",
    "@lezer/lr",
    "@lezer/highlight"
  ];
  const DEPRECATED_OBSIDIAN_BUILT_IN_MODULE_NAMES = [
    "@codemirror/closebrackets",
    "@codemirror/comment",
    "@codemirror/fold",
    "@codemirror/gutter",
    "@codemirror/highlight",
    "@codemirror/history",
    "@codemirror/matchbrackets",
    "@codemirror/panel",
    "@codemirror/rangeset",
    "@codemirror/rectangular-selection",
    "@codemirror/stream-parser",
    "@codemirror/tooltip"
  ];
  function requirePatched(id) {
    if (OBSIDIAN_BUILT_IN_MODULE_NAMES.includes(id) || DEPRECATED_OBSIDIAN_BUILT_IN_MODULE_NAMES.includes(id)) {
      return originalRequire?.(id);
    }
    if (globalThis?.app?.isMobile) {
      if (id === "process" || id === "node:process") {
        console.debug(`The most likely you can safely ignore this error. Module not found: ${id}. Fake process object is returned instead.`);
        return globalThis.process;
      }
    } else {
      const module2 = originalRequire?.(id);
      if (module2) {
        return extractDefault(module2);
      }
    }
    console.debug(`The most likely you can safely ignore this error. Module not found: ${id}. Empty object is returned instead.`);
    return {};
  }
})();

"use strict";var L0=Object.create;var Pr=Object.defineProperty;var I0=Object.getOwnPropertyDescriptor;var D0=Object.getOwnPropertyNames;var R0=Object.getPrototypeOf,N0=Object.prototype.hasOwnProperty;var r=(t,e)=>Pr(t,"name",{value:e,configurable:!0});var Ct=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Gu=(t,e)=>{for(var n in e)Pr(t,n,{get:e[n],enumerable:!0})},Ku=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of D0(e))!N0.call(t,s)&&s!==n&&Pr(t,s,{get:()=>e[s],enumerable:!(i=I0(e,s))||i.enumerable});return t};var lt=(t,e,n)=>(n=t!=null?L0(R0(t)):{},Ku(e||!t||!t.__esModule?Pr(n,"default",{value:t,enumerable:!0}):n,t)),B0=t=>Ku(Pr({},"__esModule",{value:!0}),t);var Xu=Ct((wx,Qu)=>{var zn=1e3,Un=zn*60,$n=Un*60,bn=$n*24,W0=bn*7,Y0=bn*365.25;Qu.exports=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return z0(t);if(n==="number"&&isFinite(t))return e.long?$0(t):U0(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function z0(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return n*Y0;case"weeks":case"week":case"w":return n*W0;case"days":case"day":case"d":return n*bn;case"hours":case"hour":case"hrs":case"hr":case"h":return n*$n;case"minutes":case"minute":case"mins":case"min":case"m":return n*Un;case"seconds":case"second":case"secs":case"sec":case"s":return n*zn;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}r(z0,"parse");function U0(t){var e=Math.abs(t);return e>=bn?Math.round(t/bn)+"d":e>=$n?Math.round(t/$n)+"h":e>=Un?Math.round(t/Un)+"m":e>=zn?Math.round(t/zn)+"s":t+"ms"}r(U0,"fmtShort");function $0(t){var e=Math.abs(t);return e>=bn?Ci(t,e,bn,"day"):e>=$n?Ci(t,e,$n,"hour"):e>=Un?Ci(t,e,Un,"minute"):e>=zn?Ci(t,e,zn,"second"):t+" ms"}r($0,"fmtLong");function Ci(t,e,n,i){var s=e>=n*1.5;return Math.round(t/n)+" "+i+(s?"s":"")}r(Ci,"plural")});var ia=Ct((kx,ec)=>{function H0(t){n.debug=n,n.default=n,n.coerce=f,n.disable=l,n.enable=s,n.enabled=c,n.humanize=Xu(),n.destroy=h,Object.keys(t).forEach(p=>{n[p]=t[p]}),n.names=[],n.skips=[],n.formatters={};function e(p){let g=0;for(let y=0;y<p.length;y++)g=(g<<5)-g+p.charCodeAt(y),g|=0;return n.colors[Math.abs(g)%n.colors.length]}r(e,"selectColor"),n.selectColor=e;function n(p){let g,y=null,w,v;function F(...S){if(!F.enabled)return;let A=F,P=Number(new Date),O=P-(g||P);A.diff=O,A.prev=g,A.curr=P,g=P,S[0]=n.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let I=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(E,G)=>{if(E==="%%")return"%";I++;let K=n.formatters[G];if(typeof K=="function"){let $=S[I];E=K.call(A,$),S.splice(I,1),I--}return E}),n.formatArgs.call(A,S),(A.log||n.log).apply(A,S)}return r(F,"debug"),F.namespace=p,F.useColors=n.useColors(),F.color=n.selectColor(p),F.extend=i,F.destroy=n.destroy,Object.defineProperty(F,"enabled",{enumerable:!0,configurable:!1,get:r(()=>y!==null?y:(w!==n.namespaces&&(w=n.namespaces,v=n.enabled(p)),v),"get"),set:r(S=>{y=S},"set")}),typeof n.init=="function"&&n.init(F),F}r(n,"createDebug");function i(p,g){let y=n(this.namespace+(typeof g>"u"?":":g)+p);return y.log=this.log,y}r(i,"extend");function s(p){n.save(p),n.namespaces=p,n.names=[],n.skips=[];let g=(typeof p=="string"?p:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let y of g)y[0]==="-"?n.skips.push(y.slice(1)):n.names.push(y)}r(s,"enable");function a(p,g){let y=0,w=0,v=-1,F=0;for(;y<p.length;)if(w<g.length&&(g[w]===p[y]||g[w]==="*"))g[w]==="*"?(v=w,F=y,w++):(y++,w++);else if(v!==-1)w=v+1,F++,y=F;else return!1;for(;w<g.length&&g[w]==="*";)w++;return w===g.length}r(a,"matchesTemplate");function l(){let p=[...n.names,...n.skips.map(g=>"-"+g)].join(",");return n.enable(""),p}r(l,"disable");function c(p){for(let g of n.skips)if(a(p,g))return!1;for(let g of n.names)if(a(p,g))return!0;return!1}r(c,"enabled");function f(p){return p instanceof Error?p.stack||p.message:p}r(f,"coerce");function h(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r(h,"destroy"),n.enable(n.load()),n}r(H0,"setup");ec.exports=H0});var tc=Ct((je,vi)=>{je.formatArgs=G0;je.save=K0;je.load=q0;je.useColors=j0;je.storage=J0();je.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();je.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function j0(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}r(j0,"useColors");function G0(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+vi.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(n++,s==="%c"&&(i=n))}),t.splice(i,0,e)}r(G0,"formatArgs");je.log=console.debug||console.log||(()=>{});function K0(t){try{t?je.storage.setItem("debug",t):je.storage.removeItem("debug")}catch{}}r(K0,"save");function q0(){let t;try{t=je.storage.getItem("debug")||je.storage.getItem("DEBUG")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}r(q0,"load");function J0(){try{return localStorage}catch{}}r(J0,"localstorage");vi.exports=ia()(je);var{formatters:Z0}=vi.exports;Z0.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var rc=Ct((vx,nc)=>{"use strict";nc.exports=(t,e=process.argv)=>{let n=t.startsWith("-")?"":t.length===1?"-":"--",i=e.indexOf(n+t),s=e.indexOf("--");return i!==-1&&(s===-1||i<s)}});var oc=Ct((Ax,sc)=>{"use strict";var Q0=require("os"),ic=require("tty"),ct=rc(),{env:Ae}=process,Ai;ct("no-color")||ct("no-colors")||ct("color=false")||ct("color=never")?Ai=0:(ct("color")||ct("colors")||ct("color=true")||ct("color=always"))&&(Ai=1);function X0(){if("FORCE_COLOR"in Ae)return Ae.FORCE_COLOR==="true"?1:Ae.FORCE_COLOR==="false"?0:Ae.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(Ae.FORCE_COLOR,10),3)}r(X0,"envForceColor");function ey(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}r(ey,"translateLevel");function ty(t,{streamIsTTY:e,sniffFlags:n=!0}={}){let i=X0();i!==void 0&&(Ai=i);let s=n?Ai:i;if(s===0)return 0;if(n){if(ct("color=16m")||ct("color=full")||ct("color=truecolor"))return 3;if(ct("color=256"))return 2}if(t&&!e&&s===void 0)return 0;let a=s||0;if(Ae.TERM==="dumb")return a;if(process.platform==="win32"){let l=Q0.release().split(".");return Number(l[0])>=10&&Number(l[2])>=10586?Number(l[2])>=14931?3:2:1}if("CI"in Ae)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(l=>l in Ae)||Ae.CI_NAME==="codeship"?1:a;if("TEAMCITY_VERSION"in Ae)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Ae.TEAMCITY_VERSION)?1:0;if(Ae.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Ae){let l=Number.parseInt((Ae.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Ae.TERM_PROGRAM){case"iTerm.app":return l>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Ae.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Ae.TERM)||"COLORTERM"in Ae?1:a}r(ty,"supportsColor");function sa(t,e={}){let n=ty(t,{streamIsTTY:t&&t.isTTY,...e});return ey(n)}r(sa,"getSupportLevel");sc.exports={supportsColor:sa,stdout:sa({isTTY:ic.isatty(1)}),stderr:sa({isTTY:ic.isatty(2)})}});var lc=Ct((Se,Ei)=>{var ny=require("tty"),Si=require("util");Se.init=uy;Se.log=oy;Se.formatArgs=iy;Se.save=ay;Se.load=ly;Se.useColors=ry;Se.destroy=Si.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Se.colors=[6,2,3,4,5,1];try{let t=oc();t&&(t.stderr||t).level>=2&&(Se.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Se.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let n=e.substring(6).toLowerCase().replace(/_([a-z])/g,(s,a)=>a.toUpperCase()),i=process.env[e];return/^(yes|on|true|enabled)$/i.test(i)?i=!0:/^(no|off|false|disabled)$/i.test(i)?i=!1:i==="null"?i=null:i=Number(i),t[n]=i,t},{});function ry(){return"colors"in Se.inspectOpts?!!Se.inspectOpts.colors:ny.isatty(process.stderr.fd)}r(ry,"useColors");function iy(t){let{namespace:e,useColors:n}=this;if(n){let i=this.color,s="\x1B[3"+(i<8?i:"8;5;"+i),a=`  ${s};1m${e} \x1B[0m`;t[0]=a+t[0].split(`
`).join(`
`+a),t.push(s+"m+"+Ei.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=sy()+e+" "+t[0]}r(iy,"formatArgs");function sy(){return Se.inspectOpts.hideDate?"":new Date().toISOString()+" "}r(sy,"getDate");function oy(...t){return process.stderr.write(Si.formatWithOptions(Se.inspectOpts,...t)+`
`)}r(oy,"log");function ay(t){t?process.env.DEBUG=t:delete process.env.DEBUG}r(ay,"save");function ly(){return process.env.DEBUG}r(ly,"load");function uy(t){t.inspectOpts={};let e=Object.keys(Se.inspectOpts);for(let n=0;n<e.length;n++)t.inspectOpts[e[n]]=Se.inspectOpts[e[n]]}r(uy,"init");Ei.exports=ia()(Se);var{formatters:ac}=Ei.exports;ac.o=function(t){return this.inspectOpts.colors=this.useColors,Si.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};ac.O=function(t){return this.inspectOpts.colors=this.useColors,Si.inspect(t,this.inspectOpts)}});var uc=Ct((Tx,oa)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?oa.exports=tc():oa.exports=lc()});var _c=Ct((oC,Fc)=>{"use strict";function Mt(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}r(Mt,"assertPath");function Pc(t,e){for(var n="",i=0,s=-1,a=0,l,c=0;c<=t.length;++c){if(c<t.length)l=t.charCodeAt(c);else{if(l===47)break;l=47}if(l===47){if(!(s===c-1||a===1))if(s!==c-1&&a===2){if(n.length<2||i!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var f=n.lastIndexOf("/");if(f!==n.length-1){f===-1?(n="",i=0):(n=n.slice(0,f),i=n.length-1-n.lastIndexOf("/")),s=c,a=0;continue}}else if(n.length===2||n.length===1){n="",i=0,s=c,a=0;continue}}e&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+t.slice(s+1,c):n=t.slice(s+1,c),i=c-s-1;s=c,a=0}else l===46&&a!==-1?++a:a=-1}return n}r(Pc,"normalizeStringPosix");function xy(t,e){var n=e.dir||e.root,i=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+i:n+t+i:i}r(xy,"_format");var Hn={resolve:r(function(){for(var e="",n=!1,i,s=arguments.length-1;s>=-1&&!n;s--){var a;s>=0?a=arguments[s]:(i===void 0&&(i=process.cwd()),a=i),Mt(a),a.length!==0&&(e=a+"/"+e,n=a.charCodeAt(0)===47)}return e=Pc(e,!n),n?e.length>0?"/"+e:"/":e.length>0?e:"."},"resolve"),normalize:r(function(e){if(Mt(e),e.length===0)return".";var n=e.charCodeAt(0)===47,i=e.charCodeAt(e.length-1)===47;return e=Pc(e,!n),e.length===0&&!n&&(e="."),e.length>0&&i&&(e+="/"),n?"/"+e:e},"normalize"),isAbsolute:r(function(e){return Mt(e),e.length>0&&e.charCodeAt(0)===47},"isAbsolute"),join:r(function(){if(arguments.length===0)return".";for(var e,n=0;n<arguments.length;++n){var i=arguments[n];Mt(i),i.length>0&&(e===void 0?e=i:e+="/"+i)}return e===void 0?".":Hn.normalize(e)},"join"),relative:r(function(e,n){if(Mt(e),Mt(n),e===n||(e=Hn.resolve(e),n=Hn.resolve(n),e===n))return"";for(var i=1;i<e.length&&e.charCodeAt(i)===47;++i);for(var s=e.length,a=s-i,l=1;l<n.length&&n.charCodeAt(l)===47;++l);for(var c=n.length,f=c-l,h=a<f?a:f,p=-1,g=0;g<=h;++g){if(g===h){if(f>h){if(n.charCodeAt(l+g)===47)return n.slice(l+g+1);if(g===0)return n.slice(l+g)}else a>h&&(e.charCodeAt(i+g)===47?p=g:g===0&&(p=0));break}var y=e.charCodeAt(i+g),w=n.charCodeAt(l+g);if(y!==w)break;y===47&&(p=g)}var v="";for(g=i+p+1;g<=s;++g)(g===s||e.charCodeAt(g)===47)&&(v.length===0?v+="..":v+="/..");return v.length>0?v+n.slice(l+p):(l+=p,n.charCodeAt(l)===47&&++l,n.slice(l))},"relative"),_makeLong:r(function(e){return e},"_makeLong"),dirname:r(function(e){if(Mt(e),e.length===0)return".";for(var n=e.charCodeAt(0),i=n===47,s=-1,a=!0,l=e.length-1;l>=1;--l)if(n=e.charCodeAt(l),n===47){if(!a){s=l;break}}else a=!1;return s===-1?i?"/":".":i&&s===1?"//":e.slice(0,s)},"dirname"),basename:r(function(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Mt(e);var i=0,s=-1,a=!0,l;if(n!==void 0&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var c=n.length-1,f=-1;for(l=e.length-1;l>=0;--l){var h=e.charCodeAt(l);if(h===47){if(!a){i=l+1;break}}else f===-1&&(a=!1,f=l+1),c>=0&&(h===n.charCodeAt(c)?--c===-1&&(s=l):(c=-1,s=f))}return i===s?s=f:s===-1&&(s=e.length),e.slice(i,s)}else{for(l=e.length-1;l>=0;--l)if(e.charCodeAt(l)===47){if(!a){i=l+1;break}}else s===-1&&(a=!1,s=l+1);return s===-1?"":e.slice(i,s)}},"basename"),extname:r(function(e){Mt(e);for(var n=-1,i=0,s=-1,a=!0,l=0,c=e.length-1;c>=0;--c){var f=e.charCodeAt(c);if(f===47){if(!a){i=c+1;break}continue}s===-1&&(a=!1,s=c+1),f===46?n===-1?n=c:l!==1&&(l=1):n!==-1&&(l=-1)}return n===-1||s===-1||l===0||l===1&&n===s-1&&n===i+1?"":e.slice(n,s)},"extname"),format:r(function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return xy("/",e)},"format"),parse:r(function(e){Mt(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return n;var i=e.charCodeAt(0),s=i===47,a;s?(n.root="/",a=1):a=0;for(var l=-1,c=0,f=-1,h=!0,p=e.length-1,g=0;p>=a;--p){if(i=e.charCodeAt(p),i===47){if(!h){c=p+1;break}continue}f===-1&&(h=!1,f=p+1),i===46?l===-1?l=p:g!==1&&(g=1):l!==-1&&(g=-1)}return l===-1||f===-1||g===0||g===1&&l===f-1&&l===c+1?f!==-1&&(c===0&&s?n.base=n.name=e.slice(1,f):n.base=n.name=e.slice(c,f)):(c===0&&s?(n.name=e.slice(1,l),n.base=e.slice(1,f)):(n.name=e.slice(c,l),n.base=e.slice(c,f)),n.ext=e.slice(l,f)),c>0?n.dir=e.slice(0,c-1):s&&(n.dir="/"),n},"parse"),sep:"/",delimiter:":",win32:null,posix:null};Hn.posix=Hn;Fc.exports=Hn});var sd=Ct((PP,id)=>{"use strict";var is=Object.prototype.hasOwnProperty,rd=Object.prototype.toString,Zf=Object.defineProperty,Qf=Object.getOwnPropertyDescriptor,Xf=r(function(e){return typeof Array.isArray=="function"?Array.isArray(e):rd.call(e)==="[object Array]"},"isArray"),ed=r(function(e){if(!e||rd.call(e)!=="[object Object]")return!1;var n=is.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&is.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!i)return!1;var s;for(s in e);return typeof s>"u"||is.call(e,s)},"isPlainObject"),td=r(function(e,n){Zf&&n.name==="__proto__"?Zf(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},"setProperty"),nd=r(function(e,n){if(n==="__proto__")if(is.call(e,n)){if(Qf)return Qf(e,n).value}else return;return e[n]},"getProperty");id.exports=r(function t(){var e,n,i,s,a,l,c=arguments[0],f=1,h=arguments.length,p=!1;for(typeof c=="boolean"&&(p=c,c=arguments[1]||{},f=2),(c==null||typeof c!="object"&&typeof c!="function")&&(c={});f<h;++f)if(e=arguments[f],e!=null)for(n in e)i=nd(c,n),s=nd(e,n),c!==s&&(p&&s&&(ed(s)||(a=Xf(s)))?(a?(a=!1,l=i&&Xf(i)?i:[]):l=i&&ed(i)?i:{},td(c,{name:n,newValue:t(p,l,s)})):typeof s<"u"&&td(c,{name:n,newValue:s}));return c},"extend")});var fh=Ct((Ls,ch)=>{(function(t,e){typeof Ls=="object"&&typeof ch<"u"?e(Ls):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.compareVersions={}))})(Ls,(function(t){"use strict";let e=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,n=r(S=>{if(typeof S!="string")throw new TypeError("Invalid argument expected string");let A=S.match(e);if(!A)throw new Error(`Invalid argument not valid semver ('${S}' received)`);return A.shift(),A},"validateAndParse"),i=r(S=>S==="*"||S==="x"||S==="X","isWildcard"),s=r(S=>{let A=parseInt(S,10);return isNaN(A)?S:A},"tryParse"),a=r((S,A)=>typeof S!=typeof A?[String(S),String(A)]:[S,A],"forceType"),l=r((S,A)=>{if(i(S)||i(A))return 0;let[P,O]=a(s(S),s(A));return P>O?1:P<O?-1:0},"compareStrings"),c=r((S,A)=>{for(let P=0;P<Math.max(S.length,A.length);P++){let O=l(S[P]||"0",A[P]||"0");if(O!==0)return O}return 0},"compareSegments"),f=r((S,A)=>{let P=n(S),O=n(A),I=P.pop(),W=O.pop(),E=c(P,O);return E!==0?E:I&&W?c(I.split("."),W.split(".")):I||W?I?-1:1:0},"compareVersions"),h=r((S,A,P)=>{y(P);let O=f(S,A);return p[P].includes(O)},"compare"),p={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},g=Object.keys(p),y=r(S=>{if(typeof S!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof S}`);if(g.indexOf(S)===-1)throw new Error(`Invalid operator, expected one of ${g.join("|")}`)},"assertValidOperator"),w=r((S,A)=>{if(A=A.replace(/([><=]+)\s+/g,"$1"),A.includes("||"))return A.split("||").some(J=>w(S,J));if(A.includes(" - ")){let[J,ie]=A.split(" - ",2);return w(S,`>=${J} <=${ie}`)}else if(A.includes(" "))return A.trim().replace(/\s{2,}/g," ").split(" ").every(J=>w(S,J));let P=A.match(/^([<>=~^]+)/),O=P?P[1]:"=";if(O!=="^"&&O!=="~")return h(S,A,O);let[I,W,E,,G]=n(S),[K,$,Q,,ue]=n(A),te=[I,W,E],D=[K,$??"x",Q??"x"];if(ue&&(!G||c(te,D)!==0||c(G.split("."),ue.split("."))===-1))return!1;let z=D.findIndex(J=>J!=="0")+1,U=O==="~"?2:z>1?z:1;return!(c(te.slice(0,U),D.slice(0,U))!==0||c(te.slice(U),D.slice(U))===-1)},"satisfies"),v=r(S=>typeof S=="string"&&/^[v\d]/.test(S)&&e.test(S),"validate"),F=r(S=>typeof S=="string"&&/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/.test(S),"validateStrict");t.compare=h,t.compareVersions=f,t.satisfies=w,t.validate=v,t.validateStrict=F}))});var Mn=Ct((eu,mr)=>{(function(t,e){typeof eu=="object"&&typeof mr<"u"?mr.exports=e():typeof define=="function"&&define.amd?define(e):t.moment=e()})(eu,(function(){"use strict";var t;function e(){return t.apply(null,arguments)}r(e,"hooks");function n(o){t=o}r(n,"setHookCallback");function i(o){return o instanceof Array||Object.prototype.toString.call(o)==="[object Array]"}r(i,"isArray");function s(o){return o!=null&&Object.prototype.toString.call(o)==="[object Object]"}r(s,"isObject");function a(o,u){return Object.prototype.hasOwnProperty.call(o,u)}r(a,"hasOwnProp");function l(o){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(o).length===0;var u;for(u in o)if(a(o,u))return!1;return!0}r(l,"isObjectEmpty");function c(o){return o===void 0}r(c,"isUndefined");function f(o){return typeof o=="number"||Object.prototype.toString.call(o)==="[object Number]"}r(f,"isNumber");function h(o){return o instanceof Date||Object.prototype.toString.call(o)==="[object Date]"}r(h,"isDate");function p(o,u){var d=[],m,b=o.length;for(m=0;m<b;++m)d.push(u(o[m],m));return d}r(p,"map");function g(o,u){for(var d in u)a(u,d)&&(o[d]=u[d]);return a(u,"toString")&&(o.toString=u.toString),a(u,"valueOf")&&(o.valueOf=u.valueOf),o}r(g,"extend");function y(o,u,d,m){return Au(o,u,d,m,!0).utc()}r(y,"createUTC");function w(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}r(w,"defaultParsingFlags");function v(o){return o._pf==null&&(o._pf=w()),o._pf}r(v,"getParsingFlags");var F;Array.prototype.some?F=Array.prototype.some:F=r(function(o){var u=Object(this),d=u.length>>>0,m;for(m=0;m<d;m++)if(m in u&&o.call(this,u[m],m,u))return!0;return!1},"some");function S(o){var u=null,d=!1,m=o._d&&!isNaN(o._d.getTime());if(m&&(u=v(o),d=F.call(u.parsedDateParts,function(b){return b!=null}),m=u.overflow<0&&!u.empty&&!u.invalidEra&&!u.invalidMonth&&!u.invalidWeekday&&!u.weekdayMismatch&&!u.nullInput&&!u.invalidFormat&&!u.userInvalidated&&(!u.meridiem||u.meridiem&&d),o._strict&&(m=m&&u.charsLeftOver===0&&u.unusedTokens.length===0&&u.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(o))o._isValid=m;else return m;return o._isValid}r(S,"isValid");function A(o){var u=y(NaN);return o!=null?g(v(u),o):v(u).userInvalidated=!0,u}r(A,"createInvalid");var P=e.momentProperties=[],O=!1;function I(o,u){var d,m,b,x=P.length;if(c(u._isAMomentObject)||(o._isAMomentObject=u._isAMomentObject),c(u._i)||(o._i=u._i),c(u._f)||(o._f=u._f),c(u._l)||(o._l=u._l),c(u._strict)||(o._strict=u._strict),c(u._tzm)||(o._tzm=u._tzm),c(u._isUTC)||(o._isUTC=u._isUTC),c(u._offset)||(o._offset=u._offset),c(u._pf)||(o._pf=v(u)),c(u._locale)||(o._locale=u._locale),x>0)for(d=0;d<x;d++)m=P[d],b=u[m],c(b)||(o[m]=b);return o}r(I,"copyConfig");function W(o){I(this,o),this._d=new Date(o._d!=null?o._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),O===!1&&(O=!0,e.updateOffset(this),O=!1)}r(W,"Moment");function E(o){return o instanceof W||o!=null&&o._isAMomentObject!=null}r(E,"isMoment");function G(o){e.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+o)}r(G,"warn");function K(o,u){var d=!0;return g(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,o),d){var m=[],b,x,T,N=arguments.length;for(x=0;x<N;x++){if(b="",typeof arguments[x]=="object"){b+=`
[`+x+"] ";for(T in arguments[0])a(arguments[0],T)&&(b+=T+": "+arguments[0][T]+", ");b=b.slice(0,-2)}else b=arguments[x];m.push(b)}G(o+`
Arguments: `+Array.prototype.slice.call(m).join("")+`
`+new Error().stack),d=!1}return u.apply(this,arguments)},u)}r(K,"deprecate");var $={};function Q(o,u){e.deprecationHandler!=null&&e.deprecationHandler(o,u),$[o]||(G(u),$[o]=!0)}r(Q,"deprecateSimple"),e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function ue(o){return typeof Function<"u"&&o instanceof Function||Object.prototype.toString.call(o)==="[object Function]"}r(ue,"isFunction");function te(o){var u,d;for(d in o)a(o,d)&&(u=o[d],ue(u)?this[d]=u:this["_"+d]=u);this._config=o,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}r(te,"set");function D(o,u){var d=g({},o),m;for(m in u)a(u,m)&&(s(o[m])&&s(u[m])?(d[m]={},g(d[m],o[m]),g(d[m],u[m])):u[m]!=null?d[m]=u[m]:delete d[m]);for(m in o)a(o,m)&&!a(u,m)&&s(o[m])&&(d[m]=g({},d[m]));return d}r(D,"mergeConfigs");function z(o){o!=null&&this.set(o)}r(z,"Locale");var U;Object.keys?U=Object.keys:U=r(function(o){var u,d=[];for(u in o)a(o,u)&&d.push(u);return d},"keys");var J={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function ie(o,u,d){var m=this._calendar[o]||this._calendar.sameElse;return ue(m)?m.call(u,d):m}r(ie,"calendar");function ce(o,u,d){var m=""+Math.abs(o),b=u-m.length,x=o>=0;return(x?d?"+":"":"-")+Math.pow(10,Math.max(0,b)).toString().substr(1)+m}r(ce,"zeroFill");var be=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,C=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,oe={},pe={};function k(o,u,d,m){var b=m;typeof m=="string"&&(b=r(function(){return this[m]()},"func")),o&&(pe[o]=b),u&&(pe[u[0]]=function(){return ce(b.apply(this,arguments),u[1],u[2])}),d&&(pe[d]=function(){return this.localeData().ordinal(b.apply(this,arguments),o)})}r(k,"addFormatToken");function ve(o){return o.match(/\[[\s\S]/)?o.replace(/^\[|\]$/g,""):o.replace(/\\/g,"")}r(ve,"removeFormattingTokens");function Nt(o){var u=o.match(be),d,m;for(d=0,m=u.length;d<m;d++)pe[u[d]]?u[d]=pe[u[d]]:u[d]=ve(u[d]);return function(b){var x="",T;for(T=0;T<m;T++)x+=ue(u[T])?u[T].call(b,o):u[T];return x}}r(Nt,"makeFormatFunction");function Qt(o,u){return o.isValid()?(u=hn(u,o.localeData()),oe[u]=oe[u]||Nt(u),oe[u](o)):o.localeData().invalidDate()}r(Qt,"formatMoment");function hn(o,u){var d=5;function m(b){return u.longDateFormat(b)||b}for(r(m,"replaceLongDateFormatTokens"),C.lastIndex=0;d>=0&&C.test(o);)o=o.replace(C,m),C.lastIndex=0,d-=1;return o}r(hn,"expandFormat");var ke={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function pn(o){var u=this._longDateFormat[o],d=this._longDateFormat[o.toUpperCase()];return u||!d?u:(this._longDateFormat[o]=d.match(be).map(function(m){return m==="MMMM"||m==="MM"||m==="DD"||m==="dddd"?m.slice(1):m}).join(""),this._longDateFormat[o])}r(pn,"longDateFormat");var gt="Invalid date";function Bt(){return this._invalidDate}r(Bt,"invalidDate");var Xt="%d",wr=/\d{1,2}/;function Do(o){return this._ordinal.replace("%d",o)}r(Do,"ordinal");var ri={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function ii(o,u,d,m){var b=this._relativeTime[d];return ue(b)?b(o,u,d,m):b.replace(/%d/i,o)}r(ii,"relativeTime");function si(o,u){var d=this._relativeTime[o>0?"future":"past"];return ue(d)?d(u):d.replace(/%s/i,u)}r(si,"pastFuture");var oi={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Re(o){return typeof o=="string"?oi[o]||oi[o.toLowerCase()]:void 0}r(Re,"normalizeUnits");function In(o){var u={},d,m;for(m in o)a(o,m)&&(d=Re(m),d&&(u[d]=o[m]));return u}r(In,"normalizeObjectUnits");var Ro={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function No(o){var u=[],d;for(d in o)a(o,d)&&u.push({unit:d,priority:Ro[d]});return u.sort(function(m,b){return m.priority-b.priority}),u}r(No,"getPrioritizedUnits");var ai=/\d/,Ne=/\d\d/,li=/\d{3}/,_=/\d{4}/,L=/[+-]?\d{6}/,R=/\d\d?/,X=/\d\d\d\d?/,ae=/\d\d\d\d\d\d?/,Oe=/\d{1,3}/,yt=/\d{1,4}/,He=/[+-]?\d{1,6}/,ot=/\d+/,Et=/[+-]?\d+/,Be=/Z|[+-]\d\d:?\d\d/gi,wt=/Z|[+-]\d\d(?::?\d\d)?/gi,bt=/[+-]?\d+(\.\d{1,3})?/,br=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Dn=/^[1-9]\d?/,Bo=/^([1-9]\d|\d)/,ui;ui={};function B(o,u,d){ui[o]=ue(u)?u:function(m,b){return m&&d?d:u}}r(B,"addRegexToken");function ep(o,u){return a(ui,o)?ui[o](u._strict,u._locale):new RegExp(tp(o))}r(ep,"getParseRegexForToken");function tp(o){return Vt(o.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(u,d,m,b,x){return d||m||b||x}))}r(tp,"unescapeFormat");function Vt(o){return o.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}r(Vt,"regexEscape");function at(o){return o<0?Math.ceil(o)||0:Math.floor(o)}r(at,"absFloor");function ee(o){var u=+o,d=0;return u!==0&&isFinite(u)&&(d=at(u)),d}r(ee,"toInt");var Vo={};function fe(o,u){var d,m=u,b;for(typeof o=="string"&&(o=[o]),f(u)&&(m=r(function(x,T){T[u]=ee(x)},"func")),b=o.length,d=0;d<b;d++)Vo[o[d]]=m}r(fe,"addParseToken");function kr(o,u){fe(o,function(d,m,b,x){b._w=b._w||{},u(d,b._w,b,x)})}r(kr,"addWeekParseToken");function np(o,u,d){u!=null&&a(Vo,o)&&Vo[o](u,d._a,d,o)}r(np,"addTimeToArrayFromToken");function ci(o){return o%4===0&&o%100!==0||o%400===0}r(ci,"isLeapYear");var Me=0,Wt=1,Tt=2,xe=3,kt=4,Yt=5,mn=6,rp=7,ip=8;k("Y",0,0,function(){var o=this.year();return o<=9999?ce(o,4):"+"+o}),k(0,["YY",2],0,function(){return this.year()%100}),k(0,["YYYY",4],0,"year"),k(0,["YYYYY",5],0,"year"),k(0,["YYYYYY",6,!0],0,"year"),B("Y",Et),B("YY",R,Ne),B("YYYY",yt,_),B("YYYYY",He,L),B("YYYYYY",He,L),fe(["YYYYY","YYYYYY"],Me),fe("YYYY",function(o,u){u[Me]=o.length===2?e.parseTwoDigitYear(o):ee(o)}),fe("YY",function(o,u){u[Me]=e.parseTwoDigitYear(o)}),fe("Y",function(o,u){u[Me]=parseInt(o,10)});function xr(o){return ci(o)?366:365}r(xr,"daysInYear"),e.parseTwoDigitYear=function(o){return ee(o)+(ee(o)>68?1900:2e3)};var lu=Rn("FullYear",!0);function sp(){return ci(this.year())}r(sp,"getIsLeapYear");function Rn(o,u){return function(d){return d!=null?(uu(this,o,d),e.updateOffset(this,u),this):Cr(this,o)}}r(Rn,"makeGetSet");function Cr(o,u){if(!o.isValid())return NaN;var d=o._d,m=o._isUTC;switch(u){case"Milliseconds":return m?d.getUTCMilliseconds():d.getMilliseconds();case"Seconds":return m?d.getUTCSeconds():d.getSeconds();case"Minutes":return m?d.getUTCMinutes():d.getMinutes();case"Hours":return m?d.getUTCHours():d.getHours();case"Date":return m?d.getUTCDate():d.getDate();case"Day":return m?d.getUTCDay():d.getDay();case"Month":return m?d.getUTCMonth():d.getMonth();case"FullYear":return m?d.getUTCFullYear():d.getFullYear();default:return NaN}}r(Cr,"get");function uu(o,u,d){var m,b,x,T,N;if(!(!o.isValid()||isNaN(d))){switch(m=o._d,b=o._isUTC,u){case"Milliseconds":return void(b?m.setUTCMilliseconds(d):m.setMilliseconds(d));case"Seconds":return void(b?m.setUTCSeconds(d):m.setSeconds(d));case"Minutes":return void(b?m.setUTCMinutes(d):m.setMinutes(d));case"Hours":return void(b?m.setUTCHours(d):m.setHours(d));case"Date":return void(b?m.setUTCDate(d):m.setDate(d));case"FullYear":break;default:return}x=d,T=o.month(),N=o.date(),N=N===29&&T===1&&!ci(x)?28:N,b?m.setUTCFullYear(x,T,N):m.setFullYear(x,T,N)}}r(uu,"set$1");function op(o){return o=Re(o),ue(this[o])?this[o]():this}r(op,"stringGet");function ap(o,u){if(typeof o=="object"){o=In(o);var d=No(o),m,b=d.length;for(m=0;m<b;m++)this[d[m].unit](o[d[m].unit])}else if(o=Re(o),ue(this[o]))return this[o](u);return this}r(ap,"stringSet");function lp(o,u){return(o%u+u)%u}r(lp,"mod");var ge;Array.prototype.indexOf?ge=Array.prototype.indexOf:ge=r(function(o){var u;for(u=0;u<this.length;++u)if(this[u]===o)return u;return-1},"indexOf");function Wo(o,u){if(isNaN(o)||isNaN(u))return NaN;var d=lp(u,12);return o+=(u-d)/12,d===1?ci(o)?29:28:31-d%7%2}r(Wo,"daysInMonth"),k("M",["MM",2],"Mo",function(){return this.month()+1}),k("MMM",0,0,function(o){return this.localeData().monthsShort(this,o)}),k("MMMM",0,0,function(o){return this.localeData().months(this,o)}),B("M",R,Dn),B("MM",R,Ne),B("MMM",function(o,u){return u.monthsShortRegex(o)}),B("MMMM",function(o,u){return u.monthsRegex(o)}),fe(["M","MM"],function(o,u){u[Wt]=ee(o)-1}),fe(["MMM","MMMM"],function(o,u,d,m){var b=d._locale.monthsParse(o,m,d._strict);b!=null?u[Wt]=b:v(d).invalidMonth=o});var up="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),cu="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),fu=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,cp=br,fp=br;function dp(o,u){return o?i(this._months)?this._months[o.month()]:this._months[(this._months.isFormat||fu).test(u)?"format":"standalone"][o.month()]:i(this._months)?this._months:this._months.standalone}r(dp,"localeMonths");function hp(o,u){return o?i(this._monthsShort)?this._monthsShort[o.month()]:this._monthsShort[fu.test(u)?"format":"standalone"][o.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}r(hp,"localeMonthsShort");function pp(o,u,d){var m,b,x,T=o.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],m=0;m<12;++m)x=y([2e3,m]),this._shortMonthsParse[m]=this.monthsShort(x,"").toLocaleLowerCase(),this._longMonthsParse[m]=this.months(x,"").toLocaleLowerCase();return d?u==="MMM"?(b=ge.call(this._shortMonthsParse,T),b!==-1?b:null):(b=ge.call(this._longMonthsParse,T),b!==-1?b:null):u==="MMM"?(b=ge.call(this._shortMonthsParse,T),b!==-1?b:(b=ge.call(this._longMonthsParse,T),b!==-1?b:null)):(b=ge.call(this._longMonthsParse,T),b!==-1?b:(b=ge.call(this._shortMonthsParse,T),b!==-1?b:null))}r(pp,"handleStrictParse");function mp(o,u,d){var m,b,x;if(this._monthsParseExact)return pp.call(this,o,u,d);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),m=0;m<12;m++){if(b=y([2e3,m]),d&&!this._longMonthsParse[m]&&(this._longMonthsParse[m]=new RegExp("^"+this.months(b,"").replace(".","")+"$","i"),this._shortMonthsParse[m]=new RegExp("^"+this.monthsShort(b,"").replace(".","")+"$","i")),!d&&!this._monthsParse[m]&&(x="^"+this.months(b,"")+"|^"+this.monthsShort(b,""),this._monthsParse[m]=new RegExp(x.replace(".",""),"i")),d&&u==="MMMM"&&this._longMonthsParse[m].test(o))return m;if(d&&u==="MMM"&&this._shortMonthsParse[m].test(o))return m;if(!d&&this._monthsParse[m].test(o))return m}}r(mp,"localeMonthsParse");function du(o,u){if(!o.isValid())return o;if(typeof u=="string"){if(/^\d+$/.test(u))u=ee(u);else if(u=o.localeData().monthsParse(u),!f(u))return o}var d=u,m=o.date();return m=m<29?m:Math.min(m,Wo(o.year(),d)),o._isUTC?o._d.setUTCMonth(d,m):o._d.setMonth(d,m),o}r(du,"setMonth");function hu(o){return o!=null?(du(this,o),e.updateOffset(this,!0),this):Cr(this,"Month")}r(hu,"getSetMonth");function gp(){return Wo(this.year(),this.month())}r(gp,"getDaysInMonth");function yp(o){return this._monthsParseExact?(a(this,"_monthsRegex")||pu.call(this),o?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=cp),this._monthsShortStrictRegex&&o?this._monthsShortStrictRegex:this._monthsShortRegex)}r(yp,"monthsShortRegex");function wp(o){return this._monthsParseExact?(a(this,"_monthsRegex")||pu.call(this),o?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=fp),this._monthsStrictRegex&&o?this._monthsStrictRegex:this._monthsRegex)}r(wp,"monthsRegex");function pu(){function o(H,ne){return ne.length-H.length}r(o,"cmpLenRev");var u=[],d=[],m=[],b,x,T,N;for(b=0;b<12;b++)x=y([2e3,b]),T=Vt(this.monthsShort(x,"")),N=Vt(this.months(x,"")),u.push(T),d.push(N),m.push(N),m.push(T);u.sort(o),d.sort(o),m.sort(o),this._monthsRegex=new RegExp("^("+m.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+u.join("|")+")","i")}r(pu,"computeMonthsParse");function bp(o,u,d,m,b,x,T){var N;return o<100&&o>=0?(N=new Date(o+400,u,d,m,b,x,T),isFinite(N.getFullYear())&&N.setFullYear(o)):N=new Date(o,u,d,m,b,x,T),N}r(bp,"createDate");function vr(o){var u,d;return o<100&&o>=0?(d=Array.prototype.slice.call(arguments),d[0]=o+400,u=new Date(Date.UTC.apply(null,d)),isFinite(u.getUTCFullYear())&&u.setUTCFullYear(o)):u=new Date(Date.UTC.apply(null,arguments)),u}r(vr,"createUTCDate");function fi(o,u,d){var m=7+u-d,b=(7+vr(o,0,m).getUTCDay()-u)%7;return-b+m-1}r(fi,"firstWeekOffset");function mu(o,u,d,m,b){var x=(7+d-m)%7,T=fi(o,m,b),N=1+7*(u-1)+x+T,H,ne;return N<=0?(H=o-1,ne=xr(H)+N):N>xr(o)?(H=o+1,ne=N-xr(o)):(H=o,ne=N),{year:H,dayOfYear:ne}}r(mu,"dayOfYearFromWeeks");function Ar(o,u,d){var m=fi(o.year(),u,d),b=Math.floor((o.dayOfYear()-m-1)/7)+1,x,T;return b<1?(T=o.year()-1,x=b+zt(T,u,d)):b>zt(o.year(),u,d)?(x=b-zt(o.year(),u,d),T=o.year()+1):(T=o.year(),x=b),{week:x,year:T}}r(Ar,"weekOfYear");function zt(o,u,d){var m=fi(o,u,d),b=fi(o+1,u,d);return(xr(o)-m+b)/7}r(zt,"weeksInYear"),k("w",["ww",2],"wo","week"),k("W",["WW",2],"Wo","isoWeek"),B("w",R,Dn),B("ww",R,Ne),B("W",R,Dn),B("WW",R,Ne),kr(["w","ww","W","WW"],function(o,u,d,m){u[m.substr(0,1)]=ee(o)});function kp(o){return Ar(o,this._week.dow,this._week.doy).week}r(kp,"localeWeek");var xp={dow:0,doy:6};function Cp(){return this._week.dow}r(Cp,"localeFirstDayOfWeek");function vp(){return this._week.doy}r(vp,"localeFirstDayOfYear");function Ap(o){var u=this.localeData().week(this);return o==null?u:this.add((o-u)*7,"d")}r(Ap,"getSetWeek");function Sp(o){var u=Ar(this,1,4).week;return o==null?u:this.add((o-u)*7,"d")}r(Sp,"getSetISOWeek"),k("d",0,"do","day"),k("dd",0,0,function(o){return this.localeData().weekdaysMin(this,o)}),k("ddd",0,0,function(o){return this.localeData().weekdaysShort(this,o)}),k("dddd",0,0,function(o){return this.localeData().weekdays(this,o)}),k("e",0,0,"weekday"),k("E",0,0,"isoWeekday"),B("d",R),B("e",R),B("E",R),B("dd",function(o,u){return u.weekdaysMinRegex(o)}),B("ddd",function(o,u){return u.weekdaysShortRegex(o)}),B("dddd",function(o,u){return u.weekdaysRegex(o)}),kr(["dd","ddd","dddd"],function(o,u,d,m){var b=d._locale.weekdaysParse(o,m,d._strict);b!=null?u.d=b:v(d).invalidWeekday=o}),kr(["d","e","E"],function(o,u,d,m){u[m]=ee(o)});function Ep(o,u){return typeof o!="string"?o:isNaN(o)?(o=u.weekdaysParse(o),typeof o=="number"?o:null):parseInt(o,10)}r(Ep,"parseWeekday");function Tp(o,u){return typeof o=="string"?u.weekdaysParse(o)%7||7:isNaN(o)?null:o}r(Tp,"parseIsoWeekday");function Yo(o,u){return o.slice(u,7).concat(o.slice(0,u))}r(Yo,"shiftWeekdays");var Pp="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),gu="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Fp="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),_p=br,Op=br,Mp=br;function Lp(o,u){var d=i(this._weekdays)?this._weekdays:this._weekdays[o&&o!==!0&&this._weekdays.isFormat.test(u)?"format":"standalone"];return o===!0?Yo(d,this._week.dow):o?d[o.day()]:d}r(Lp,"localeWeekdays");function Ip(o){return o===!0?Yo(this._weekdaysShort,this._week.dow):o?this._weekdaysShort[o.day()]:this._weekdaysShort}r(Ip,"localeWeekdaysShort");function Dp(o){return o===!0?Yo(this._weekdaysMin,this._week.dow):o?this._weekdaysMin[o.day()]:this._weekdaysMin}r(Dp,"localeWeekdaysMin");function Rp(o,u,d){var m,b,x,T=o.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],m=0;m<7;++m)x=y([2e3,1]).day(m),this._minWeekdaysParse[m]=this.weekdaysMin(x,"").toLocaleLowerCase(),this._shortWeekdaysParse[m]=this.weekdaysShort(x,"").toLocaleLowerCase(),this._weekdaysParse[m]=this.weekdays(x,"").toLocaleLowerCase();return d?u==="dddd"?(b=ge.call(this._weekdaysParse,T),b!==-1?b:null):u==="ddd"?(b=ge.call(this._shortWeekdaysParse,T),b!==-1?b:null):(b=ge.call(this._minWeekdaysParse,T),b!==-1?b:null):u==="dddd"?(b=ge.call(this._weekdaysParse,T),b!==-1||(b=ge.call(this._shortWeekdaysParse,T),b!==-1)?b:(b=ge.call(this._minWeekdaysParse,T),b!==-1?b:null)):u==="ddd"?(b=ge.call(this._shortWeekdaysParse,T),b!==-1||(b=ge.call(this._weekdaysParse,T),b!==-1)?b:(b=ge.call(this._minWeekdaysParse,T),b!==-1?b:null)):(b=ge.call(this._minWeekdaysParse,T),b!==-1||(b=ge.call(this._weekdaysParse,T),b!==-1)?b:(b=ge.call(this._shortWeekdaysParse,T),b!==-1?b:null))}r(Rp,"handleStrictParse$1");function Np(o,u,d){var m,b,x;if(this._weekdaysParseExact)return Rp.call(this,o,u,d);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),m=0;m<7;m++){if(b=y([2e3,1]).day(m),d&&!this._fullWeekdaysParse[m]&&(this._fullWeekdaysParse[m]=new RegExp("^"+this.weekdays(b,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[m]=new RegExp("^"+this.weekdaysShort(b,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[m]=new RegExp("^"+this.weekdaysMin(b,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[m]||(x="^"+this.weekdays(b,"")+"|^"+this.weekdaysShort(b,"")+"|^"+this.weekdaysMin(b,""),this._weekdaysParse[m]=new RegExp(x.replace(".",""),"i")),d&&u==="dddd"&&this._fullWeekdaysParse[m].test(o))return m;if(d&&u==="ddd"&&this._shortWeekdaysParse[m].test(o))return m;if(d&&u==="dd"&&this._minWeekdaysParse[m].test(o))return m;if(!d&&this._weekdaysParse[m].test(o))return m}}r(Np,"localeWeekdaysParse");function Bp(o){if(!this.isValid())return o!=null?this:NaN;var u=Cr(this,"Day");return o!=null?(o=Ep(o,this.localeData()),this.add(o-u,"d")):u}r(Bp,"getSetDayOfWeek");function Vp(o){if(!this.isValid())return o!=null?this:NaN;var u=(this.day()+7-this.localeData()._week.dow)%7;return o==null?u:this.add(o-u,"d")}r(Vp,"getSetLocaleDayOfWeek");function Wp(o){if(!this.isValid())return o!=null?this:NaN;if(o!=null){var u=Tp(o,this.localeData());return this.day(this.day()%7?u:u-7)}else return this.day()||7}r(Wp,"getSetISODayOfWeek");function Yp(o){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||zo.call(this),o?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=_p),this._weekdaysStrictRegex&&o?this._weekdaysStrictRegex:this._weekdaysRegex)}r(Yp,"weekdaysRegex");function zp(o){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||zo.call(this),o?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Op),this._weekdaysShortStrictRegex&&o?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}r(zp,"weekdaysShortRegex");function Up(o){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||zo.call(this),o?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Mp),this._weekdaysMinStrictRegex&&o?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}r(Up,"weekdaysMinRegex");function zo(){function o(Ve,Gt){return Gt.length-Ve.length}r(o,"cmpLenRev");var u=[],d=[],m=[],b=[],x,T,N,H,ne;for(x=0;x<7;x++)T=y([2e3,1]).day(x),N=Vt(this.weekdaysMin(T,"")),H=Vt(this.weekdaysShort(T,"")),ne=Vt(this.weekdays(T,"")),u.push(N),d.push(H),m.push(ne),b.push(N),b.push(H),b.push(ne);u.sort(o),d.sort(o),m.sort(o),b.sort(o),this._weekdaysRegex=new RegExp("^("+b.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+m.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+u.join("|")+")","i")}r(zo,"computeWeekdaysParse");function Uo(){return this.hours()%12||12}r(Uo,"hFormat");function $p(){return this.hours()||24}r($p,"kFormat"),k("H",["HH",2],0,"hour"),k("h",["hh",2],0,Uo),k("k",["kk",2],0,$p),k("hmm",0,0,function(){return""+Uo.apply(this)+ce(this.minutes(),2)}),k("hmmss",0,0,function(){return""+Uo.apply(this)+ce(this.minutes(),2)+ce(this.seconds(),2)}),k("Hmm",0,0,function(){return""+this.hours()+ce(this.minutes(),2)}),k("Hmmss",0,0,function(){return""+this.hours()+ce(this.minutes(),2)+ce(this.seconds(),2)});function yu(o,u){k(o,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),u)})}r(yu,"meridiem"),yu("a",!0),yu("A",!1);function wu(o,u){return u._meridiemParse}r(wu,"matchMeridiem"),B("a",wu),B("A",wu),B("H",R,Bo),B("h",R,Dn),B("k",R,Dn),B("HH",R,Ne),B("hh",R,Ne),B("kk",R,Ne),B("hmm",X),B("hmmss",ae),B("Hmm",X),B("Hmmss",ae),fe(["H","HH"],xe),fe(["k","kk"],function(o,u,d){var m=ee(o);u[xe]=m===24?0:m}),fe(["a","A"],function(o,u,d){d._isPm=d._locale.isPM(o),d._meridiem=o}),fe(["h","hh"],function(o,u,d){u[xe]=ee(o),v(d).bigHour=!0}),fe("hmm",function(o,u,d){var m=o.length-2;u[xe]=ee(o.substr(0,m)),u[kt]=ee(o.substr(m)),v(d).bigHour=!0}),fe("hmmss",function(o,u,d){var m=o.length-4,b=o.length-2;u[xe]=ee(o.substr(0,m)),u[kt]=ee(o.substr(m,2)),u[Yt]=ee(o.substr(b)),v(d).bigHour=!0}),fe("Hmm",function(o,u,d){var m=o.length-2;u[xe]=ee(o.substr(0,m)),u[kt]=ee(o.substr(m))}),fe("Hmmss",function(o,u,d){var m=o.length-4,b=o.length-2;u[xe]=ee(o.substr(0,m)),u[kt]=ee(o.substr(m,2)),u[Yt]=ee(o.substr(b))});function Hp(o){return(o+"").toLowerCase().charAt(0)==="p"}r(Hp,"localeIsPM");var jp=/[ap]\.?m?\.?/i,Gp=Rn("Hours",!0);function Kp(o,u,d){return o>11?d?"pm":"PM":d?"am":"AM"}r(Kp,"localeMeridiem");var bu={calendar:J,longDateFormat:ke,invalidDate:gt,ordinal:Xt,dayOfMonthOrdinalParse:wr,relativeTime:ri,months:up,monthsShort:cu,week:xp,weekdays:Pp,weekdaysMin:Fp,weekdaysShort:gu,meridiemParse:jp},me={},Sr={},Er;function qp(o,u){var d,m=Math.min(o.length,u.length);for(d=0;d<m;d+=1)if(o[d]!==u[d])return d;return m}r(qp,"commonPrefix");function ku(o){return o&&o.toLowerCase().replace("_","-")}r(ku,"normalizeLocale");function Jp(o){for(var u=0,d,m,b,x;u<o.length;){for(x=ku(o[u]).split("-"),d=x.length,m=ku(o[u+1]),m=m?m.split("-"):null;d>0;){if(b=di(x.slice(0,d).join("-")),b)return b;if(m&&m.length>=d&&qp(x,m)>=d-1)break;d--}u++}return Er}r(Jp,"chooseLocale");function Zp(o){return!!(o&&o.match("^[^/\\\\]*$"))}r(Zp,"isLocaleNameSane");function di(o){var u=null,d;if(me[o]===void 0&&typeof mr<"u"&&mr&&mr.exports&&Zp(o))try{u=Er._abbr,d=require,d("./locale/"+o),en(u)}catch{me[o]=null}return me[o]}r(di,"loadLocale");function en(o,u){var d;return o&&(c(u)?d=Ut(o):d=$o(o,u),d?Er=d:typeof console<"u"&&console.warn&&console.warn("Locale "+o+" not found. Did you forget to load it?")),Er._abbr}r(en,"getSetGlobalLocale");function $o(o,u){if(u!==null){var d,m=bu;if(u.abbr=o,me[o]!=null)Q("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),m=me[o]._config;else if(u.parentLocale!=null)if(me[u.parentLocale]!=null)m=me[u.parentLocale]._config;else if(d=di(u.parentLocale),d!=null)m=d._config;else return Sr[u.parentLocale]||(Sr[u.parentLocale]=[]),Sr[u.parentLocale].push({name:o,config:u}),null;return me[o]=new z(D(m,u)),Sr[o]&&Sr[o].forEach(function(b){$o(b.name,b.config)}),en(o),me[o]}else return delete me[o],null}r($o,"defineLocale");function Qp(o,u){if(u!=null){var d,m,b=bu;me[o]!=null&&me[o].parentLocale!=null?me[o].set(D(me[o]._config,u)):(m=di(o),m!=null&&(b=m._config),u=D(b,u),m==null&&(u.abbr=o),d=new z(u),d.parentLocale=me[o],me[o]=d),en(o)}else me[o]!=null&&(me[o].parentLocale!=null?(me[o]=me[o].parentLocale,o===en()&&en(o)):me[o]!=null&&delete me[o]);return me[o]}r(Qp,"updateLocale");function Ut(o){var u;if(o&&o._locale&&o._locale._abbr&&(o=o._locale._abbr),!o)return Er;if(!i(o)){if(u=di(o),u)return u;o=[o]}return Jp(o)}r(Ut,"getLocale");function Xp(){return U(me)}r(Xp,"listLocales");function Ho(o){var u,d=o._a;return d&&v(o).overflow===-2&&(u=d[Wt]<0||d[Wt]>11?Wt:d[Tt]<1||d[Tt]>Wo(d[Me],d[Wt])?Tt:d[xe]<0||d[xe]>24||d[xe]===24&&(d[kt]!==0||d[Yt]!==0||d[mn]!==0)?xe:d[kt]<0||d[kt]>59?kt:d[Yt]<0||d[Yt]>59?Yt:d[mn]<0||d[mn]>999?mn:-1,v(o)._overflowDayOfYear&&(u<Me||u>Tt)&&(u=Tt),v(o)._overflowWeeks&&u===-1&&(u=rp),v(o)._overflowWeekday&&u===-1&&(u=ip),v(o).overflow=u),o}r(Ho,"checkOverflow");var em=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tm=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,nm=/Z|[+-]\d\d(?::?\d\d)?/,hi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],jo=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],rm=/^\/?Date\((-?\d+)/i,im=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,sm={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function xu(o){var u,d,m=o._i,b=em.exec(m)||tm.exec(m),x,T,N,H,ne=hi.length,Ve=jo.length;if(b){for(v(o).iso=!0,u=0,d=ne;u<d;u++)if(hi[u][1].exec(b[1])){T=hi[u][0],x=hi[u][2]!==!1;break}if(T==null){o._isValid=!1;return}if(b[3]){for(u=0,d=Ve;u<d;u++)if(jo[u][1].exec(b[3])){N=(b[2]||" ")+jo[u][0];break}if(N==null){o._isValid=!1;return}}if(!x&&N!=null){o._isValid=!1;return}if(b[4])if(nm.exec(b[4]))H="Z";else{o._isValid=!1;return}o._f=T+(N||"")+(H||""),Ko(o)}else o._isValid=!1}r(xu,"configFromISO");function om(o,u,d,m,b,x){var T=[am(o),cu.indexOf(u),parseInt(d,10),parseInt(m,10),parseInt(b,10)];return x&&T.push(parseInt(x,10)),T}r(om,"extractFromRFC2822Strings");function am(o){var u=parseInt(o,10);return u<=49?2e3+u:u<=999?1900+u:u}r(am,"untruncateYear");function lm(o){return o.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}r(lm,"preprocessRFC2822");function um(o,u,d){if(o){var m=gu.indexOf(o),b=new Date(u[0],u[1],u[2]).getDay();if(m!==b)return v(d).weekdayMismatch=!0,d._isValid=!1,!1}return!0}r(um,"checkWeekday");function cm(o,u,d){if(o)return sm[o];if(u)return 0;var m=parseInt(d,10),b=m%100,x=(m-b)/100;return x*60+b}r(cm,"calculateOffset");function Cu(o){var u=im.exec(lm(o._i)),d;if(u){if(d=om(u[4],u[3],u[2],u[5],u[6],u[7]),!um(u[1],d,o))return;o._a=d,o._tzm=cm(u[8],u[9],u[10]),o._d=vr.apply(null,o._a),o._d.setUTCMinutes(o._d.getUTCMinutes()-o._tzm),v(o).rfc2822=!0}else o._isValid=!1}r(Cu,"configFromRFC2822");function fm(o){var u=rm.exec(o._i);if(u!==null){o._d=new Date(+u[1]);return}if(xu(o),o._isValid===!1)delete o._isValid;else return;if(Cu(o),o._isValid===!1)delete o._isValid;else return;o._strict?o._isValid=!1:e.createFromInputFallback(o)}r(fm,"configFromString"),e.createFromInputFallback=K("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(o){o._d=new Date(o._i+(o._useUTC?" UTC":""))});function Nn(o,u,d){return o??u??d}r(Nn,"defaults");function dm(o){var u=new Date(e.now());return o._useUTC?[u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()]:[u.getFullYear(),u.getMonth(),u.getDate()]}r(dm,"currentDateArray");function Go(o){var u,d,m=[],b,x,T;if(!o._d){for(b=dm(o),o._w&&o._a[Tt]==null&&o._a[Wt]==null&&hm(o),o._dayOfYear!=null&&(T=Nn(o._a[Me],b[Me]),(o._dayOfYear>xr(T)||o._dayOfYear===0)&&(v(o)._overflowDayOfYear=!0),d=vr(T,0,o._dayOfYear),o._a[Wt]=d.getUTCMonth(),o._a[Tt]=d.getUTCDate()),u=0;u<3&&o._a[u]==null;++u)o._a[u]=m[u]=b[u];for(;u<7;u++)o._a[u]=m[u]=o._a[u]==null?u===2?1:0:o._a[u];o._a[xe]===24&&o._a[kt]===0&&o._a[Yt]===0&&o._a[mn]===0&&(o._nextDay=!0,o._a[xe]=0),o._d=(o._useUTC?vr:bp).apply(null,m),x=o._useUTC?o._d.getUTCDay():o._d.getDay(),o._tzm!=null&&o._d.setUTCMinutes(o._d.getUTCMinutes()-o._tzm),o._nextDay&&(o._a[xe]=24),o._w&&typeof o._w.d<"u"&&o._w.d!==x&&(v(o).weekdayMismatch=!0)}}r(Go,"configFromArray");function hm(o){var u,d,m,b,x,T,N,H,ne;u=o._w,u.GG!=null||u.W!=null||u.E!=null?(x=1,T=4,d=Nn(u.GG,o._a[Me],Ar(he(),1,4).year),m=Nn(u.W,1),b=Nn(u.E,1),(b<1||b>7)&&(H=!0)):(x=o._locale._week.dow,T=o._locale._week.doy,ne=Ar(he(),x,T),d=Nn(u.gg,o._a[Me],ne.year),m=Nn(u.w,ne.week),u.d!=null?(b=u.d,(b<0||b>6)&&(H=!0)):u.e!=null?(b=u.e+x,(u.e<0||u.e>6)&&(H=!0)):b=x),m<1||m>zt(d,x,T)?v(o)._overflowWeeks=!0:H!=null?v(o)._overflowWeekday=!0:(N=mu(d,m,b,x,T),o._a[Me]=N.year,o._dayOfYear=N.dayOfYear)}r(hm,"dayOfYearFromWeekInfo"),e.ISO_8601=function(){},e.RFC_2822=function(){};function Ko(o){if(o._f===e.ISO_8601){xu(o);return}if(o._f===e.RFC_2822){Cu(o);return}o._a=[],v(o).empty=!0;var u=""+o._i,d,m,b,x,T,N=u.length,H=0,ne,Ve;for(b=hn(o._f,o._locale).match(be)||[],Ve=b.length,d=0;d<Ve;d++)x=b[d],m=(u.match(ep(x,o))||[])[0],m&&(T=u.substr(0,u.indexOf(m)),T.length>0&&v(o).unusedInput.push(T),u=u.slice(u.indexOf(m)+m.length),H+=m.length),pe[x]?(m?v(o).empty=!1:v(o).unusedTokens.push(x),np(x,m,o)):o._strict&&!m&&v(o).unusedTokens.push(x);v(o).charsLeftOver=N-H,u.length>0&&v(o).unusedInput.push(u),o._a[xe]<=12&&v(o).bigHour===!0&&o._a[xe]>0&&(v(o).bigHour=void 0),v(o).parsedDateParts=o._a.slice(0),v(o).meridiem=o._meridiem,o._a[xe]=pm(o._locale,o._a[xe],o._meridiem),ne=v(o).era,ne!==null&&(o._a[Me]=o._locale.erasConvertYear(ne,o._a[Me])),Go(o),Ho(o)}r(Ko,"configFromStringAndFormat");function pm(o,u,d){var m;return d==null?u:o.meridiemHour!=null?o.meridiemHour(u,d):(o.isPM!=null&&(m=o.isPM(d),m&&u<12&&(u+=12),!m&&u===12&&(u=0)),u)}r(pm,"meridiemFixWrap");function mm(o){var u,d,m,b,x,T,N=!1,H=o._f.length;if(H===0){v(o).invalidFormat=!0,o._d=new Date(NaN);return}for(b=0;b<H;b++)x=0,T=!1,u=I({},o),o._useUTC!=null&&(u._useUTC=o._useUTC),u._f=o._f[b],Ko(u),S(u)&&(T=!0),x+=v(u).charsLeftOver,x+=v(u).unusedTokens.length*10,v(u).score=x,N?x<m&&(m=x,d=u):(m==null||x<m||T)&&(m=x,d=u,T&&(N=!0));g(o,d||u)}r(mm,"configFromStringAndArray");function gm(o){if(!o._d){var u=In(o._i),d=u.day===void 0?u.date:u.day;o._a=p([u.year,u.month,d,u.hour,u.minute,u.second,u.millisecond],function(m){return m&&parseInt(m,10)}),Go(o)}}r(gm,"configFromObject");function ym(o){var u=new W(Ho(vu(o)));return u._nextDay&&(u.add(1,"d"),u._nextDay=void 0),u}r(ym,"createFromConfig");function vu(o){var u=o._i,d=o._f;return o._locale=o._locale||Ut(o._l),u===null||d===void 0&&u===""?A({nullInput:!0}):(typeof u=="string"&&(o._i=u=o._locale.preparse(u)),E(u)?new W(Ho(u)):(h(u)?o._d=u:i(d)?mm(o):d?Ko(o):wm(o),S(o)||(o._d=null),o))}r(vu,"prepareConfig");function wm(o){var u=o._i;c(u)?o._d=new Date(e.now()):h(u)?o._d=new Date(u.valueOf()):typeof u=="string"?fm(o):i(u)?(o._a=p(u.slice(0),function(d){return parseInt(d,10)}),Go(o)):s(u)?gm(o):f(u)?o._d=new Date(u):e.createFromInputFallback(o)}r(wm,"configFromInput");function Au(o,u,d,m,b){var x={};return(u===!0||u===!1)&&(m=u,u=void 0),(d===!0||d===!1)&&(m=d,d=void 0),(s(o)&&l(o)||i(o)&&o.length===0)&&(o=void 0),x._isAMomentObject=!0,x._useUTC=x._isUTC=b,x._l=d,x._i=o,x._f=u,x._strict=m,ym(x)}r(Au,"createLocalOrUTC");function he(o,u,d,m){return Au(o,u,d,m,!1)}r(he,"createLocal");var bm=K("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var o=he.apply(null,arguments);return this.isValid()&&o.isValid()?o<this?this:o:A()}),km=K("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var o=he.apply(null,arguments);return this.isValid()&&o.isValid()?o>this?this:o:A()});function Su(o,u){var d,m;if(u.length===1&&i(u[0])&&(u=u[0]),!u.length)return he();for(d=u[0],m=1;m<u.length;++m)(!u[m].isValid()||u[m][o](d))&&(d=u[m]);return d}r(Su,"pickBy");function xm(){var o=[].slice.call(arguments,0);return Su("isBefore",o)}r(xm,"min");function Cm(){var o=[].slice.call(arguments,0);return Su("isAfter",o)}r(Cm,"max");var vm=r(function(){return Date.now?Date.now():+new Date},"now"),Tr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Am(o){var u,d=!1,m,b=Tr.length;for(u in o)if(a(o,u)&&!(ge.call(Tr,u)!==-1&&(o[u]==null||!isNaN(o[u]))))return!1;for(m=0;m<b;++m)if(o[Tr[m]]){if(d)return!1;parseFloat(o[Tr[m]])!==ee(o[Tr[m]])&&(d=!0)}return!0}r(Am,"isDurationValid");function Sm(){return this._isValid}r(Sm,"isValid$1");function Em(){return xt(NaN)}r(Em,"createInvalid$1");function pi(o){var u=In(o),d=u.year||0,m=u.quarter||0,b=u.month||0,x=u.week||u.isoWeek||0,T=u.day||0,N=u.hour||0,H=u.minute||0,ne=u.second||0,Ve=u.millisecond||0;this._isValid=Am(u),this._milliseconds=+Ve+ne*1e3+H*6e4+N*1e3*60*60,this._days=+T+x*7,this._months=+b+m*3+d*12,this._data={},this._locale=Ut(),this._bubble()}r(pi,"Duration");function mi(o){return o instanceof pi}r(mi,"isDuration");function qo(o){return o<0?Math.round(-1*o)*-1:Math.round(o)}r(qo,"absRound");function Tm(o,u,d){var m=Math.min(o.length,u.length),b=Math.abs(o.length-u.length),x=0,T;for(T=0;T<m;T++)(d&&o[T]!==u[T]||!d&&ee(o[T])!==ee(u[T]))&&x++;return x+b}r(Tm,"compareArrays");function Eu(o,u){k(o,0,0,function(){var d=this.utcOffset(),m="+";return d<0&&(d=-d,m="-"),m+ce(~~(d/60),2)+u+ce(~~d%60,2)})}r(Eu,"offset"),Eu("Z",":"),Eu("ZZ",""),B("Z",wt),B("ZZ",wt),fe(["Z","ZZ"],function(o,u,d){d._useUTC=!0,d._tzm=Jo(wt,o)});var Pm=/([\+\-]|\d\d)/gi;function Jo(o,u){var d=(u||"").match(o),m,b,x;return d===null?null:(m=d[d.length-1]||[],b=(m+"").match(Pm)||["-",0,0],x=+(b[1]*60)+ee(b[2]),x===0?0:b[0]==="+"?x:-x)}r(Jo,"offsetFromString");function Zo(o,u){var d,m;return u._isUTC?(d=u.clone(),m=(E(o)||h(o)?o.valueOf():he(o).valueOf())-d.valueOf(),d._d.setTime(d._d.valueOf()+m),e.updateOffset(d,!1),d):he(o).local()}r(Zo,"cloneWithOffset");function Qo(o){return-Math.round(o._d.getTimezoneOffset())}r(Qo,"getDateOffset"),e.updateOffset=function(){};function Fm(o,u,d){var m=this._offset||0,b;if(!this.isValid())return o!=null?this:NaN;if(o!=null){if(typeof o=="string"){if(o=Jo(wt,o),o===null)return this}else Math.abs(o)<16&&!d&&(o=o*60);return!this._isUTC&&u&&(b=Qo(this)),this._offset=o,this._isUTC=!0,b!=null&&this.add(b,"m"),m!==o&&(!u||this._changeInProgress?_u(this,xt(o-m,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?m:Qo(this)}r(Fm,"getSetOffset");function _m(o,u){return o!=null?(typeof o!="string"&&(o=-o),this.utcOffset(o,u),this):-this.utcOffset()}r(_m,"getSetZone");function Om(o){return this.utcOffset(0,o)}r(Om,"setOffsetToUTC");function Mm(o){return this._isUTC&&(this.utcOffset(0,o),this._isUTC=!1,o&&this.subtract(Qo(this),"m")),this}r(Mm,"setOffsetToLocal");function Lm(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var o=Jo(Be,this._i);o!=null?this.utcOffset(o):this.utcOffset(0,!0)}return this}r(Lm,"setOffsetToParsedOffset");function Im(o){return this.isValid()?(o=o?he(o).utcOffset():0,(this.utcOffset()-o)%60===0):!1}r(Im,"hasAlignedHourOffset");function Dm(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}r(Dm,"isDaylightSavingTime");function Rm(){if(!c(this._isDSTShifted))return this._isDSTShifted;var o={},u;return I(o,this),o=vu(o),o._a?(u=o._isUTC?y(o._a):he(o._a),this._isDSTShifted=this.isValid()&&Tm(o._a,u.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}r(Rm,"isDaylightSavingTimeShifted");function Nm(){return this.isValid()?!this._isUTC:!1}r(Nm,"isLocal");function Bm(){return this.isValid()?this._isUTC:!1}r(Bm,"isUtcOffset");function Tu(){return this.isValid()?this._isUTC&&this._offset===0:!1}r(Tu,"isUtc");var Vm=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Wm=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function xt(o,u){var d=o,m=null,b,x,T;return mi(o)?d={ms:o._milliseconds,d:o._days,M:o._months}:f(o)||!isNaN(+o)?(d={},u?d[u]=+o:d.milliseconds=+o):(m=Vm.exec(o))?(b=m[1]==="-"?-1:1,d={y:0,d:ee(m[Tt])*b,h:ee(m[xe])*b,m:ee(m[kt])*b,s:ee(m[Yt])*b,ms:ee(qo(m[mn]*1e3))*b}):(m=Wm.exec(o))?(b=m[1]==="-"?-1:1,d={y:gn(m[2],b),M:gn(m[3],b),w:gn(m[4],b),d:gn(m[5],b),h:gn(m[6],b),m:gn(m[7],b),s:gn(m[8],b)}):d==null?d={}:typeof d=="object"&&("from"in d||"to"in d)&&(T=Ym(he(d.from),he(d.to)),d={},d.ms=T.milliseconds,d.M=T.months),x=new pi(d),mi(o)&&a(o,"_locale")&&(x._locale=o._locale),mi(o)&&a(o,"_isValid")&&(x._isValid=o._isValid),x}r(xt,"createDuration"),xt.fn=pi.prototype,xt.invalid=Em;function gn(o,u){var d=o&&parseFloat(o.replace(",","."));return(isNaN(d)?0:d)*u}r(gn,"parseIso");function Pu(o,u){var d={};return d.months=u.month()-o.month()+(u.year()-o.year())*12,o.clone().add(d.months,"M").isAfter(u)&&--d.months,d.milliseconds=+u-+o.clone().add(d.months,"M"),d}r(Pu,"positiveMomentsDifference");function Ym(o,u){var d;return o.isValid()&&u.isValid()?(u=Zo(u,o),o.isBefore(u)?d=Pu(o,u):(d=Pu(u,o),d.milliseconds=-d.milliseconds,d.months=-d.months),d):{milliseconds:0,months:0}}r(Ym,"momentsDifference");function Fu(o,u){return function(d,m){var b,x;return m!==null&&!isNaN(+m)&&(Q(u,"moment()."+u+"(period, number) is deprecated. Please use moment()."+u+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),x=d,d=m,m=x),b=xt(d,m),_u(this,b,o),this}}r(Fu,"createAdder");function _u(o,u,d,m){var b=u._milliseconds,x=qo(u._days),T=qo(u._months);o.isValid()&&(m=m??!0,T&&du(o,Cr(o,"Month")+T*d),x&&uu(o,"Date",Cr(o,"Date")+x*d),b&&o._d.setTime(o._d.valueOf()+b*d),m&&e.updateOffset(o,x||T))}r(_u,"addSubtract");var zm=Fu(1,"add"),Um=Fu(-1,"subtract");function Ou(o){return typeof o=="string"||o instanceof String}r(Ou,"isString");function $m(o){return E(o)||h(o)||Ou(o)||f(o)||jm(o)||Hm(o)||o===null||o===void 0}r($m,"isMomentInput");function Hm(o){var u=s(o)&&!l(o),d=!1,m=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],b,x,T=m.length;for(b=0;b<T;b+=1)x=m[b],d=d||a(o,x);return u&&d}r(Hm,"isMomentInputObject");function jm(o){var u=i(o),d=!1;return u&&(d=o.filter(function(m){return!f(m)&&Ou(o)}).length===0),u&&d}r(jm,"isNumberOrStringArray");function Gm(o){var u=s(o)&&!l(o),d=!1,m=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],b,x;for(b=0;b<m.length;b+=1)x=m[b],d=d||a(o,x);return u&&d}r(Gm,"isCalendarSpec");function Km(o,u){var d=o.diff(u,"days",!0);return d<-6?"sameElse":d<-1?"lastWeek":d<0?"lastDay":d<1?"sameDay":d<2?"nextDay":d<7?"nextWeek":"sameElse"}r(Km,"getCalendarFormat");function qm(o,u){arguments.length===1&&(arguments[0]?$m(arguments[0])?(o=arguments[0],u=void 0):Gm(arguments[0])&&(u=arguments[0],o=void 0):(o=void 0,u=void 0));var d=o||he(),m=Zo(d,this).startOf("day"),b=e.calendarFormat(this,m)||"sameElse",x=u&&(ue(u[b])?u[b].call(this,d):u[b]);return this.format(x||this.localeData().calendar(b,this,he(d)))}r(qm,"calendar$1");function Jm(){return new W(this)}r(Jm,"clone");function Zm(o,u){var d=E(o)?o:he(o);return this.isValid()&&d.isValid()?(u=Re(u)||"millisecond",u==="millisecond"?this.valueOf()>d.valueOf():d.valueOf()<this.clone().startOf(u).valueOf()):!1}r(Zm,"isAfter");function Qm(o,u){var d=E(o)?o:he(o);return this.isValid()&&d.isValid()?(u=Re(u)||"millisecond",u==="millisecond"?this.valueOf()<d.valueOf():this.clone().endOf(u).valueOf()<d.valueOf()):!1}r(Qm,"isBefore");function Xm(o,u,d,m){var b=E(o)?o:he(o),x=E(u)?u:he(u);return this.isValid()&&b.isValid()&&x.isValid()?(m=m||"()",(m[0]==="("?this.isAfter(b,d):!this.isBefore(b,d))&&(m[1]===")"?this.isBefore(x,d):!this.isAfter(x,d))):!1}r(Xm,"isBetween");function eg(o,u){var d=E(o)?o:he(o),m;return this.isValid()&&d.isValid()?(u=Re(u)||"millisecond",u==="millisecond"?this.valueOf()===d.valueOf():(m=d.valueOf(),this.clone().startOf(u).valueOf()<=m&&m<=this.clone().endOf(u).valueOf())):!1}r(eg,"isSame");function tg(o,u){return this.isSame(o,u)||this.isAfter(o,u)}r(tg,"isSameOrAfter");function ng(o,u){return this.isSame(o,u)||this.isBefore(o,u)}r(ng,"isSameOrBefore");function rg(o,u,d){var m,b,x;if(!this.isValid())return NaN;if(m=Zo(o,this),!m.isValid())return NaN;switch(b=(m.utcOffset()-this.utcOffset())*6e4,u=Re(u),u){case"year":x=gi(this,m)/12;break;case"month":x=gi(this,m);break;case"quarter":x=gi(this,m)/3;break;case"second":x=(this-m)/1e3;break;case"minute":x=(this-m)/6e4;break;case"hour":x=(this-m)/36e5;break;case"day":x=(this-m-b)/864e5;break;case"week":x=(this-m-b)/6048e5;break;default:x=this-m}return d?x:at(x)}r(rg,"diff");function gi(o,u){if(o.date()<u.date())return-gi(u,o);var d=(u.year()-o.year())*12+(u.month()-o.month()),m=o.clone().add(d,"months"),b,x;return u-m<0?(b=o.clone().add(d-1,"months"),x=(u-m)/(m-b)):(b=o.clone().add(d+1,"months"),x=(u-m)/(b-m)),-(d+x)||0}r(gi,"monthDiff"),e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function ig(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}r(ig,"toString");function sg(o){if(!this.isValid())return null;var u=o!==!0,d=u?this.clone().utc():this;return d.year()<0||d.year()>9999?Qt(d,u?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ue(Date.prototype.toISOString)?u?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Qt(d,"Z")):Qt(d,u?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}r(sg,"toISOString");function og(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var o="moment",u="",d,m,b,x;return this.isLocal()||(o=this.utcOffset()===0?"moment.utc":"moment.parseZone",u="Z"),d="["+o+'("]',m=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",b="-MM-DD[T]HH:mm:ss.SSS",x=u+'[")]',this.format(d+m+b+x)}r(og,"inspect");function ag(o){o||(o=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var u=Qt(this,o);return this.localeData().postformat(u)}r(ag,"format");function lg(o,u){return this.isValid()&&(E(o)&&o.isValid()||he(o).isValid())?xt({to:this,from:o}).locale(this.locale()).humanize(!u):this.localeData().invalidDate()}r(lg,"from");function ug(o){return this.from(he(),o)}r(ug,"fromNow");function cg(o,u){return this.isValid()&&(E(o)&&o.isValid()||he(o).isValid())?xt({from:this,to:o}).locale(this.locale()).humanize(!u):this.localeData().invalidDate()}r(cg,"to");function fg(o){return this.to(he(),o)}r(fg,"toNow");function Mu(o){var u;return o===void 0?this._locale._abbr:(u=Ut(o),u!=null&&(this._locale=u),this)}r(Mu,"locale");var Lu=K("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(o){return o===void 0?this.localeData():this.locale(o)});function Iu(){return this._locale}r(Iu,"localeData");var yi=1e3,Bn=60*yi,wi=60*Bn,Du=(365*400+97)*24*wi;function Vn(o,u){return(o%u+u)%u}r(Vn,"mod$1");function Ru(o,u,d){return o<100&&o>=0?new Date(o+400,u,d)-Du:new Date(o,u,d).valueOf()}r(Ru,"localStartOfDate");function Nu(o,u,d){return o<100&&o>=0?Date.UTC(o+400,u,d)-Du:Date.UTC(o,u,d)}r(Nu,"utcStartOfDate");function dg(o){var u,d;if(o=Re(o),o===void 0||o==="millisecond"||!this.isValid())return this;switch(d=this._isUTC?Nu:Ru,o){case"year":u=d(this.year(),0,1);break;case"quarter":u=d(this.year(),this.month()-this.month()%3,1);break;case"month":u=d(this.year(),this.month(),1);break;case"week":u=d(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":u=d(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":u=d(this.year(),this.month(),this.date());break;case"hour":u=this._d.valueOf(),u-=Vn(u+(this._isUTC?0:this.utcOffset()*Bn),wi);break;case"minute":u=this._d.valueOf(),u-=Vn(u,Bn);break;case"second":u=this._d.valueOf(),u-=Vn(u,yi);break}return this._d.setTime(u),e.updateOffset(this,!0),this}r(dg,"startOf");function hg(o){var u,d;if(o=Re(o),o===void 0||o==="millisecond"||!this.isValid())return this;switch(d=this._isUTC?Nu:Ru,o){case"year":u=d(this.year()+1,0,1)-1;break;case"quarter":u=d(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":u=d(this.year(),this.month()+1,1)-1;break;case"week":u=d(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":u=d(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":u=d(this.year(),this.month(),this.date()+1)-1;break;case"hour":u=this._d.valueOf(),u+=wi-Vn(u+(this._isUTC?0:this.utcOffset()*Bn),wi)-1;break;case"minute":u=this._d.valueOf(),u+=Bn-Vn(u,Bn)-1;break;case"second":u=this._d.valueOf(),u+=yi-Vn(u,yi)-1;break}return this._d.setTime(u),e.updateOffset(this,!0),this}r(hg,"endOf");function pg(){return this._d.valueOf()-(this._offset||0)*6e4}r(pg,"valueOf");function mg(){return Math.floor(this.valueOf()/1e3)}r(mg,"unix");function gg(){return new Date(this.valueOf())}r(gg,"toDate");function yg(){var o=this;return[o.year(),o.month(),o.date(),o.hour(),o.minute(),o.second(),o.millisecond()]}r(yg,"toArray");function wg(){var o=this;return{years:o.year(),months:o.month(),date:o.date(),hours:o.hours(),minutes:o.minutes(),seconds:o.seconds(),milliseconds:o.milliseconds()}}r(wg,"toObject");function bg(){return this.isValid()?this.toISOString():null}r(bg,"toJSON");function kg(){return S(this)}r(kg,"isValid$2");function xg(){return g({},v(this))}r(xg,"parsingFlags");function Cg(){return v(this).overflow}r(Cg,"invalidAt");function vg(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}r(vg,"creationData"),k("N",0,0,"eraAbbr"),k("NN",0,0,"eraAbbr"),k("NNN",0,0,"eraAbbr"),k("NNNN",0,0,"eraName"),k("NNNNN",0,0,"eraNarrow"),k("y",["y",1],"yo","eraYear"),k("y",["yy",2],0,"eraYear"),k("y",["yyy",3],0,"eraYear"),k("y",["yyyy",4],0,"eraYear"),B("N",Xo),B("NN",Xo),B("NNN",Xo),B("NNNN",Ig),B("NNNNN",Dg),fe(["N","NN","NNN","NNNN","NNNNN"],function(o,u,d,m){var b=d._locale.erasParse(o,m,d._strict);b?v(d).era=b:v(d).invalidEra=o}),B("y",ot),B("yy",ot),B("yyy",ot),B("yyyy",ot),B("yo",Rg),fe(["y","yy","yyy","yyyy"],Me),fe(["yo"],function(o,u,d,m){var b;d._locale._eraYearOrdinalRegex&&(b=o.match(d._locale._eraYearOrdinalRegex)),d._locale.eraYearOrdinalParse?u[Me]=d._locale.eraYearOrdinalParse(o,b):u[Me]=parseInt(o,10)});function Ag(o,u){var d,m,b,x=this._eras||Ut("en")._eras;for(d=0,m=x.length;d<m;++d){switch(typeof x[d].since){case"string":b=e(x[d].since).startOf("day"),x[d].since=b.valueOf();break}switch(typeof x[d].until){case"undefined":x[d].until=1/0;break;case"string":b=e(x[d].until).startOf("day").valueOf(),x[d].until=b.valueOf();break}}return x}r(Ag,"localeEras");function Sg(o,u,d){var m,b,x=this.eras(),T,N,H;for(o=o.toUpperCase(),m=0,b=x.length;m<b;++m)if(T=x[m].name.toUpperCase(),N=x[m].abbr.toUpperCase(),H=x[m].narrow.toUpperCase(),d)switch(u){case"N":case"NN":case"NNN":if(N===o)return x[m];break;case"NNNN":if(T===o)return x[m];break;case"NNNNN":if(H===o)return x[m];break}else if([T,N,H].indexOf(o)>=0)return x[m]}r(Sg,"localeErasParse");function Eg(o,u){var d=o.since<=o.until?1:-1;return u===void 0?e(o.since).year():e(o.since).year()+(u-o.offset)*d}r(Eg,"localeErasConvertYear");function Tg(){var o,u,d,m=this.localeData().eras();for(o=0,u=m.length;o<u;++o)if(d=this.clone().startOf("day").valueOf(),m[o].since<=d&&d<=m[o].until||m[o].until<=d&&d<=m[o].since)return m[o].name;return""}r(Tg,"getEraName");function Pg(){var o,u,d,m=this.localeData().eras();for(o=0,u=m.length;o<u;++o)if(d=this.clone().startOf("day").valueOf(),m[o].since<=d&&d<=m[o].until||m[o].until<=d&&d<=m[o].since)return m[o].narrow;return""}r(Pg,"getEraNarrow");function Fg(){var o,u,d,m=this.localeData().eras();for(o=0,u=m.length;o<u;++o)if(d=this.clone().startOf("day").valueOf(),m[o].since<=d&&d<=m[o].until||m[o].until<=d&&d<=m[o].since)return m[o].abbr;return""}r(Fg,"getEraAbbr");function _g(){var o,u,d,m,b=this.localeData().eras();for(o=0,u=b.length;o<u;++o)if(d=b[o].since<=b[o].until?1:-1,m=this.clone().startOf("day").valueOf(),b[o].since<=m&&m<=b[o].until||b[o].until<=m&&m<=b[o].since)return(this.year()-e(b[o].since).year())*d+b[o].offset;return this.year()}r(_g,"getEraYear");function Og(o){return a(this,"_erasNameRegex")||ea.call(this),o?this._erasNameRegex:this._erasRegex}r(Og,"erasNameRegex");function Mg(o){return a(this,"_erasAbbrRegex")||ea.call(this),o?this._erasAbbrRegex:this._erasRegex}r(Mg,"erasAbbrRegex");function Lg(o){return a(this,"_erasNarrowRegex")||ea.call(this),o?this._erasNarrowRegex:this._erasRegex}r(Lg,"erasNarrowRegex");function Xo(o,u){return u.erasAbbrRegex(o)}r(Xo,"matchEraAbbr");function Ig(o,u){return u.erasNameRegex(o)}r(Ig,"matchEraName");function Dg(o,u){return u.erasNarrowRegex(o)}r(Dg,"matchEraNarrow");function Rg(o,u){return u._eraYearOrdinalRegex||ot}r(Rg,"matchEraYearOrdinal");function ea(){var o=[],u=[],d=[],m=[],b,x,T,N,H,ne=this.eras();for(b=0,x=ne.length;b<x;++b)T=Vt(ne[b].name),N=Vt(ne[b].abbr),H=Vt(ne[b].narrow),u.push(T),o.push(N),d.push(H),m.push(T),m.push(N),m.push(H);this._erasRegex=new RegExp("^("+m.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+u.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+d.join("|")+")","i")}r(ea,"computeErasParse"),k(0,["gg",2],0,function(){return this.weekYear()%100}),k(0,["GG",2],0,function(){return this.isoWeekYear()%100});function bi(o,u){k(0,[o,o.length],0,u)}r(bi,"addWeekYearFormatToken"),bi("gggg","weekYear"),bi("ggggg","weekYear"),bi("GGGG","isoWeekYear"),bi("GGGGG","isoWeekYear"),B("G",Et),B("g",Et),B("GG",R,Ne),B("gg",R,Ne),B("GGGG",yt,_),B("gggg",yt,_),B("GGGGG",He,L),B("ggggg",He,L),kr(["gggg","ggggg","GGGG","GGGGG"],function(o,u,d,m){u[m.substr(0,2)]=ee(o)}),kr(["gg","GG"],function(o,u,d,m){u[m]=e.parseTwoDigitYear(o)});function Ng(o){return Bu.call(this,o,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}r(Ng,"getSetWeekYear");function Bg(o){return Bu.call(this,o,this.isoWeek(),this.isoWeekday(),1,4)}r(Bg,"getSetISOWeekYear");function Vg(){return zt(this.year(),1,4)}r(Vg,"getISOWeeksInYear");function Wg(){return zt(this.isoWeekYear(),1,4)}r(Wg,"getISOWeeksInISOWeekYear");function Yg(){var o=this.localeData()._week;return zt(this.year(),o.dow,o.doy)}r(Yg,"getWeeksInYear");function zg(){var o=this.localeData()._week;return zt(this.weekYear(),o.dow,o.doy)}r(zg,"getWeeksInWeekYear");function Bu(o,u,d,m,b){var x;return o==null?Ar(this,m,b).year:(x=zt(o,m,b),u>x&&(u=x),Ug.call(this,o,u,d,m,b))}r(Bu,"getSetWeekYearHelper");function Ug(o,u,d,m,b){var x=mu(o,u,d,m,b),T=vr(x.year,0,x.dayOfYear);return this.year(T.getUTCFullYear()),this.month(T.getUTCMonth()),this.date(T.getUTCDate()),this}r(Ug,"setWeekAll"),k("Q",0,"Qo","quarter"),B("Q",ai),fe("Q",function(o,u){u[Wt]=(ee(o)-1)*3});function $g(o){return o==null?Math.ceil((this.month()+1)/3):this.month((o-1)*3+this.month()%3)}r($g,"getSetQuarter"),k("D",["DD",2],"Do","date"),B("D",R,Dn),B("DD",R,Ne),B("Do",function(o,u){return o?u._dayOfMonthOrdinalParse||u._ordinalParse:u._dayOfMonthOrdinalParseLenient}),fe(["D","DD"],Tt),fe("Do",function(o,u){u[Tt]=ee(o.match(R)[0])});var Vu=Rn("Date",!0);k("DDD",["DDDD",3],"DDDo","dayOfYear"),B("DDD",Oe),B("DDDD",li),fe(["DDD","DDDD"],function(o,u,d){d._dayOfYear=ee(o)});function Hg(o){var u=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return o==null?u:this.add(o-u,"d")}r(Hg,"getSetDayOfYear"),k("m",["mm",2],0,"minute"),B("m",R,Bo),B("mm",R,Ne),fe(["m","mm"],kt);var jg=Rn("Minutes",!1);k("s",["ss",2],0,"second"),B("s",R,Bo),B("ss",R,Ne),fe(["s","ss"],Yt);var Gg=Rn("Seconds",!1);k("S",0,0,function(){return~~(this.millisecond()/100)}),k(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),k(0,["SSS",3],0,"millisecond"),k(0,["SSSS",4],0,function(){return this.millisecond()*10}),k(0,["SSSSS",5],0,function(){return this.millisecond()*100}),k(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),k(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),k(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),k(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),B("S",Oe,ai),B("SS",Oe,Ne),B("SSS",Oe,li);var tn,Wu;for(tn="SSSS";tn.length<=9;tn+="S")B(tn,ot);function Kg(o,u){u[mn]=ee(("0."+o)*1e3)}for(r(Kg,"parseMs"),tn="S";tn.length<=9;tn+="S")fe(tn,Kg);Wu=Rn("Milliseconds",!1),k("z",0,0,"zoneAbbr"),k("zz",0,0,"zoneName");function qg(){return this._isUTC?"UTC":""}r(qg,"getZoneAbbr");function Jg(){return this._isUTC?"Coordinated Universal Time":""}r(Jg,"getZoneName");var M=W.prototype;M.add=zm,M.calendar=qm,M.clone=Jm,M.diff=rg,M.endOf=hg,M.format=ag,M.from=lg,M.fromNow=ug,M.to=cg,M.toNow=fg,M.get=op,M.invalidAt=Cg,M.isAfter=Zm,M.isBefore=Qm,M.isBetween=Xm,M.isSame=eg,M.isSameOrAfter=tg,M.isSameOrBefore=ng,M.isValid=kg,M.lang=Lu,M.locale=Mu,M.localeData=Iu,M.max=km,M.min=bm,M.parsingFlags=xg,M.set=ap,M.startOf=dg,M.subtract=Um,M.toArray=yg,M.toObject=wg,M.toDate=gg,M.toISOString=sg,M.inspect=og,typeof Symbol<"u"&&Symbol.for!=null&&(M[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),M.toJSON=bg,M.toString=ig,M.unix=mg,M.valueOf=pg,M.creationData=vg,M.eraName=Tg,M.eraNarrow=Pg,M.eraAbbr=Fg,M.eraYear=_g,M.year=lu,M.isLeapYear=sp,M.weekYear=Ng,M.isoWeekYear=Bg,M.quarter=M.quarters=$g,M.month=hu,M.daysInMonth=gp,M.week=M.weeks=Ap,M.isoWeek=M.isoWeeks=Sp,M.weeksInYear=Yg,M.weeksInWeekYear=zg,M.isoWeeksInYear=Vg,M.isoWeeksInISOWeekYear=Wg,M.date=Vu,M.day=M.days=Bp,M.weekday=Vp,M.isoWeekday=Wp,M.dayOfYear=Hg,M.hour=M.hours=Gp,M.minute=M.minutes=jg,M.second=M.seconds=Gg,M.millisecond=M.milliseconds=Wu,M.utcOffset=Fm,M.utc=Om,M.local=Mm,M.parseZone=Lm,M.hasAlignedHourOffset=Im,M.isDST=Dm,M.isLocal=Nm,M.isUtcOffset=Bm,M.isUtc=Tu,M.isUTC=Tu,M.zoneAbbr=qg,M.zoneName=Jg,M.dates=K("dates accessor is deprecated. Use date instead.",Vu),M.months=K("months accessor is deprecated. Use month instead",hu),M.years=K("years accessor is deprecated. Use year instead",lu),M.zone=K("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",_m),M.isDSTShifted=K("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Rm);function Zg(o){return he(o*1e3)}r(Zg,"createUnix");function Qg(){return he.apply(null,arguments).parseZone()}r(Qg,"createInZone");function Yu(o){return o}r(Yu,"preParsePostFormat");var se=z.prototype;se.calendar=ie,se.longDateFormat=pn,se.invalidDate=Bt,se.ordinal=Do,se.preparse=Yu,se.postformat=Yu,se.relativeTime=ii,se.pastFuture=si,se.set=te,se.eras=Ag,se.erasParse=Sg,se.erasConvertYear=Eg,se.erasAbbrRegex=Mg,se.erasNameRegex=Og,se.erasNarrowRegex=Lg,se.months=dp,se.monthsShort=hp,se.monthsParse=mp,se.monthsRegex=wp,se.monthsShortRegex=yp,se.week=kp,se.firstDayOfYear=vp,se.firstDayOfWeek=Cp,se.weekdays=Lp,se.weekdaysMin=Dp,se.weekdaysShort=Ip,se.weekdaysParse=Np,se.weekdaysRegex=Yp,se.weekdaysShortRegex=zp,se.weekdaysMinRegex=Up,se.isPM=Hp,se.meridiem=Kp;function ki(o,u,d,m){var b=Ut(),x=y().set(m,u);return b[d](x,o)}r(ki,"get$1");function zu(o,u,d){if(f(o)&&(u=o,o=void 0),o=o||"",u!=null)return ki(o,u,d,"month");var m,b=[];for(m=0;m<12;m++)b[m]=ki(o,m,d,"month");return b}r(zu,"listMonthsImpl");function ta(o,u,d,m){typeof o=="boolean"?(f(u)&&(d=u,u=void 0),u=u||""):(u=o,d=u,o=!1,f(u)&&(d=u,u=void 0),u=u||"");var b=Ut(),x=o?b._week.dow:0,T,N=[];if(d!=null)return ki(u,(d+x)%7,m,"day");for(T=0;T<7;T++)N[T]=ki(u,(T+x)%7,m,"day");return N}r(ta,"listWeekdaysImpl");function Xg(o,u){return zu(o,u,"months")}r(Xg,"listMonths");function e0(o,u){return zu(o,u,"monthsShort")}r(e0,"listMonthsShort");function t0(o,u,d){return ta(o,u,d,"weekdays")}r(t0,"listWeekdays");function n0(o,u,d){return ta(o,u,d,"weekdaysShort")}r(n0,"listWeekdaysShort");function r0(o,u,d){return ta(o,u,d,"weekdaysMin")}r(r0,"listWeekdaysMin"),en("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:r(function(o){var u=o%10,d=ee(o%100/10)===1?"th":u===1?"st":u===2?"nd":u===3?"rd":"th";return o+d},"ordinal")}),e.lang=K("moment.lang is deprecated. Use moment.locale instead.",en),e.langData=K("moment.langData is deprecated. Use moment.localeData instead.",Ut);var $t=Math.abs;function i0(){var o=this._data;return this._milliseconds=$t(this._milliseconds),this._days=$t(this._days),this._months=$t(this._months),o.milliseconds=$t(o.milliseconds),o.seconds=$t(o.seconds),o.minutes=$t(o.minutes),o.hours=$t(o.hours),o.months=$t(o.months),o.years=$t(o.years),this}r(i0,"abs");function Uu(o,u,d,m){var b=xt(u,d);return o._milliseconds+=m*b._milliseconds,o._days+=m*b._days,o._months+=m*b._months,o._bubble()}r(Uu,"addSubtract$1");function s0(o,u){return Uu(this,o,u,1)}r(s0,"add$1");function o0(o,u){return Uu(this,o,u,-1)}r(o0,"subtract$1");function $u(o){return o<0?Math.floor(o):Math.ceil(o)}r($u,"absCeil");function a0(){var o=this._milliseconds,u=this._days,d=this._months,m=this._data,b,x,T,N,H;return o>=0&&u>=0&&d>=0||o<=0&&u<=0&&d<=0||(o+=$u(na(d)+u)*864e5,u=0,d=0),m.milliseconds=o%1e3,b=at(o/1e3),m.seconds=b%60,x=at(b/60),m.minutes=x%60,T=at(x/60),m.hours=T%24,u+=at(T/24),H=at(Hu(u)),d+=H,u-=$u(na(H)),N=at(d/12),d%=12,m.days=u,m.months=d,m.years=N,this}r(a0,"bubble");function Hu(o){return o*4800/146097}r(Hu,"daysToMonths");function na(o){return o*146097/4800}r(na,"monthsToDays");function l0(o){if(!this.isValid())return NaN;var u,d,m=this._milliseconds;if(o=Re(o),o==="month"||o==="quarter"||o==="year")switch(u=this._days+m/864e5,d=this._months+Hu(u),o){case"month":return d;case"quarter":return d/3;case"year":return d/12}else switch(u=this._days+Math.round(na(this._months)),o){case"week":return u/7+m/6048e5;case"day":return u+m/864e5;case"hour":return u*24+m/36e5;case"minute":return u*1440+m/6e4;case"second":return u*86400+m/1e3;case"millisecond":return Math.floor(u*864e5)+m;default:throw new Error("Unknown unit "+o)}}r(l0,"as");function Ht(o){return function(){return this.as(o)}}r(Ht,"makeAs");var ju=Ht("ms"),u0=Ht("s"),c0=Ht("m"),f0=Ht("h"),d0=Ht("d"),h0=Ht("w"),p0=Ht("M"),m0=Ht("Q"),g0=Ht("y"),y0=ju;function w0(){return xt(this)}r(w0,"clone$1");function b0(o){return o=Re(o),this.isValid()?this[o+"s"]():NaN}r(b0,"get$2");function yn(o){return function(){return this.isValid()?this._data[o]:NaN}}r(yn,"makeGetter");var k0=yn("milliseconds"),x0=yn("seconds"),C0=yn("minutes"),v0=yn("hours"),A0=yn("days"),S0=yn("months"),E0=yn("years");function T0(){return at(this.days()/7)}r(T0,"weeks");var jt=Math.round,Wn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function P0(o,u,d,m,b){return b.relativeTime(u||1,!!d,o,m)}r(P0,"substituteTimeAgo");function F0(o,u,d,m){var b=xt(o).abs(),x=jt(b.as("s")),T=jt(b.as("m")),N=jt(b.as("h")),H=jt(b.as("d")),ne=jt(b.as("M")),Ve=jt(b.as("w")),Gt=jt(b.as("y")),nn=x<=d.ss&&["s",x]||x<d.s&&["ss",x]||T<=1&&["m"]||T<d.m&&["mm",T]||N<=1&&["h"]||N<d.h&&["hh",N]||H<=1&&["d"]||H<d.d&&["dd",H];return d.w!=null&&(nn=nn||Ve<=1&&["w"]||Ve<d.w&&["ww",Ve]),nn=nn||ne<=1&&["M"]||ne<d.M&&["MM",ne]||Gt<=1&&["y"]||["yy",Gt],nn[2]=u,nn[3]=+o>0,nn[4]=m,P0.apply(null,nn)}r(F0,"relativeTime$1");function _0(o){return o===void 0?jt:typeof o=="function"?(jt=o,!0):!1}r(_0,"getSetRelativeTimeRounding");function O0(o,u){return Wn[o]===void 0?!1:u===void 0?Wn[o]:(Wn[o]=u,o==="s"&&(Wn.ss=u-1),!0)}r(O0,"getSetRelativeTimeThreshold");function M0(o,u){if(!this.isValid())return this.localeData().invalidDate();var d=!1,m=Wn,b,x;return typeof o=="object"&&(u=o,o=!1),typeof o=="boolean"&&(d=o),typeof u=="object"&&(m=Object.assign({},Wn,u),u.s!=null&&u.ss==null&&(m.ss=u.s-1)),b=this.localeData(),x=F0(this,!d,m,b),d&&(x=b.pastFuture(+this,x)),b.postformat(x)}r(M0,"humanize");var ra=Math.abs;function Yn(o){return(o>0)-(o<0)||+o}r(Yn,"sign");function xi(){if(!this.isValid())return this.localeData().invalidDate();var o=ra(this._milliseconds)/1e3,u=ra(this._days),d=ra(this._months),m,b,x,T,N=this.asSeconds(),H,ne,Ve,Gt;return N?(m=at(o/60),b=at(m/60),o%=60,m%=60,x=at(d/12),d%=12,T=o?o.toFixed(3).replace(/\.?0+$/,""):"",H=N<0?"-":"",ne=Yn(this._months)!==Yn(N)?"-":"",Ve=Yn(this._days)!==Yn(N)?"-":"",Gt=Yn(this._milliseconds)!==Yn(N)?"-":"",H+"P"+(x?ne+x+"Y":"")+(d?ne+d+"M":"")+(u?Ve+u+"D":"")+(b||m||o?"T":"")+(b?Gt+b+"H":"")+(m?Gt+m+"M":"")+(o?Gt+T+"S":"")):"P0D"}r(xi,"toISOString$1");var re=pi.prototype;re.isValid=Sm,re.abs=i0,re.add=s0,re.subtract=o0,re.as=l0,re.asMilliseconds=ju,re.asSeconds=u0,re.asMinutes=c0,re.asHours=f0,re.asDays=d0,re.asWeeks=h0,re.asMonths=p0,re.asQuarters=m0,re.asYears=g0,re.valueOf=y0,re._bubble=a0,re.clone=w0,re.get=b0,re.milliseconds=k0,re.seconds=x0,re.minutes=C0,re.hours=v0,re.days=A0,re.weeks=T0,re.months=S0,re.years=E0,re.humanize=M0,re.toISOString=xi,re.toString=xi,re.toJSON=xi,re.locale=Mu,re.localeData=Iu,re.toIsoString=K("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",xi),re.lang=Lu,k("X",0,0,"unix"),k("x",0,0,"valueOf"),B("x",Et),B("X",bt),fe("X",function(o,u,d){d._d=new Date(parseFloat(o)*1e3)}),fe("x",function(o,u,d){d._d=new Date(ee(o))});return e.version="2.30.1",n(he),e.fn=M,e.min=xm,e.max=Cm,e.now=vm,e.utc=y,e.unix=Zg,e.months=Xg,e.isDate=h,e.locale=en,e.invalid=A,e.duration=xt,e.isMoment=E,e.weekdays=t0,e.parseZone=Qg,e.localeData=Ut,e.isDuration=mi,e.monthsShort=e0,e.weekdaysMin=r0,e.defineLocale=$o,e.updateLocale=Qp,e.locales=Xp,e.weekdaysShort=n0,e.normalizeUnits=Re,e.relativeTimeRounding=_0,e.relativeTimeThreshold=O0,e.calendarFormat=Km,e.prototype=M,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e}))});var ux={};Gu(ux,{default:()=>lx});module.exports=B0(ux);var Xh=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function et(){}r(et,"noop");async function ut(){}r(ut,"noopAsync");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var V0=Number.POSITIVE_INFINITY;function wn(...t){let e=t.filter(a=>!!a);if(typeof AbortSignal.any=="function")return AbortSignal.any(e);if(e.length===0)return We();if(e.length===1&&e[0])return e[0];let n=new AbortController;for(let a of e)if(a.aborted)return a;let i=[];for(let a of e)i.push(Ju(a,s));return n.signal;function s(a){for(let l of i)l();n.abort(a.reason)}}r(wn,"abortSignalAny");function We(){return new AbortController().signal}r(We,"abortSignalNever");function qu(t){if(t===V0)return We();if(typeof AbortSignal.timeout=="function")return AbortSignal.timeout(t);let e=new AbortController;return window.setTimeout(()=>{e.abort(new Error(`Timed out in ${String(t)} milliseconds`))},t),e.signal}r(qu,"abortSignalTimeout");function Ju(t,e){if(t.aborted)return e(t),et;return t.addEventListener("abort",n,{once:!0}),()=>{t.removeEventListener("abort",n)};function n(i){e(i.target)}r(n,"wrappedCallback")}r(Ju,"onAbort");function Zu(t,e){return new Promise((n,i)=>{Ju(t,()=>{e?i(t.reason):n(t.reason)})})}r(Zu,"waitForAbort");var fa=lt(uc(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Fr(t,e){let n=t.length,i=0;for(let s=0;s<n;s++){if(!Object.hasOwn(t,s))continue;let a=t[s];e(a,s,t)&&(t[i++]=a)}t.length=i}r(Fr,"filterInPlace");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Pt=class{static{r(this,"AsyncEvents")}eventRefsMap=new Map;off(e,n){let i=this.eventRefsMap.get(e);i&&(Fr(i,s=>s.callback!==n),i.length===0&&this.eventRefsMap.delete(e))}offref(e){let n=this.eventRefsMap.get(e.name);n&&(Fr(n,i=>i!==e),n.length===0&&this.eventRefsMap.delete(e.name))}on(e,n,i){let s=this.eventRefsMap.get(e);s||(s=[],this.eventRefsMap.set(e,s));let a={asyncEvents:this,callback:n,name:e,thisArg:i};return s.push(a),a}once(e,n,i){let s=this.on(e,n,i),a=this.on(e,()=>{this.offref(s),this.offref(a)});return s}trigger(e,...n){let i=this.eventRefsMap.get(e)??[];for(let s of i.slice())this.tryTrigger(s,n)}async triggerAsync(e,...n){let i=this.eventRefsMap.get(e)??[];for(let s of i.slice())await this.tryTriggerAsync(s,n)}tryTrigger(e,n){try{e.callback.apply(e.thisArg,n)}catch(i){window.setTimeout(()=>{throw i},0)}}async tryTriggerAsync(e,n){try{await e.callback.call(e.thisArg,...n)}catch(i){window.setTimeout(()=>{throw i},0)}}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var aa="asyncError",Ti=new Pt;Ti.on(aa,cy);var Pi="An unhandled error occurred executing async operation",fc="    at",vt=class t extends Error{static{r(this,"CustomStackTraceError")}constructor(e,n,i){super(e,{cause:i}),this.name="CustomStackTraceError",Error.captureStackTrace?.(this,t);let s=i,a=new Set;for(;s instanceof t;){if(a.has(s))throw new Error("Circular cause detected");a.add(s),s=s.cause}let l=(this.stack??"").split(`
`),c=n.split(`
`);/^\w*Error(?:: |$)/.test(c[0]??"")&&c.splice(0,1),l.splice(1,l.length-1,...c),this.stack=l.join(`
`)}},Ft=class t extends Error{static{r(this,"SilentError")}constructor(e){super(e),this.name="SilentError",Error.captureStackTrace?.(this,t)}};function Fi(t){Ti.trigger(aa,t)}r(Fi,"emitAsyncErrorEvent");function _i(t){if(!(t instanceof Error))return String(t);let e=t.stack??`${t.name}: ${t.message}`;if(t.cause!==void 0){let n=_i(t.cause).split(`
`);e+=`
${cc("Caused by:")}`;for(let i of n)i.trim()&&(e+=i.startsWith(fc)?`
${i}`:`
${cc(i)}`)}return e}r(_i,"errorToString");function Ye(t=0){return(new Error().stack??"").split(`
`).slice(t+2).join(`
`)}r(Ye,"getStackTrace");function kn(t,e){e??=globalThis.console,e.error(_i(t))}r(kn,"printError");function dc(t){let e=Ti.on(aa,t);return()=>{Ti.offref(e)}}r(dc,"registerAsyncErrorEventHandler");function _r(t){throw t}r(_r,"throwExpression");function cc(t){return`${fc} --- ${t} --- (0)`}r(cc,"generateStackTraceLine");function cy(t){kn(t)}r(cy,"handleAsyncError");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var la="43.2.7",Oi="obsidian-dev-utils",hc=`.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component pre, .obsidian-dev-utils.code-highlighter-component code {
  font-family: var(--font-monospace);
  line-height: var(--line-height-normal);
  margin: 0;
}
.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component code {
  font-size: var(--code-size);
}
.obsidian-dev-utils.code-highlighter-component textarea {
  background: transparent;
  color: transparent;
  z-index: 2;
  width: 20em;
  height: 10em;
}
.obsidian-dev-utils.code-highlighter-component pre {
  position: absolute;
  pointer-events: none;
  border: var(--input-border-width) solid transparent;
  overflow: auto;
  inset: 0;
  padding: var(--size-4-1) var(--size-4-2);
  z-index: 1;
}
.obsidian-dev-utils.code-highlighter-component pre::after {
  content: "";
  display: block;
  height: var(--bottom-gap, 0);
}
.obsidian-dev-utils.code-highlighter-component pre.is-placeholder {
  opacity: 0.6;
}
.obsidian-dev-utils.code-highlighter-component code {
  display: block;
  padding: 0;
}

.obsidian-dev-utils input[type=url] {
  height: var(--input-height);
}
.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=tel],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=url],
.obsidian-dev-utils input[type=week] {
  -webkit-app-region: no-drag;
  background: var(--background-modifier-form-field);
  border: var(--input-border-width) solid var(--background-modifier-border);
  color: var(--text-normal);
  font-family: inherit;
  padding: var(--size-4-1) var(--size-4-2);
  font-size: var(--font-ui-small);
  border-radius: var(--input-radius);
  outline: none;
}
@media (hover: hover) {
  .obsidian-dev-utils input[type=month]:hover,
  .obsidian-dev-utils input[type=tel]:hover,
  .obsidian-dev-utils input[type=time]:hover,
  .obsidian-dev-utils input[type=url]:hover,
  .obsidian-dev-utils input[type=week]:hover {
    border-color: var(--background-modifier-border-hover);
    transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
  }
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus {
  border-color: var(--background-modifier-border-focus);
  transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus, .obsidian-dev-utils input[type=month]:focus-visible,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=tel]:focus-visible,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=time]:focus-visible,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=url]:focus-visible,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus,
.obsidian-dev-utils input[type=week]:focus-visible {
  box-shadow: 0 0 0 2px var(--background-modifier-border-focus);
}
.obsidian-dev-utils input[type=month]::placeholder,
.obsidian-dev-utils input[type=tel]::placeholder,
.obsidian-dev-utils input[type=time]::placeholder,
.obsidian-dev-utils input[type=url]::placeholder,
.obsidian-dev-utils input[type=week]::placeholder {
  color: var(--text-faint);
}
.mod-rtl input[type=month],
.mod-rtl input[type=time],
.mod-rtl input[type=week],
.is-rtl input[type=month],
.is-rtl input[type=time],
.is-rtl input[type=week],
.rtl input[type=month],
.rtl input[type=time],
.rtl input[type=week] {
  direction: rtl;
}
.mod-rtl input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl input[type=month]::-webkit-calendar-picker-indicator,
.is-rtl input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl input[type=week]::-webkit-calendar-picker-indicator,
.rtl input[type=month]::-webkit-calendar-picker-indicator,
.rtl input[type=time]::-webkit-calendar-picker-indicator,
.rtl input[type=week]::-webkit-calendar-picker-indicator {
  right: var(--size-4-1);
  left: auto;
}

.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=week] {
  font-variant-numeric: tabular-nums;
  position: relative;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-text {
  color: var(--text-faint);
  padding-inline-end: 0;
}
.obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  position: absolute;
  left: var(--size-4-1);
  right: auto;
  opacity: 0.5;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:focus {
  background-color: var(--text-selection);
  color: var(--text-normal);
  cursor: text;
}
.mod-rtl .obsidian-dev-utils input[type=month], .is-rtl .obsidian-dev-utils input[type=month], .rtl .obsidian-dev-utils input[type=month],
.mod-rtl .obsidian-dev-utils input[type=time],
.is-rtl .obsidian-dev-utils input[type=time],
.rtl .obsidian-dev-utils input[type=time],
.mod-rtl .obsidian-dev-utils input[type=week],
.is-rtl .obsidian-dev-utils input[type=week],
.rtl .obsidian-dev-utils input[type=week] {
  direction: rtl;
}
.mod-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .is-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  left: auto;
  right: var(--size-4-1);
}

body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=month],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=time],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=week] {
  padding-inline-start: var(--size-4-6);
}

.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator {
  margin-inline-start: 0;
}

.obsidian-dev-utilsprogress.loop {
  min-width: 200px;
}

.obsidian-dev-utils.modal-container .ok-button {
  margin-right: 10px;
  margin-top: 20px;
}

.obsidian-dev-utils .multiple-dropdown-component select,
.obsidian-dev-utils .multiple-dropdown-component select:focus,
.obsidian-dev-utils .multiple-dropdown-component .dropdown {
  height: auto;
  padding-top: 3px;
}
.obsidian-dev-utils .multiple-dropdown-component select option:checked,
.obsidian-dev-utils .multiple-dropdown-component select:focus option:checked,
.obsidian-dev-utils .multiple-dropdown-component .dropdown option:checked {
  background-color: #1967d2;
  color: #fff;
}

.obsidian-dev-utils.plugin-settings-tab a:focus {
  outline: 2px solid var(--link-color);
}

.obsidian-dev-utils.prompt-modal .text-box {
  width: 100%;
}

.obsidian-dev-utils.tri-state-checkbox-component input[type=checkbox]:indeterminate {
  appearance: checkbox;
}

.obsidian-dev-utils :invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils input.metadata-input-text:active:invalid, .obsidian-dev-utils input.metadata-input-text:focus-visible:invalid, .obsidian-dev-utils input.metadata-input-text:focus:invalid,
.obsidian-dev-utils input[type=date]:active:invalid,
.obsidian-dev-utils input[type=date]:focus-visible:invalid,
.obsidian-dev-utils input[type=date]:focus:invalid,
.obsidian-dev-utils input[type=datetime-local]:active:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus-visible:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus:invalid,
.obsidian-dev-utils input[type=email]:active:invalid,
.obsidian-dev-utils input[type=email]:focus-visible:invalid,
.obsidian-dev-utils input[type=email]:focus:invalid,
.obsidian-dev-utils input[type=number]:active:invalid,
.obsidian-dev-utils input[type=number]:focus-visible:invalid,
.obsidian-dev-utils input[type=number]:focus:invalid,
.obsidian-dev-utils input[type=password]:active:invalid,
.obsidian-dev-utils input[type=password]:focus-visible:invalid,
.obsidian-dev-utils input[type=password]:focus:invalid,
.obsidian-dev-utils input[type=search]:active:invalid,
.obsidian-dev-utils input[type=search]:focus-visible:invalid,
.obsidian-dev-utils input[type=search]:focus:invalid,
.obsidian-dev-utils input[type=text]:active:invalid,
.obsidian-dev-utils input[type=text]:focus-visible:invalid,
.obsidian-dev-utils input[type=text]:focus:invalid,
.obsidian-dev-utils textarea:active:invalid,
.obsidian-dev-utils textarea:focus-visible:invalid,
.obsidian-dev-utils textarea:focus:invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils.setting-component-wrapper {
  position: relative;
  display: inline-flex;
}
.obsidian-dev-utils.overlay-validator {
  caret-color: transparent;
  cursor: default;
  position: absolute;
  background-color: transparent;
  border: none;
  outline: none;
  pointer-events: none;
  z-index: 9999;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
}
.obsidian-dev-utils.tooltip.tooltip-validator {
  position: absolute;
  top: calc(100% + 8px);
  width: max-content;
}

/*# sourceMappingURL=data:application/json;charset=utf-8,%7B%22version%22:3,%22sourceRoot%22:%22%22,%22sources%22:%5B%22../src/styles/code-highlighter-component.scss%22,%22../src/styles/input.scss%22,%22../src/styles/input-time.scss%22,%22../src/styles/loop.scss%22,%22../src/styles/modal-container.scss%22,%22../src/styles/multiple-dropdown-component.scss%22,%22../src/styles/plugin-settings-tab.scss%22,%22../src/styles/prompt-modal.scss%22,%22../src/styles/tri-state-checkbox-component.scss%22,%22../src/styles/validation.scss%22%5D,%22names%22:%5B%5D,%22mappings%22:%22AAEI;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;;;ACzCJ;EACE;;AAGF;AAAA;AAAA;AAAA;AAAA;EAKE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGE;EACE;AAAA;AAAA;AAAA;AAAA;IACE;IACA,YACE;;;AAMR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA,YACE;;AAIJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAGF;AAAA;AAAA;AAAA;AAAA;EACE;;AASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AC7DV;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;AAGF;AAAA;AAAA;EACE;EACA;EACA;EACA;;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA;EACA;;AAIK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGP;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AAKF;AAAA;AAAA;EACE;;;AAMJ;EACE;;;ACjDJ;EACE;;;ACAA;EACE;EACA;;;ACFF;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;;ACRJ;EACE;;;ACDF;EACE;;;ACDF;EACE;;;ACEJ;EAJA;;AAoBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EApBJ;;AA0BA;EACE;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA%22,%22file%22:%22styles.css%22,%22sourcesContent%22:%5B%22.obsidian-dev-utils%20%7B%5Cn%20%20&.code-highlighter-component%20%7B%5Cn%20%20%20%20textarea,%20pre,%20code%20%7B%5Cn%20%20%20%20%20%20font-family:%20var(--font-monospace);%5Cn%20%20%20%20%20%20line-height:%20var(--line-height-normal);%5Cn%20%20%20%20%20%20margin:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea,%20code%20%7B%5Cn%20%20%20%20%20%20font-size:%20var(--code-size);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea%20%7B%5Cn%20%20%20%20%20%20background:%20transparent;%5Cn%20%20%20%20%20%20color:%20transparent;%5Cn%20%20%20%20%20%20z-index:%202;%5Cn%20%20%20%20%20%20width:%2020em;%5Cn%20%20%20%20%20%20height:%2010em;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20%20%20border:%20var(--input-border-width)%20solid%20transparent;%5Cn%20%20%20%20%20%20overflow:%20auto;%5Cn%20%20%20%20%20%20inset:%200;%5Cn%20%20%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20%20%20z-index:%201;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre::after%20%7B%5Cn%20%20%20%20%20%20content:%20%5C%22%5C%22;%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20height:%20var(--bottom-gap,%200);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre.is-placeholder%20%7B%5Cn%20%20%20%20%20%20opacity:%200.6;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20code%20%7B%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20padding:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='url'%5D%20%7B%5Cn%20%20%20%20height:%20var(--input-height)%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='tel'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='url'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20-webkit-app-region:%20no-drag;%5Cn%20%20%20%20background:%20var(--background-modifier-form-field);%5Cn%20%20%20%20border:%20var(--input-border-width)%20solid%20var(--background-modifier-border);%5Cn%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20font-family:%20inherit;%5Cn%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20font-size:%20var(--font-ui-small);%5Cn%20%20%20%20border-radius:%20var(--input-radius);%5Cn%20%20%20%20outline:%20none;%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20@media%20(hover:%20hover)%20%7B%5Cn%20%20%20%20%20%20%20%20&:hover%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20border-color:%20var(--background-modifier-border-hover);%5Cn%20%20%20%20%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20border-color:%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus,%5Cn%20%20%20%20&:focus-visible%20%7B%5Cn%20%20%20%20%20%20box-shadow:%200%200%200%202px%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::placeholder%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20@at-root%20%7B%5Cn%20%20%20%20.mod-rtl,%5Cn%20%20%20%20.is-rtl,%5Cn%20%20%20%20.rtl%20%7B%5Cn%20%20%20%20%20%20&%20%7B%5Cn%20%20%20%20%20%20%20%20input%5Btype='month'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='time'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20font-variant-numeric:%20tabular-nums;%5Cn%20%20%20%20position:%20relative;%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-text%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%20%20padding-inline-end:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20left:%20var(--size-4-1);%5Cn%20%20%20%20%20%20right:%20auto;%5Cn%20%20%20%20%20%20opacity:%200.5;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-month-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-day-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-year-field%20%7B%5Cn%20%20%20%20%20%20&:active,%5Cn%20%20%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20var(--text-selection);%5Cn%20%20%20%20%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20%20%20%20%20cursor:%20text;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20.mod-rtl%20&,%5Cn%20%20%20%20%20%20.is-rtl%20&,%5Cn%20%20%20%20%20%20.rtl%20&%20%7B%5Cn%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20body:not(.is-ios):not(.is-android)%20&%20%7B%5Cn%20%20%20%20%20%20%20%20padding-inline-start:%20var(--size-4-6);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='time'%5D%20%7B%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20margin-inline-start:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&progress.loop%20%7B%5Cn%20%20%20%20min-width:%20200px;%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.modal-container%20%7B%5Cn%20%20%20%20.ok-button%20%7B%5Cn%20%20%20%20%20%20margin-right:%2010px;%5Cn%20%20%20%20%20%20margin-top:%2020px;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20.multiple-dropdown-component%20%7B%5Cn%20%20%20%20select,%5Cn%20%20%20%20select:focus,%5Cn%20%20%20%20.dropdown%20%7B%5Cn%20%20%20%20%20%20height:%20auto;%5Cn%20%20%20%20%20%20padding-top:%203px;%5Cn%5Cn%20%20%20%20%20%20option:checked%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20%231967d2;%5Cn%20%20%20%20%20%20%20%20color:%20%23fff;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.plugin-settings-tab%20%7B%5Cn%20%20%20%20a:focus%20%7B%5Cn%20%20%20%20%20%20outline:%202px%20solid%20var(--link-color);%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.prompt-modal%20%7B%5Cn%20%20%20%20.text-box%20%7B%5Cn%20%20%20%20%20%20width:%20100%25;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cr%5Cn%20%20&.tri-state-checkbox-component%20%7B%5Cr%5Cn%20%20%20%20input%5Btype='checkbox'%5D:indeterminate%20%7B%5Cr%5Cn%20%20%20%20%20%20appearance:%20checkbox;%5Cr%5Cn%20%20%20%20%7D%5Cr%5Cn%20%20%7D%5Cr%5Cn%7D%5Cr%5Cn%22,%22@mixin%20invalid%20%7B%5Cn%20%20box-shadow:%200%200%200%202px%20var(--text-error);%5Cn%7D%5Cn%5Cn.obsidian-dev-utils%20%7B%5Cn%20%20:invalid%20%7B%5Cn%20%20%20%20@include%20invalid;%5Cn%20%20%7D%5Cn%5Cn%20%20input.metadata-input-text,%5Cn%20%20input%5Btype='date'%5D,%5Cn%20%20input%5Btype='datetime-local'%5D,%5Cn%20%20input%5Btype='email'%5D,%5Cn%20%20input%5Btype='number'%5D,%5Cn%20%20input%5Btype='password'%5D,%5Cn%20%20input%5Btype='search'%5D,%5Cn%20%20input%5Btype='text'%5D,%5Cn%20%20textarea%20%7B%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus-visible,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20&:invalid%20%7B%5Cn%20%20%20%20%20%20%20%20@include%20invalid;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20&.setting-component-wrapper%20%7B%5Cn%20%20%20%20position:%20relative;%5Cn%20%20%20%20display:%20inline-flex;%5Cn%20%20%7D%5Cn%5Cn%20%20&.overlay-validator%20%7B%5Cn%20%20%20%20caret-color:%20transparent;%5Cn%20%20%20%20cursor:%20default;%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20background-color:%20transparent;%5Cn%20%20%20%20border:%20none;%5Cn%20%20%20%20outline:%20none;%5Cn%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20z-index:%209999;%5Cn%20%20%20%20left:%200;%5Cn%20%20%20%20top:%200;%5Cn%20%20%20%20width:%20100%25;%5Cn%20%20%20%20height:%20100%25;%5Cn%20%20%7D%5Cn%5Cn%20%20&.tooltip.tooltip-validator%20%7B%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20top:%20calc(100%25%20+%208px);%5Cn%20%20%20%20width:%20max-content;%5Cn%20%20%7D%5Cn%7D%5Cn%22%5D%7D */
`;r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ua=class{static{r(this,"ValueWrapper")}constructor(e){this.value=e}};function fy(){let t=globalThis.app;if(t)return t;try{return globalThis.require("obsidian/app")}catch{throw new Error("Obsidian App global instance not found")}}r(fy,"getApp");function tt(t,e,n){let s=t??dy()??globalThis;return s.obsidianDevUtilsState??={},s.obsidianDevUtilsState[e]??=new ua(n)}r(tt,"getObsidianDevUtilsState");function dy(){return typeof window>"u"?null:fy()}r(dy,"getAppOrNull");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ca="__no-plugin-id-initialized__",pc=ca;function Mi(){return pc}r(Mi,"getPluginId");function mc(t){t&&(pc=t)}r(mc,"setPluginId");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var gc=",",Li="-";function yc(){return{disable:hy,enable:py,get:Di,set:Or}}r(yc,"getDebugController");function Ii(t,e=0){let n=`${t}:${String(e)}`,i=tt(null,"debuggers",new Map).value,s=i.get(n);return s||(s=Mr()(t),s.log=(a,...l)=>{my(t,e,a,...l)},i.set(n,s)),s}r(Ii,"getDebugger");function de(t){let e=Mi(),n=e===ca?"":`${e}:`;return Ii(`${n}${Oi}:${t}`)}r(de,"getLibDebugger");function _t(t,e,n,...i){if(!bc()){t(n,...i);return}t(n,...i,`

---
Context stack trace:
`,kc(e))}r(_t,"printWithStackTrace");function wc(t){let e=Mr().enabled(t),n=e?"enabled":"disabled",i=e?"disable":"enable",s=Di();Or(t),Ii(t)(`Debug messages for plugin ${t} are ${n}. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md how to ${i} them.`),Or(s)}r(wc,"showInitialDebugMessage");function hy(t){let e=new Set(Di());for(let n of Lr(t)){if(n.startsWith(Li))continue;let i=Li+n;e.has(n)&&e.delete(n),e.add(i)}Or(Array.from(e))}r(hy,"disableNamespaces");function py(t){let e=new Set(Di());for(let n of Lr(t)){if(!n.startsWith(Li)){let i=Li+n;e.has(i)&&e.delete(i)}e.add(n)}Or(Array.from(e))}r(py,"enableNamespaces");function Di(){return Lr(Mr().load()??"")}r(Di,"getNamespaces");function Mr(){return typeof window>"u"?fa.default:tt(null,"debug",fa.default).value}r(Mr,"getSharedDebugLibInstance");function bc(){return typeof window<"u"}r(bc,"isInObsidian");function my(t,e,n,...i){if(!Mr().enabled(t))return;if(!bc()){console.debug(n,...i);return}let s=4,a=new Error().stack?.split(`
`)??[];a.splice(0,s+e),console.debug(n,...i,`

---
Logger stack trace:
`,kc(a.join(`
`)))}r(my,"logWithCaller");function kc(t){return new vt("Debug mode: intentional placeholder error. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md.",t,void 0)}r(kc,"makeStackTraceError");function Or(t){Mr().enable(Lr(t).join(gc))}r(Or,"setNamespaces");function Lr(t){return typeof t=="string"?t.split(gc).filter(Boolean):t.flatMap(Lr)}r(Lr,"toArray");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function da(t,e){e??=Ye(1);try{await t()}catch(n){let i=new vt(Pi,e,n);if(gy(i))return;Fi(i)}}r(da,"addErrorHandler");function rn(t,e){return e??=Ye(1),(...n)=>{let i=Ye(1);e=`${e??""}
    at --- convertAsyncToSync --- (0)
${i}`,Le(()=>t(...n),e)}}r(rn,"convertAsyncToSync");function Le(t,e){e??=Ye(1),da(t,e)}r(Le,"invokeAsyncSafely");function xc(t,e=0,n,i){i??=We(),i.throwIfAborted(),n??=Ye(1),Le(async()=>{await pa(e,i,!0),await t(i)},n)}r(xc,"invokeAsyncSafelyAfterDelay");function gy(t){let e=t;for(;!(e instanceof Ft);){if(!(e instanceof Error))return!1;e=e.cause}return de("Async:handleSilentError")(t),!0}r(gy,"handleSilentError");var yy=new WeakSet;async function Cc(){return new Promise(t=>{requestAnimationFrame(()=>{t()})})}r(Cc,"requestAnimationFrameAsync");async function Ri(t,e,n){let i=de("Async:retryWithTimeout");n??=Ye(1);let a={...{retryDelayInMilliseconds:100,shouldRetryOnError:!1,timeoutInMilliseconds:5e3},...e};a.abortSignal?.throwIfAborted(),await ha(a.timeoutInMilliseconds,async l=>{let c=wn(a.abortSignal,l);c.throwIfAborted();let f=0;for(;!c.aborted;){f++;let h;try{h=await t(c)}catch(p){if(c.aborted||!a.shouldRetryOnError||yy.has(p))throw new vt("retryWithTimeout failed",n,p);kn(p),h=!1}if(h){_t(i,n,`Retry completed successfully after ${String(f)} attempts`,{fn:t});return}_t(i,n,`Retry attempt ${String(f)} completed unsuccessfully. Trying again in ${String(a.retryDelayInMilliseconds)} milliseconds`,{fn:t}),await pa(a.retryDelayInMilliseconds,l)}},{retryFn:t},n)}r(Ri,"retryWithTimeout");async function ha(t,e,n,i){i??=Ye(1);let s=performance.now(),a=new AbortController,l=new AbortController,c=null,f=!1,h=!1,p=de("Async:runWithTimeout");if(await Promise.race([g(),y()]),f)return c;throw new vt("Run with timeout failed",i,a.signal.reason);async function g(){try{c=await e(a.signal);let w=performance.now()-s;_t(p,i??"",`Execution time: ${String(w)} milliseconds`,{context:n,fn:e}),f=!0}catch(w){a.abort(w)}finally{h=!0,l.abort(new Error("Completed"))}}async function y(){for(;!h;){if(await pa(t,l.signal),h)return;let w=performance.now()-s;_t(p,i??"",`Timed out after ${String(w)} milliseconds`,{context:n,fn:e});let v=de("Async:runWithTimeout:timeout");if(!v.enabled){a.abort(new Error(`Timed out after ${String(w)} milliseconds`));return}v(`The execution is not terminated because debugger ${v.namespace} is enabled. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md for more information.`)}}}r(ha,"runWithTimeout");async function pa(t,e,n){await Zu(wn(e,qu(t))),n&&e?.throwIfAborted()}r(pa,"sleep");var It=require("obsidian");var wy=require("obsidian"),Sc=require("obsidian"),Ec=require("obsidian"),tC=require("obsidian"),nC=require("obsidian");var vc=class{static{r(this,"CustomArrayDictImpl")}data=new Map;add(t,e){let n=this.get(t);n||(n=[],this.data.set(t,n)),n.includes(e)||n.push(e)}remove(t,e){let n=this.get(t);n&&(n.remove(e),n.length===0&&this.clear(t))}get(t){return this.data.get(t)||null}keys(){return Array.from(this.data.keys())}clear(t){this.data.delete(t)}clearAll(){this.data.clear()}contains(t,e){return!!this.get(t)?.contains(e)}count(){let t=0;for(let e of this.keys())t+=this.get(e)?.length??0;return t}};var ft={AudioRecorder:"audio-recorder",Backlink:"backlink",Bases:"bases",Bookmarks:"bookmarks",Canvas:"canvas",CommandPalette:"command-palette",DailyNotes:"daily-notes",EditorStatus:"editor-status",FileExplorer:"file-explorer",FileRecovery:"file-recovery",Footnotes:"footnotes",GlobalSearch:"global-search",Graph:"graph",MarkdownImporter:"markdown-importer",NoteComposer:"note-composer",OutgoingLink:"outgoing-link",Outline:"outline",PagePreview:"page-preview",Properties:"properties",Publish:"publish",RandomNote:"random-note",SlashCommand:"slash-command",Slides:"slides",Switcher:"switcher",Sync:"sync",TagPane:"tag-pane",Templates:"templates",Webviewer:"webviewer",WordCount:"word-count",Workspaces:"workspaces",ZkPrefixer:"zk-prefixer"},Ac={AllProperties:"all-properties",Audio:"audio",Backlink:ft.Backlink,Bases:ft.Bases,Bookmarks:ft.Bookmarks,Canvas:ft.Canvas,Empty:"empty",FileExplorer:ft.FileExplorer,FileProperties:"file-properties",Graph:ft.Graph,Image:"image",LocalGraph:"localgraph",Markdown:"markdown",OutgoingLink:ft.OutgoingLink,Outline:ft.Outline,Pdf:"pdf",ReleaseNotes:"release-notes",Search:"search",Sync:"sync",Table:"table",Tag:"tag",Video:"video",Webviewer:"webviewer",WebviewerHistory:"webviewer-history"};function by(){return Sc.TFile}r(by,"getTFileConstructor");function ky(){return Ec.TFolder}r(ky,"getTFolderConstructor");function Ot(t){return t.replace(/\/?[^\/]*$/,"")||"/"}r(Ot,"parentFolderPath");function Ni(t,e){let n=t.vault.getFolderByPath(e);return n||(n=new(ky())(t.vault,e),n.parent=Ni(t,Ot(e)),n.deleted=!0,n)}r(Ni,"createTFolderInstance");function Tc(t,e){let n=t.vault.getFileByPath(e);return n||(n=new(by())(t.vault,e),n.parent=Ni(t,Ot(e)),n.deleted=!0,n)}r(Tc,"createTFileInstance");function Kt(t){return!!t.position}r(Kt,"isReferenceCache");function nt(t){return!!t.key}r(nt,"isFrontmatterLinkCache");var ya=lt(_c(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function ma(t){return t.replaceAll(/[.*+?^${}()|[\]\\]/g,"\\$&")}r(ma,"escapeRegExp");function Oc(t){try{return new RegExp(t),!0}catch{return!1}}r(Oc,"isValidRegExp");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function jn(t,e,...n){return e??=We(),e.throwIfAborted(),Cy(t)?await t(e,...n):t}r(jn,"resolveValue");function Cy(t){return typeof t=="function"}r(Cy,"isFunction");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var vy={"\n":"\\n","\r":"\\r","	":"\\t","\b":"\\b","\f":"\\f","'":"\\'",'"':'\\"',"\\":"\\\\"};var Ay={};for(let[t,e]of Object.entries(vy))Ay[e]=t;function Mc(t,e,n,i){return i??=n,t.slice(0,n)+e+t.slice(i)}r(Mc,"insertAt");function Ir(t){return Ge(t,/\u00A0|\u202F/g," ").normalize("NFC")}r(Ir,"normalize");function Ge(t,e,n){return typeof n>"u"?t:(e instanceof RegExp&&!e.global&&(e=new RegExp(e.source,`${e.flags}g`)),typeof n=="string"?t.replaceAll(e,n):t.replaceAll(e,(i,...s)=>{let l=typeof s.at(-1)=="object",c=l?s.length-2:s.length-1,f={groups:l?s.at(-1):void 0,missingGroupIndices:[],offset:s.at(c-1),source:s.at(c),substring:i},h=s.slice(0,c-1).map((p,g)=>{if(typeof p=="string")return p;if(typeof p>"u")return f.missingGroupIndices.push(g),"";throw new Error(`Unexpected argument type: ${typeof p}`)});return n(f,...h)??f.substring}))}r(Ge,"replaceAll");function ga(t,e,n){if(t.endsWith(e))return t.slice(0,-e.length);if(n)throw new Error(`String ${t} does not end with suffix ${e}`);return t}r(ga,"trimEnd");function Lc(t,e,n){if(t.startsWith(e))return t.slice(e.length);if(n)throw new Error(`String ${t} does not start with prefix ${e}`);return t}r(Lc,"trimStart");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Sy=/[a-zA-Z]:\/[^:]*$/,Lt=ya.default.posix,xC=Lt.delimiter,CC=ya.default.posix.sep,Ke=Lt.basename,Pe=Lt.dirname,At=Lt.extname,vC=Lt.format;var qe=Lt.join,AC=Lt.normalize,SC=Lt.parse,Gn=Lt.relative;function Ic(t,e){return e?`${t}.${e}`:t}r(Ic,"makeFileName");function Dc(...t){let e=Lt.resolve(...t);return e=Ey(e),Sy.exec(e)?.[0]??e}r(Dc,"resolve");function Ey(t){return Ge(t,"\\","/")}r(Ey,"toPosixPath");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ty="base",Bi="canvas",sn="md";function wa(t,e,n){if(dt(e))return e.extension===n;if(typeof e=="string"){let i=Je(t,e);return i?i.extension===n:At(e).slice(1)===n}return!1}r(wa,"checkExtension");function Dr(t,e,n){if(e===null)return null;if(Bc(e))return t.vault.fileMap[e.path]??e;let i=Rc(t,e,n);if(i)return i;let s=Vc(e);return s===e?null:Rc(t,s,n)}r(Dr,"getAbstractFileOrNull");function Ce(t,e,n,i){let s=Je(t,e,i);if(!s)if(n)s=Tc(t,e);else throw new Error(`File not found: ${e}`);return s}r(Ce,"getFile");function Je(t,e,n){let i=Dr(t,e,n);return dt(i)?i:null}r(Je,"getFileOrNull");function xn(t,e,n,i){let s=St(t,e,i);if(!s)if(n)s=Ni(t,e);else throw new Error(`Folder not found: ${e}`);return s}r(xn,"getFolder");function St(t,e,n){let i=Dr(t,e,n);return ba(i)?i:null}r(St,"getFolderOrNull");function Nc(t,e,n){let i=xn(t,e),s=[];return n?It.Vault.recurseChildren(i,a=>{ze(t,a)&&s.push(a)}):s=i.children.filter(a=>ze(t,a)),s=s.sort((a,l)=>a.path.localeCompare(l.path)),s}r(Nc,"getMarkdownFiles");function we(t,e){if(Bc(e))return e.path;let n=Dr(t,e);return n?n.path:Vc(e)}r(we,"getPath");function Bc(t){return t instanceof It.TAbstractFile}r(Bc,"isAbstractFile");function Py(t,e){return wa(t,e,Ty)}r(Py,"isBaseFile");function Cn(t,e){return wa(t,e,Bi)}r(Cn,"isCanvasFile");function dt(t){return t instanceof It.TFile}r(dt,"isFile");function ba(t){return t instanceof It.TFolder}r(ba,"isFolder");function ze(t,e){return wa(t,e,sn)}r(ze,"isMarkdownFile");function ka(t,e){return ze(t,e)||Cn(t,e)||Py(t,e)}r(ka,"isNote");function Rc(t,e,n){return n?t.vault.getAbstractFileByPathInsensitive(e):t.vault.getAbstractFileByPath(e)}r(Rc,"getFileInternal");function Vc(t){return(0,It.normalizePath)(Dc("/",t))}r(Vc,"getResolvedPath");var or=require("obsidian");var Fy={};function vn(t,e){let n=e||Fy,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Yc(t,i,s)}r(vn,"toString");function Yc(t,e,n){if(_y(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Wc(t.children,e,n)}return Array.isArray(t)?Wc(t,e,n):""}r(Yc,"one");function Wc(t,e,n){let i=[],s=-1;for(;++s<t.length;)i[s]=Yc(t[s],e,n);return i.join("")}r(Wc,"all");function _y(t){return!!(t&&typeof t=="object")}r(_y,"node");var zc=document.createElement("i");function Kn(t){let e="&"+t+";";zc.innerHTML=e;let n=zc.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}r(Kn,"decodeNamedCharacterReference");function Fe(t,e,n,i){let s=t.length,a=0,l;if(e<0?e=-e>s?0:s+e:e=e>s?s:e,n=n>0?n:0,i.length<1e4)l=Array.from(i),l.unshift(e,n),t.splice(...l);else for(n&&t.splice(e,n);a<i.length;)l=i.slice(a,a+1e4),l.unshift(e,0),t.splice(...l),a+=1e4,e+=1e4}r(Fe,"splice");function Ue(t,e){return t.length>0?(Fe(t,t.length,0,e),t):e}r(Ue,"push");var Uc={}.hasOwnProperty;function $c(t){let e={},n=-1;for(;++n<t.length;)Oy(e,t[n]);return e}r($c,"combineExtensions");function Oy(t,e){let n;for(n in e){let s=(Uc.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n],l;if(a)for(l in a){Uc.call(s,l)||(s[l]=[]);let c=a[l];My(s[l],Array.isArray(c)?c:c?[c]:[])}}}r(Oy,"syntaxExtension");function My(t,e){let n=-1,i=[];for(;++n<e.length;)(e[n].add==="after"?t:i).push(e[n]);Fe(t,0,0,i)}r(My,"constructs");function Vi(t,e){let n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"\uFFFD":String.fromCodePoint(n)}r(Vi,"decodeNumericCharacterReference");function qt(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}r(qt,"normalizeIdentifier");var rt=on(/[A-Za-z]/),$e=on(/[\dA-Za-z]/),Hc=on(/[#-'*+\--9=?A-Z^-~]/);function Rr(t){return t!==null&&(t<32||t===127)}r(Rr,"asciiControl");var Nr=on(/\d/),jc=on(/[\dA-Fa-f]/),Gc=on(/[!-/:-@[-`{-~]/);function V(t){return t!==null&&t<-2}r(V,"markdownLineEnding");function ye(t){return t!==null&&(t<0||t===32)}r(ye,"markdownLineEndingOrSpace");function q(t){return t===-2||t===-1||t===32}r(q,"markdownSpace");var Kc=on(/\p{P}|\p{S}/u),qc=on(/\s/);function on(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}r(on,"regexCheck");function Z(t,e,n,i){let s=i?i-1:Number.POSITIVE_INFINITY,a=0;return l;function l(f){return q(f)?(t.enter(n),c(f)):e(f)}function c(f){return q(f)&&a++<s?(t.consume(f),c):(t.exit(n),e(f))}}r(Z,"factorySpace");var Jc={tokenize:Ly};function Ly(t){let e=t.attempt(this.parser.constructs.contentInitial,i,s),n;return e;function i(c){if(c===null){t.consume(c);return}return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),Z(t,e,"linePrefix")}function s(c){return t.enter("paragraph"),a(c)}function a(c){let f=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=f),n=f,l(c)}function l(c){if(c===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(c);return}return V(c)?(t.consume(c),t.exit("chunkText"),a):(t.consume(c),l)}}r(Ly,"initializeContent");var Qc={tokenize:Iy},Zc={tokenize:Dy};function Iy(t){let e=this,n=[],i=0,s,a,l;return c;function c(O){if(i<n.length){let I=n[i];return e.containerState=I[1],t.attempt(I[0].continuation,f,h)(O)}return h(O)}function f(O){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,s&&P();let I=e.events.length,W=I,E;for(;W--;)if(e.events[W][0]==="exit"&&e.events[W][1].type==="chunkFlow"){E=e.events[W][1].end;break}A(i);let G=I;for(;G<e.events.length;)e.events[G][1].end={...E},G++;return Fe(e.events,W+1,0,e.events.slice(I)),e.events.length=G,h(O)}return c(O)}function h(O){if(i===n.length){if(!s)return y(O);if(s.currentConstruct&&s.currentConstruct.concrete)return v(O);e.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Zc,p,g)(O)}function p(O){return s&&P(),A(i),y(O)}function g(O){return e.parser.lazy[e.now().line]=i!==n.length,l=e.now().offset,v(O)}function y(O){return e.containerState={},t.attempt(Zc,w,v)(O)}function w(O){return i++,n.push([e.currentConstruct,e.containerState]),y(O)}function v(O){if(O===null){s&&P(),A(0),t.consume(O);return}return s=s||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:a}),F(O)}function F(O){if(O===null){S(t.exit("chunkFlow"),!0),A(0),t.consume(O);return}return V(O)?(t.consume(O),S(t.exit("chunkFlow")),i=0,e.interrupt=void 0,c):(t.consume(O),F)}function S(O,I){let W=e.sliceStream(O);if(I&&W.push(null),O.previous=a,a&&(a.next=O),a=O,s.defineSkip(O.start),s.write(W),e.parser.lazy[O.start.line]){let E=s.events.length;for(;E--;)if(s.events[E][1].start.offset<l&&(!s.events[E][1].end||s.events[E][1].end.offset>l))return;let G=e.events.length,K=G,$,Q;for(;K--;)if(e.events[K][0]==="exit"&&e.events[K][1].type==="chunkFlow"){if($){Q=e.events[K][1].end;break}$=!0}for(A(i),E=G;E<e.events.length;)e.events[E][1].end={...Q},E++;Fe(e.events,K+1,0,e.events.slice(G)),e.events.length=E}}function A(O){let I=n.length;for(;I-- >O;){let W=n[I];e.containerState=W[1],W[0].exit.call(e,t)}n.length=O}function P(){s.write([null]),a=void 0,s=void 0,e.containerState._closeFlow=void 0}}r(Iy,"initializeDocument");function Dy(t,e,n){return Z(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}r(Dy,"tokenizeContainer");function qn(t){if(t===null||ye(t)||qc(t))return 1;if(Kc(t))return 2}r(qn,"classifyCharacter");function Jn(t,e,n){let i=[],s=-1;for(;++s<t.length;){let a=t[s].resolveAll;a&&!i.includes(a)&&(e=a(e,n),i.push(a))}return e}r(Jn,"resolveAll");var Br={name:"attention",resolveAll:Ry,tokenize:Ny};function Ry(t,e){let n=-1,i,s,a,l,c,f,h,p;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(i=n;i--;)if(t[i][0]==="exit"&&t[i][1].type==="attentionSequence"&&t[i][1]._open&&e.sliceSerialize(t[i][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[i][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;f=t[i][1].end.offset-t[i][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;let g={...t[i][1].end},y={...t[n][1].start};Xc(g,-f),Xc(y,f),l={type:f>1?"strongSequence":"emphasisSequence",start:g,end:{...t[i][1].end}},c={type:f>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:y},a={type:f>1?"strongText":"emphasisText",start:{...t[i][1].end},end:{...t[n][1].start}},s={type:f>1?"strong":"emphasis",start:{...l.start},end:{...c.end}},t[i][1].end={...l.start},t[n][1].start={...c.end},h=[],t[i][1].end.offset-t[i][1].start.offset&&(h=Ue(h,[["enter",t[i][1],e],["exit",t[i][1],e]])),h=Ue(h,[["enter",s,e],["enter",l,e],["exit",l,e],["enter",a,e]]),h=Ue(h,Jn(e.parser.constructs.insideSpan.null,t.slice(i+1,n),e)),h=Ue(h,[["exit",a,e],["enter",c,e],["exit",c,e],["exit",s,e]]),t[n][1].end.offset-t[n][1].start.offset?(p=2,h=Ue(h,[["enter",t[n][1],e],["exit",t[n][1],e]])):p=0,Fe(t,i-1,n-i+3,h),n=i+h.length-p-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}r(Ry,"resolveAllAttention");function Ny(t,e){let n=this.parser.constructs.attentionMarkers.null,i=this.previous,s=qn(i),a;return l;function l(f){return a=f,t.enter("attentionSequence"),c(f)}function c(f){if(f===a)return t.consume(f),c;let h=t.exit("attentionSequence"),p=qn(f),g=!p||p===2&&s||n.includes(f),y=!s||s===2&&p||n.includes(i);return h._open=!!(a===42?g:g&&(s||!y)),h._close=!!(a===42?y:y&&(p||!g)),e(f)}}r(Ny,"tokenizeAttention");function Xc(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}r(Xc,"movePoint");var xa={name:"autolink",tokenize:By};function By(t,e,n){let i=0;return s;function s(w){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(w){return rt(w)?(t.consume(w),l):w===64?n(w):h(w)}function l(w){return w===43||w===45||w===46||$e(w)?(i=1,c(w)):h(w)}function c(w){return w===58?(t.consume(w),i=0,f):(w===43||w===45||w===46||$e(w))&&i++<32?(t.consume(w),c):(i=0,h(w))}function f(w){return w===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):w===null||w===32||w===60||Rr(w)?n(w):(t.consume(w),f)}function h(w){return w===64?(t.consume(w),p):Hc(w)?(t.consume(w),h):n(w)}function p(w){return $e(w)?g(w):n(w)}function g(w){return w===46?(t.consume(w),i=0,p):w===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):y(w)}function y(w){if((w===45||$e(w))&&i++<63){let v=w===45?y:g;return t.consume(w),v}return n(w)}}r(By,"tokenizeAutolink");var an={partial:!0,tokenize:Vy};function Vy(t,e,n){return i;function i(a){return q(a)?Z(t,s,"linePrefix")(a):s(a)}function s(a){return a===null||V(a)?e(a):n(a)}}r(Vy,"tokenizeBlankLine");var Wi={continuation:{tokenize:Yy},exit:zy,name:"blockQuote",tokenize:Wy};function Wy(t,e,n){let i=this;return s;function s(l){if(l===62){let c=i.containerState;return c.open||(t.enter("blockQuote",{_container:!0}),c.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(l),t.exit("blockQuoteMarker"),a}return n(l)}function a(l){return q(l)?(t.enter("blockQuotePrefixWhitespace"),t.consume(l),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(l))}}r(Wy,"tokenizeBlockQuoteStart");function Yy(t,e,n){let i=this;return s;function s(l){return q(l)?Z(t,a,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):a(l)}function a(l){return t.attempt(Wi,e,n)(l)}}r(Yy,"tokenizeBlockQuoteContinuation");function zy(t){t.exit("blockQuote")}r(zy,"exit");var Yi={name:"characterEscape",tokenize:Uy};function Uy(t,e,n){return i;function i(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),s}function s(a){return Gc(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}r(Uy,"tokenizeCharacterEscape");var zi={name:"characterReference",tokenize:$y};function $y(t,e,n){let i=this,s=0,a,l;return c;function c(g){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),f}function f(g){return g===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(g),t.exit("characterReferenceMarkerNumeric"),h):(t.enter("characterReferenceValue"),a=31,l=$e,p(g))}function h(g){return g===88||g===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(g),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,l=jc,p):(t.enter("characterReferenceValue"),a=7,l=Nr,p(g))}function p(g){if(g===59&&s){let y=t.exit("characterReferenceValue");return l===$e&&!Kn(i.sliceSerialize(y))?n(g):(t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return l(g)&&s++<a?(t.consume(g),p):n(g)}}r($y,"tokenizeCharacterReference");var ef={partial:!0,tokenize:jy},Ui={concrete:!0,name:"codeFenced",tokenize:Hy};function Hy(t,e,n){let i=this,s={partial:!0,tokenize:W},a=0,l=0,c;return f;function f(E){return h(E)}function h(E){let G=i.events[i.events.length-1];return a=G&&G[1].type==="linePrefix"?G[2].sliceSerialize(G[1],!0).length:0,c=E,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),p(E)}function p(E){return E===c?(l++,t.consume(E),p):l<3?n(E):(t.exit("codeFencedFenceSequence"),q(E)?Z(t,g,"whitespace")(E):g(E))}function g(E){return E===null||V(E)?(t.exit("codeFencedFence"),i.interrupt?e(E):t.check(ef,F,I)(E)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),y(E))}function y(E){return E===null||V(E)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),g(E)):q(E)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Z(t,w,"whitespace")(E)):E===96&&E===c?n(E):(t.consume(E),y)}function w(E){return E===null||V(E)?g(E):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),v(E))}function v(E){return E===null||V(E)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),g(E)):E===96&&E===c?n(E):(t.consume(E),v)}function F(E){return t.attempt(s,I,S)(E)}function S(E){return t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),A}function A(E){return a>0&&q(E)?Z(t,P,"linePrefix",a+1)(E):P(E)}function P(E){return E===null||V(E)?t.check(ef,F,I)(E):(t.enter("codeFlowValue"),O(E))}function O(E){return E===null||V(E)?(t.exit("codeFlowValue"),P(E)):(t.consume(E),O)}function I(E){return t.exit("codeFenced"),e(E)}function W(E,G,K){let $=0;return Q;function Q(U){return E.enter("lineEnding"),E.consume(U),E.exit("lineEnding"),ue}function ue(U){return E.enter("codeFencedFence"),q(U)?Z(E,te,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):te(U)}function te(U){return U===c?(E.enter("codeFencedFenceSequence"),D(U)):K(U)}function D(U){return U===c?($++,E.consume(U),D):$>=l?(E.exit("codeFencedFenceSequence"),q(U)?Z(E,z,"whitespace")(U):z(U)):K(U)}function z(U){return U===null||V(U)?(E.exit("codeFencedFence"),G(U)):K(U)}}}r(Hy,"tokenizeCodeFenced");function jy(t,e,n){let i=this;return s;function s(l){return l===null?n(l):(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),a)}function a(l){return i.parser.lazy[i.now().line]?n(l):e(l)}}r(jy,"tokenizeNonLazyContinuation");var Vr={name:"codeIndented",tokenize:Ky},Gy={partial:!0,tokenize:qy};function Ky(t,e,n){let i=this;return s;function s(h){return t.enter("codeIndented"),Z(t,a,"linePrefix",5)(h)}function a(h){let p=i.events[i.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?l(h):n(h)}function l(h){return h===null?f(h):V(h)?t.attempt(Gy,l,f)(h):(t.enter("codeFlowValue"),c(h))}function c(h){return h===null||V(h)?(t.exit("codeFlowValue"),l(h)):(t.consume(h),c)}function f(h){return t.exit("codeIndented"),e(h)}}r(Ky,"tokenizeCodeIndented");function qy(t,e,n){let i=this;return s;function s(l){return i.parser.lazy[i.now().line]?n(l):V(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),s):Z(t,a,"linePrefix",5)(l)}function a(l){let c=i.events[i.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(l):V(l)?s(l):n(l)}}r(qy,"tokenizeFurtherStart");var Ca={name:"codeText",previous:Zy,resolve:Jy,tokenize:Qy};function Jy(t){let e=t.length-4,n=3,i,s;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)s===void 0?i!==e&&t[i][1].type!=="lineEnding"&&(s=i):(i===e||t[i][1].type==="lineEnding")&&(t[s][1].type="codeTextData",i!==s+2&&(t[s][1].end=t[i-1][1].end,t.splice(s+2,i-s-2),e-=i-s-2,i=s+2),s=void 0);return t}r(Jy,"resolveCodeText");function Zy(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}r(Zy,"previous");function Qy(t,e,n){let i=this,s=0,a,l;return c;function c(y){return t.enter("codeText"),t.enter("codeTextSequence"),f(y)}function f(y){return y===96?(t.consume(y),s++,f):(t.exit("codeTextSequence"),h(y))}function h(y){return y===null?n(y):y===32?(t.enter("space"),t.consume(y),t.exit("space"),h):y===96?(l=t.enter("codeTextSequence"),a=0,g(y)):V(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),h):(t.enter("codeTextData"),p(y))}function p(y){return y===null||y===32||y===96||V(y)?(t.exit("codeTextData"),h(y)):(t.consume(y),p)}function g(y){return y===96?(t.consume(y),a++,g):a===s?(t.exit("codeTextSequence"),t.exit("codeText"),e(y)):(l.type="codeTextData",p(y))}}r(Qy,"tokenizeCodeText");var $i=class{static{r(this,"SpliceBuffer")}constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){let i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,n,i){let s=n||0;this.setCursor(Math.trunc(e));let a=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return i&&Wr(this.left,i),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Wr(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Wr(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){let n=this.left.splice(e,Number.POSITIVE_INFINITY);Wr(this.right,n.reverse())}else{let n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Wr(this.left,n.reverse())}}};function Wr(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}r(Wr,"chunkedPush");function Hi(t){let e={},n=-1,i,s,a,l,c,f,h,p=new $i(t);for(;++n<p.length;){for(;n in e;)n=e[n];if(i=p.get(n),n&&i[1].type==="chunkFlow"&&p.get(n-1)[1].type==="listItemPrefix"&&(f=i[1]._tokenizer.events,a=0,a<f.length&&f[a][1].type==="lineEndingBlank"&&(a+=2),a<f.length&&f[a][1].type==="content"))for(;++a<f.length&&f[a][1].type!=="content";)f[a][1].type==="chunkText"&&(f[a][1]._isInFirstContentOfListItem=!0,a++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,Xy(p,n)),n=e[n],h=!0);else if(i[1]._container){for(a=n,s=void 0;a--;)if(l=p.get(a),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(s&&(p.get(s)[1].type="lineEndingBlank"),l[1].type="lineEnding",s=a);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;s&&(i[1].end={...p.get(s)[1].start},c=p.slice(s,n),c.unshift(i),p.splice(s,n-s+1,c))}}return Fe(t,0,Number.POSITIVE_INFINITY,p.slice(0)),!h}r(Hi,"subtokenize");function Xy(t,e){let n=t.get(e)[1],i=t.get(e)[2],s=e-1,a=[],l=n._tokenizer;l||(l=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));let c=l.events,f=[],h={},p,g,y=-1,w=n,v=0,F=0,S=[F];for(;w;){for(;t.get(++s)[1]!==w;);a.push(s),w._tokenizer||(p=i.sliceStream(w),w.next||p.push(null),g&&l.defineSkip(w.start),w._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(p),w._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),g=w,w=w.next}for(w=n;++y<c.length;)c[y][0]==="exit"&&c[y-1][0]==="enter"&&c[y][1].type===c[y-1][1].type&&c[y][1].start.line!==c[y][1].end.line&&(F=y+1,S.push(F),w._tokenizer=void 0,w.previous=void 0,w=w.next);for(l.events=[],w?(w._tokenizer=void 0,w.previous=void 0):S.pop(),y=S.length;y--;){let A=c.slice(S[y],S[y+1]),P=a.pop();f.push([P,P+A.length-1]),t.splice(P,2,A)}for(f.reverse(),y=-1;++y<f.length;)h[v+f[y][0]]=v+f[y][1],v+=f[y][1]-f[y][0]-1;return h}r(Xy,"subcontent");var va={resolve:tw,tokenize:nw},ew={partial:!0,tokenize:rw};function tw(t){return Hi(t),t}r(tw,"resolveContent");function nw(t,e){let n;return i;function i(c){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),s(c)}function s(c){return c===null?a(c):V(c)?t.check(ew,l,a)(c):(t.consume(c),s)}function a(c){return t.exit("chunkContent"),t.exit("content"),e(c)}function l(c){return t.consume(c),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}r(nw,"tokenizeContent");function rw(t,e,n){let i=this;return s;function s(l){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),Z(t,a,"linePrefix")}function a(l){if(l===null||V(l))return n(l);let c=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(l):t.interrupt(i.parser.constructs.flow,n,e)(l)}}r(rw,"tokenizeContinuation");function ji(t,e,n,i,s,a,l,c,f){let h=f||Number.POSITIVE_INFINITY,p=0;return g;function g(A){return A===60?(t.enter(i),t.enter(s),t.enter(a),t.consume(A),t.exit(a),y):A===null||A===32||A===41||Rr(A)?n(A):(t.enter(i),t.enter(l),t.enter(c),t.enter("chunkString",{contentType:"string"}),F(A))}function y(A){return A===62?(t.enter(a),t.consume(A),t.exit(a),t.exit(s),t.exit(i),e):(t.enter(c),t.enter("chunkString",{contentType:"string"}),w(A))}function w(A){return A===62?(t.exit("chunkString"),t.exit(c),y(A)):A===null||A===60||V(A)?n(A):(t.consume(A),A===92?v:w)}function v(A){return A===60||A===62||A===92?(t.consume(A),w):w(A)}function F(A){return!p&&(A===null||A===41||ye(A))?(t.exit("chunkString"),t.exit(c),t.exit(l),t.exit(i),e(A)):p<h&&A===40?(t.consume(A),p++,F):A===41?(t.consume(A),p--,F):A===null||A===32||A===40||Rr(A)?n(A):(t.consume(A),A===92?S:F)}function S(A){return A===40||A===41||A===92?(t.consume(A),F):F(A)}}r(ji,"factoryDestination");function Gi(t,e,n,i,s,a){let l=this,c=0,f;return h;function h(w){return t.enter(i),t.enter(s),t.consume(w),t.exit(s),t.enter(a),p}function p(w){return c>999||w===null||w===91||w===93&&!f||w===94&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?n(w):w===93?(t.exit(a),t.enter(s),t.consume(w),t.exit(s),t.exit(i),e):V(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),p):(t.enter("chunkString",{contentType:"string"}),g(w))}function g(w){return w===null||w===91||w===93||V(w)||c++>999?(t.exit("chunkString"),p(w)):(t.consume(w),f||(f=!q(w)),w===92?y:g)}function y(w){return w===91||w===92||w===93?(t.consume(w),c++,g):g(w)}}r(Gi,"factoryLabel");function Ki(t,e,n,i,s,a){let l;return c;function c(y){return y===34||y===39||y===40?(t.enter(i),t.enter(s),t.consume(y),t.exit(s),l=y===40?41:y,f):n(y)}function f(y){return y===l?(t.enter(s),t.consume(y),t.exit(s),t.exit(i),e):(t.enter(a),h(y))}function h(y){return y===l?(t.exit(a),f(l)):y===null?n(y):V(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),Z(t,h,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===l||y===null||V(y)?(t.exit("chunkString"),h(y)):(t.consume(y),y===92?g:p)}function g(y){return y===l||y===92?(t.consume(y),p):p(y)}}r(Ki,"factoryTitle");function An(t,e){let n;return i;function i(s){return V(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),n=!0,i):q(s)?Z(t,i,n?"linePrefix":"lineSuffix")(s):e(s)}}r(An,"factoryWhitespace");var Aa={name:"definition",tokenize:sw},iw={partial:!0,tokenize:ow};function sw(t,e,n){let i=this,s;return a;function a(w){return t.enter("definition"),l(w)}function l(w){return Gi.call(i,t,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(w)}function c(w){return s=qt(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),w===58?(t.enter("definitionMarker"),t.consume(w),t.exit("definitionMarker"),f):n(w)}function f(w){return ye(w)?An(t,h)(w):h(w)}function h(w){return ji(t,p,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(w)}function p(w){return t.attempt(iw,g,g)(w)}function g(w){return q(w)?Z(t,y,"whitespace")(w):y(w)}function y(w){return w===null||V(w)?(t.exit("definition"),i.parser.defined.push(s),e(w)):n(w)}}r(sw,"tokenizeDefinition");function ow(t,e,n){return i;function i(c){return ye(c)?An(t,s)(c):n(c)}function s(c){return Ki(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function a(c){return q(c)?Z(t,l,"whitespace")(c):l(c)}function l(c){return c===null||V(c)?e(c):n(c)}}r(ow,"tokenizeTitleBefore");var Sa={name:"hardBreakEscape",tokenize:aw};function aw(t,e,n){return i;function i(a){return t.enter("hardBreakEscape"),t.consume(a),s}function s(a){return V(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}r(aw,"tokenizeHardBreakEscape");var Ea={name:"headingAtx",resolve:lw,tokenize:uw};function lw(t,e){let n=t.length-2,i=3,s,a;return t[i][1].type==="whitespace"&&(i+=2),n-2>i&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&t[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(s={type:"atxHeadingText",start:t[i][1].start,end:t[n][1].end},a={type:"chunkText",start:t[i][1].start,end:t[n][1].end,contentType:"text"},Fe(t,i,n-i+1,[["enter",s,e],["enter",a,e],["exit",a,e],["exit",s,e]])),t}r(lw,"resolveHeadingAtx");function uw(t,e,n){let i=0;return s;function s(p){return t.enter("atxHeading"),a(p)}function a(p){return t.enter("atxHeadingSequence"),l(p)}function l(p){return p===35&&i++<6?(t.consume(p),l):p===null||ye(p)?(t.exit("atxHeadingSequence"),c(p)):n(p)}function c(p){return p===35?(t.enter("atxHeadingSequence"),f(p)):p===null||V(p)?(t.exit("atxHeading"),e(p)):q(p)?Z(t,c,"whitespace")(p):(t.enter("atxHeadingText"),h(p))}function f(p){return p===35?(t.consume(p),f):(t.exit("atxHeadingSequence"),c(p))}function h(p){return p===null||p===35||ye(p)?(t.exit("atxHeadingText"),c(p)):(t.consume(p),h)}}r(uw,"tokenizeHeadingAtx");var tf=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Ta=["pre","script","style","textarea"];var Pa={concrete:!0,name:"htmlFlow",resolveTo:dw,tokenize:hw},cw={partial:!0,tokenize:mw},fw={partial:!0,tokenize:pw};function dw(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}r(dw,"resolveToHtmlFlow");function hw(t,e,n){let i=this,s,a,l,c,f;return h;function h(k){return p(k)}function p(k){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(k),g}function g(k){return k===33?(t.consume(k),y):k===47?(t.consume(k),a=!0,F):k===63?(t.consume(k),s=3,i.interrupt?e:C):rt(k)?(t.consume(k),l=String.fromCharCode(k),S):n(k)}function y(k){return k===45?(t.consume(k),s=2,w):k===91?(t.consume(k),s=5,c=0,v):rt(k)?(t.consume(k),s=4,i.interrupt?e:C):n(k)}function w(k){return k===45?(t.consume(k),i.interrupt?e:C):n(k)}function v(k){let ve="CDATA[";return k===ve.charCodeAt(c++)?(t.consume(k),c===ve.length?i.interrupt?e:te:v):n(k)}function F(k){return rt(k)?(t.consume(k),l=String.fromCharCode(k),S):n(k)}function S(k){if(k===null||k===47||k===62||ye(k)){let ve=k===47,Nt=l.toLowerCase();return!ve&&!a&&Ta.includes(Nt)?(s=1,i.interrupt?e(k):te(k)):tf.includes(l.toLowerCase())?(s=6,ve?(t.consume(k),A):i.interrupt?e(k):te(k)):(s=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(k):a?P(k):O(k))}return k===45||$e(k)?(t.consume(k),l+=String.fromCharCode(k),S):n(k)}function A(k){return k===62?(t.consume(k),i.interrupt?e:te):n(k)}function P(k){return q(k)?(t.consume(k),P):Q(k)}function O(k){return k===47?(t.consume(k),Q):k===58||k===95||rt(k)?(t.consume(k),I):q(k)?(t.consume(k),O):Q(k)}function I(k){return k===45||k===46||k===58||k===95||$e(k)?(t.consume(k),I):W(k)}function W(k){return k===61?(t.consume(k),E):q(k)?(t.consume(k),W):O(k)}function E(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(t.consume(k),f=k,G):q(k)?(t.consume(k),E):K(k)}function G(k){return k===f?(t.consume(k),f=null,$):k===null||V(k)?n(k):(t.consume(k),G)}function K(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||ye(k)?W(k):(t.consume(k),K)}function $(k){return k===47||k===62||q(k)?O(k):n(k)}function Q(k){return k===62?(t.consume(k),ue):n(k)}function ue(k){return k===null||V(k)?te(k):q(k)?(t.consume(k),ue):n(k)}function te(k){return k===45&&s===2?(t.consume(k),J):k===60&&s===1?(t.consume(k),ie):k===62&&s===4?(t.consume(k),oe):k===63&&s===3?(t.consume(k),C):k===93&&s===5?(t.consume(k),be):V(k)&&(s===6||s===7)?(t.exit("htmlFlowData"),t.check(cw,pe,D)(k)):k===null||V(k)?(t.exit("htmlFlowData"),D(k)):(t.consume(k),te)}function D(k){return t.check(fw,z,pe)(k)}function z(k){return t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),U}function U(k){return k===null||V(k)?D(k):(t.enter("htmlFlowData"),te(k))}function J(k){return k===45?(t.consume(k),C):te(k)}function ie(k){return k===47?(t.consume(k),l="",ce):te(k)}function ce(k){if(k===62){let ve=l.toLowerCase();return Ta.includes(ve)?(t.consume(k),oe):te(k)}return rt(k)&&l.length<8?(t.consume(k),l+=String.fromCharCode(k),ce):te(k)}function be(k){return k===93?(t.consume(k),C):te(k)}function C(k){return k===62?(t.consume(k),oe):k===45&&s===2?(t.consume(k),C):te(k)}function oe(k){return k===null||V(k)?(t.exit("htmlFlowData"),pe(k)):(t.consume(k),oe)}function pe(k){return t.exit("htmlFlow"),e(k)}}r(hw,"tokenizeHtmlFlow");function pw(t,e,n){let i=this;return s;function s(l){return V(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),a):n(l)}function a(l){return i.parser.lazy[i.now().line]?n(l):e(l)}}r(pw,"tokenizeNonLazyContinuationStart");function mw(t,e,n){return i;function i(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),t.attempt(an,e,n)}}r(mw,"tokenizeBlankLineBefore");var Fa={name:"htmlText",tokenize:gw};function gw(t,e,n){let i=this,s,a,l;return c;function c(C){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(C),f}function f(C){return C===33?(t.consume(C),h):C===47?(t.consume(C),W):C===63?(t.consume(C),O):rt(C)?(t.consume(C),K):n(C)}function h(C){return C===45?(t.consume(C),p):C===91?(t.consume(C),a=0,v):rt(C)?(t.consume(C),P):n(C)}function p(C){return C===45?(t.consume(C),w):n(C)}function g(C){return C===null?n(C):C===45?(t.consume(C),y):V(C)?(l=g,ie(C)):(t.consume(C),g)}function y(C){return C===45?(t.consume(C),w):g(C)}function w(C){return C===62?J(C):C===45?y(C):g(C)}function v(C){let oe="CDATA[";return C===oe.charCodeAt(a++)?(t.consume(C),a===oe.length?F:v):n(C)}function F(C){return C===null?n(C):C===93?(t.consume(C),S):V(C)?(l=F,ie(C)):(t.consume(C),F)}function S(C){return C===93?(t.consume(C),A):F(C)}function A(C){return C===62?J(C):C===93?(t.consume(C),A):F(C)}function P(C){return C===null||C===62?J(C):V(C)?(l=P,ie(C)):(t.consume(C),P)}function O(C){return C===null?n(C):C===63?(t.consume(C),I):V(C)?(l=O,ie(C)):(t.consume(C),O)}function I(C){return C===62?J(C):O(C)}function W(C){return rt(C)?(t.consume(C),E):n(C)}function E(C){return C===45||$e(C)?(t.consume(C),E):G(C)}function G(C){return V(C)?(l=G,ie(C)):q(C)?(t.consume(C),G):J(C)}function K(C){return C===45||$e(C)?(t.consume(C),K):C===47||C===62||ye(C)?$(C):n(C)}function $(C){return C===47?(t.consume(C),J):C===58||C===95||rt(C)?(t.consume(C),Q):V(C)?(l=$,ie(C)):q(C)?(t.consume(C),$):J(C)}function Q(C){return C===45||C===46||C===58||C===95||$e(C)?(t.consume(C),Q):ue(C)}function ue(C){return C===61?(t.consume(C),te):V(C)?(l=ue,ie(C)):q(C)?(t.consume(C),ue):$(C)}function te(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(t.consume(C),s=C,D):V(C)?(l=te,ie(C)):q(C)?(t.consume(C),te):(t.consume(C),z)}function D(C){return C===s?(t.consume(C),s=void 0,U):C===null?n(C):V(C)?(l=D,ie(C)):(t.consume(C),D)}function z(C){return C===null||C===34||C===39||C===60||C===61||C===96?n(C):C===47||C===62||ye(C)?$(C):(t.consume(C),z)}function U(C){return C===47||C===62||ye(C)?$(C):n(C)}function J(C){return C===62?(t.consume(C),t.exit("htmlTextData"),t.exit("htmlText"),e):n(C)}function ie(C){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(C),t.exit("lineEnding"),ce}function ce(C){return q(C)?Z(t,be,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):be(C)}function be(C){return t.enter("htmlTextData"),l(C)}}r(gw,"tokenizeHtmlText");var Sn={name:"labelEnd",resolveAll:kw,resolveTo:xw,tokenize:Cw},yw={tokenize:vw},ww={tokenize:Aw},bw={tokenize:Sw};function kw(t){let e=-1,n=[];for(;++e<t.length;){let i=t[e][1];if(n.push(t[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){let s=i.type==="labelImage"?4:2;i.type="data",e+=s}}return t.length!==n.length&&Fe(t,0,t.length,n),t}r(kw,"resolveAllLabelEnd");function xw(t,e){let n=t.length,i=0,s,a,l,c;for(;n--;)if(s=t[n][1],a){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;t[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(l){if(t[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(a=n,s.type!=="labelLink")){i=2;break}}else s.type==="labelEnd"&&(l=n);let f={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},h={type:"label",start:{...t[a][1].start},end:{...t[l][1].end}},p={type:"labelText",start:{...t[a+i+2][1].end},end:{...t[l-2][1].start}};return c=[["enter",f,e],["enter",h,e]],c=Ue(c,t.slice(a+1,a+i+3)),c=Ue(c,[["enter",p,e]]),c=Ue(c,Jn(e.parser.constructs.insideSpan.null,t.slice(a+i+4,l-3),e)),c=Ue(c,[["exit",p,e],t[l-2],t[l-1],["exit",h,e]]),c=Ue(c,t.slice(l+1)),c=Ue(c,[["exit",f,e]]),Fe(t,a,t.length,c),t}r(xw,"resolveToLabelEnd");function Cw(t,e,n){let i=this,s=i.events.length,a,l;for(;s--;)if((i.events[s][1].type==="labelImage"||i.events[s][1].type==="labelLink")&&!i.events[s][1]._balanced){a=i.events[s][1];break}return c;function c(y){return a?a._inactive?g(y):(l=i.parser.defined.includes(qt(i.sliceSerialize({start:a.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(y),t.exit("labelMarker"),t.exit("labelEnd"),f):n(y)}function f(y){return y===40?t.attempt(yw,p,l?p:g)(y):y===91?t.attempt(ww,p,l?h:g)(y):l?p(y):g(y)}function h(y){return t.attempt(bw,p,g)(y)}function p(y){return e(y)}function g(y){return a._balanced=!0,n(y)}}r(Cw,"tokenizeLabelEnd");function vw(t,e,n){return i;function i(g){return t.enter("resource"),t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),s}function s(g){return ye(g)?An(t,a)(g):a(g)}function a(g){return g===41?p(g):ji(t,l,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function l(g){return ye(g)?An(t,f)(g):p(g)}function c(g){return n(g)}function f(g){return g===34||g===39||g===40?Ki(t,h,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):p(g)}function h(g){return ye(g)?An(t,p)(g):p(g)}function p(g){return g===41?(t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),t.exit("resource"),e):n(g)}}r(vw,"tokenizeResource");function Aw(t,e,n){let i=this;return s;function s(c){return Gi.call(i,t,a,l,"reference","referenceMarker","referenceString")(c)}function a(c){return i.parser.defined.includes(qt(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(c):n(c)}function l(c){return n(c)}}r(Aw,"tokenizeReferenceFull");function Sw(t,e,n){return i;function i(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),s}function s(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}r(Sw,"tokenizeReferenceCollapsed");var _a={name:"labelStartImage",resolveAll:Sn.resolveAll,tokenize:Ew};function Ew(t,e,n){let i=this;return s;function s(c){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(c),t.exit("labelImageMarker"),a}function a(c){return c===91?(t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelImage"),l):n(c)}function l(c){return c===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(c):e(c)}}r(Ew,"tokenizeLabelStartImage");var Oa={name:"labelStartLink",resolveAll:Sn.resolveAll,tokenize:Tw};function Tw(t,e,n){let i=this;return s;function s(l){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelLink"),a}function a(l){return l===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(l):e(l)}}r(Tw,"tokenizeLabelStartLink");var Yr={name:"lineEnding",tokenize:Pw};function Pw(t,e){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),Z(t,e,"linePrefix")}}r(Pw,"tokenizeLineEnding");var En={name:"thematicBreak",tokenize:Fw};function Fw(t,e,n){let i=0,s;return a;function a(h){return t.enter("thematicBreak"),l(h)}function l(h){return s=h,c(h)}function c(h){return h===s?(t.enter("thematicBreakSequence"),f(h)):i>=3&&(h===null||V(h))?(t.exit("thematicBreak"),e(h)):n(h)}function f(h){return h===s?(t.consume(h),i++,f):(t.exit("thematicBreakSequence"),q(h)?Z(t,c,"whitespace")(h):c(h))}}r(Fw,"tokenizeThematicBreak");var Ie={continuation:{tokenize:Lw},exit:Dw,name:"list",tokenize:Mw},_w={partial:!0,tokenize:Rw},Ow={partial:!0,tokenize:Iw};function Mw(t,e,n){let i=this,s=i.events[i.events.length-1],a=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,l=0;return c;function c(w){let v=i.containerState.type||(w===42||w===43||w===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!i.containerState.marker||w===i.containerState.marker:Nr(w)){if(i.containerState.type||(i.containerState.type=v,t.enter(v,{_container:!0})),v==="listUnordered")return t.enter("listItemPrefix"),w===42||w===45?t.check(En,n,h)(w):h(w);if(!i.interrupt||w===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),f(w)}return n(w)}function f(w){return Nr(w)&&++l<10?(t.consume(w),f):(!i.interrupt||l<2)&&(i.containerState.marker?w===i.containerState.marker:w===41||w===46)?(t.exit("listItemValue"),h(w)):n(w)}function h(w){return t.enter("listItemMarker"),t.consume(w),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||w,t.check(an,i.interrupt?n:p,t.attempt(_w,y,g))}function p(w){return i.containerState.initialBlankLine=!0,a++,y(w)}function g(w){return q(w)?(t.enter("listItemPrefixWhitespace"),t.consume(w),t.exit("listItemPrefixWhitespace"),y):n(w)}function y(w){return i.containerState.size=a+i.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(w)}}r(Mw,"tokenizeListStart");function Lw(t,e,n){let i=this;return i.containerState._closeFlow=void 0,t.check(an,s,a);function s(c){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Z(t,e,"listItemIndent",i.containerState.size+1)(c)}r(s,"onBlank");function a(c){return i.containerState.furtherBlankLines||!q(c)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,l(c)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt(Ow,e,l)(c))}r(a,"notBlank");function l(c){return i.containerState._closeFlow=!0,i.interrupt=void 0,Z(t,t.attempt(Ie,e,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}r(l,"notInCurrentItem")}r(Lw,"tokenizeListContinuation");function Iw(t,e,n){let i=this;return Z(t,s,"listItemIndent",i.containerState.size+1);function s(a){let l=i.events[i.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===i.containerState.size?e(a):n(a)}}r(Iw,"tokenizeIndent");function Dw(t){t.exit(this.containerState.type)}r(Dw,"tokenizeListEnd");function Rw(t,e,n){let i=this;return Z(t,s,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(a){let l=i.events[i.events.length-1];return!q(a)&&l&&l[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}r(Rw,"tokenizeListItemPrefixWhitespace");var qi={name:"setextUnderline",resolveTo:Nw,tokenize:Bw};function Nw(t,e){let n=t.length,i,s,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){i=n;break}t[n][1].type==="paragraph"&&(s=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);let l={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[s][1].type="setextHeadingText",a?(t.splice(s,0,["enter",l,e]),t.splice(a+1,0,["exit",t[i][1],e]),t[i][1].end={...t[a][1].end}):t[i][1]=l,t.push(["exit",l,e]),t}r(Nw,"resolveToSetextUnderline");function Bw(t,e,n){let i=this,s;return a;function a(h){let p=i.events.length,g;for(;p--;)if(i.events[p][1].type!=="lineEnding"&&i.events[p][1].type!=="linePrefix"&&i.events[p][1].type!=="content"){g=i.events[p][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||g)?(t.enter("setextHeadingLine"),s=h,l(h)):n(h)}function l(h){return t.enter("setextHeadingLineSequence"),c(h)}function c(h){return h===s?(t.consume(h),c):(t.exit("setextHeadingLineSequence"),q(h)?Z(t,f,"lineSuffix")(h):f(h))}function f(h){return h===null||V(h)?(t.exit("setextHeadingLine"),e(h)):n(h)}}r(Bw,"tokenizeSetextUnderline");var nf={tokenize:Vw};function Vw(t){let e=this,n=t.attempt(an,i,t.attempt(this.parser.constructs.flowInitial,s,Z(t,t.attempt(this.parser.constructs.flow,s,t.attempt(va,s)),"linePrefix")));return n;function i(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function s(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}r(Vw,"initializeFlow");var rf={resolveAll:lf()},sf=af("string"),of=af("text");function af(t){return{resolveAll:lf(t==="text"?Ww:void 0),tokenize:e};function e(n){let i=this,s=this.parser.constructs[t],a=n.attempt(s,l,c);return l;function l(p){return h(p)?a(p):c(p)}function c(p){if(p===null){n.consume(p);return}return n.enter("data"),n.consume(p),f}function f(p){return h(p)?(n.exit("data"),a(p)):(n.consume(p),f)}function h(p){if(p===null)return!0;let g=s[p],y=-1;if(g)for(;++y<g.length;){let w=g[y];if(!w.previous||w.previous.call(i,i.previous))return!0}return!1}}}r(af,"initializeFactory");function lf(t){return e;function e(n,i){let s=-1,a;for(;++s<=n.length;)a===void 0?n[s]&&n[s][1].type==="data"&&(a=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==a+2&&(n[a][1].end=n[s-1][1].end,n.splice(a+2,s-a-2),s=a+2),a=void 0);return t?t(n,i):n}}r(lf,"createResolver");function Ww(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){let i=t[n-1][1],s=e.sliceStream(i),a=s.length,l=-1,c=0,f;for(;a--;){let h=s[a];if(typeof h=="string"){for(l=h.length;h.charCodeAt(l-1)===32;)c++,l--;if(l)break;l=-1}else if(h===-2)f=!0,c++;else if(h!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(c=0),c){let h={type:n===t.length||f||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?l:i.start._bufferIndex+l,_index:i.start._index+a,line:i.end.line,column:i.end.column-c,offset:i.end.offset-c},end:{...i.end}};i.end={...h.start},i.start.offset===i.end.offset?Object.assign(i,h):(t.splice(n,0,["enter",h,e],["exit",h,e]),n+=2)}n++}return t}r(Ww,"resolveAllLineSuffixes");var Ma={};Gu(Ma,{attentionMarkers:()=>Kw,contentInitial:()=>zw,disable:()=>qw,document:()=>Yw,flow:()=>$w,flowInitial:()=>Uw,insideSpan:()=>Gw,string:()=>Hw,text:()=>jw});var Yw={42:Ie,43:Ie,45:Ie,48:Ie,49:Ie,50:Ie,51:Ie,52:Ie,53:Ie,54:Ie,55:Ie,56:Ie,57:Ie,62:Wi},zw={91:Aa},Uw={[-2]:Vr,[-1]:Vr,32:Vr},$w={35:Ea,42:En,45:[qi,En],60:Pa,61:qi,95:En,96:Ui,126:Ui},Hw={38:zi,92:Yi},jw={[-5]:Yr,[-4]:Yr,[-3]:Yr,33:_a,38:zi,42:Br,60:[xa,Fa],91:Oa,92:[Sa,Yi],93:Sn,95:Br,96:Ca},Gw={null:[Br,rf]},Kw={null:[42,95]},qw={null:[]};function uf(t,e,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0},s={},a=[],l=[],c=[],f=!0,h={attempt:$(G),check:$(K),consume:I,enter:W,exit:E,interrupt:$(K,{interrupt:!0})},p={code:null,containerState:{},defineSkip:A,events:[],now:S,parser:t,previous:null,sliceSerialize:v,sliceStream:F,write:w},g=e.tokenize.call(p,h),y;return e.resolveAll&&a.push(e),p;function w(D){return l=Ue(l,D),P(),l[l.length-1]!==null?[]:(Q(e,0),p.events=Jn(a,p.events,p),p.events)}r(w,"write");function v(D,z){return Zw(F(D),z)}r(v,"sliceSerialize");function F(D){return Jw(l,D)}r(F,"sliceStream");function S(){let{_bufferIndex:D,_index:z,line:U,column:J,offset:ie}=i;return{_bufferIndex:D,_index:z,line:U,column:J,offset:ie}}r(S,"now");function A(D){s[D.line]=D.column,te()}r(A,"defineSkip");function P(){let D;for(;i._index<l.length;){let z=l[i._index];if(typeof z=="string")for(D=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===D&&i._bufferIndex<z.length;)O(z.charCodeAt(i._bufferIndex));else O(z)}}r(P,"main");function O(D){f=void 0,y=D,g=g(D)}r(O,"go");function I(D){V(D)?(i.line++,i.column=1,i.offset+=D===-3?2:1,te()):D!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===l[i._index].length&&(i._bufferIndex=-1,i._index++)),p.previous=D,f=!0}r(I,"consume");function W(D,z){let U=z||{};return U.type=D,U.start=S(),p.events.push(["enter",U,p]),c.push(U),U}r(W,"enter");function E(D){let z=c.pop();return z.end=S(),p.events.push(["exit",z,p]),z}r(E,"exit");function G(D,z){Q(D,z.from)}r(G,"onsuccessfulconstruct");function K(D,z){z.restore()}r(K,"onsuccessfulcheck");function $(D,z){return U;function U(J,ie,ce){let be,C,oe,pe;return Array.isArray(J)?ve(J):"tokenize"in J?ve([J]):k(J);function k(ke){return pn;function pn(gt){let Bt=gt!==null&&ke[gt],Xt=gt!==null&&ke.null,wr=[...Array.isArray(Bt)?Bt:Bt?[Bt]:[],...Array.isArray(Xt)?Xt:Xt?[Xt]:[]];return ve(wr)(gt)}}function ve(ke){return be=ke,C=0,ke.length===0?ce:Nt(ke[C])}function Nt(ke){return pn;function pn(gt){return pe=ue(),oe=ke,ke.partial||(p.currentConstruct=ke),ke.name&&p.parser.constructs.disable.null.includes(ke.name)?hn(gt):ke.tokenize.call(z?Object.assign(Object.create(p),z):p,h,Qt,hn)(gt)}}function Qt(ke){return f=!0,D(oe,pe),ie}function hn(ke){return f=!0,pe.restore(),++C<be.length?Nt(be[C]):ce}}}r($,"constructFactory");function Q(D,z){D.resolveAll&&!a.includes(D)&&a.push(D),D.resolve&&Fe(p.events,z,p.events.length-z,D.resolve(p.events.slice(z),p)),D.resolveTo&&(p.events=D.resolveTo(p.events,p))}r(Q,"addResult");function ue(){let D=S(),z=p.previous,U=p.currentConstruct,J=p.events.length,ie=Array.from(c);return{from:J,restore:ce};function ce(){i=D,p.previous=z,p.currentConstruct=U,p.events.length=J,c=ie,te()}}r(ue,"store");function te(){i.line in s&&i.column<2&&(i.column=s[i.line],i.offset+=s[i.line]-1)}r(te,"accountForPotentialSkip")}r(uf,"createTokenizer");function Jw(t,e){let n=e.start._index,i=e.start._bufferIndex,s=e.end._index,a=e.end._bufferIndex,l;if(n===s)l=[t[n].slice(i,a)];else{if(l=t.slice(n,s),i>-1){let c=l[0];typeof c=="string"?l[0]=c.slice(i):l.shift()}a>0&&l.push(t[s].slice(0,a))}return l}r(Jw,"sliceChunks");function Zw(t,e){let n=-1,i=[],s;for(;++n<t.length;){let a=t[n],l;if(typeof a=="string")l=a;else switch(a){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&s)continue;l=" ";break}default:l=String.fromCharCode(a)}s=a===-2,i.push(l)}return i.join("")}r(Zw,"serializeChunks");function La(t){let i={constructs:$c([Ma,...(t||{}).extensions||[]]),content:s(Jc),defined:[],document:s(Qc),flow:s(nf),lazy:{},string:s(sf),text:s(of)};return i;function s(a){return l;function l(c){return uf(i,a,c)}}}r(La,"parse");function Ia(t){for(;!Hi(t););return t}r(Ia,"postprocess");var cf=/[\0\t\n\r]/g;function Da(){let t=1,e="",n=!0,i;return s;function s(a,l,c){let f=[],h,p,g,y,w;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(l||void 0).decode(a)),g=0,e="",n&&(a.charCodeAt(0)===65279&&g++,n=void 0);g<a.length;){if(cf.lastIndex=g,h=cf.exec(a),y=h&&h.index!==void 0?h.index:a.length,w=a.charCodeAt(y),!h){e=a.slice(g);break}if(w===10&&g===y&&i)f.push(-3),i=void 0;else switch(i&&(f.push(-5),i=void 0),g<y&&(f.push(a.slice(g,y)),t+=y-g),w){case 0:{f.push(65533),t++;break}case 9:{for(p=Math.ceil(t/4)*4,f.push(-2);t++<p;)f.push(-1);break}case 10:{f.push(-4),t=1;break}default:i=!0,t=1}g=y+1}return c&&(i&&f.push(-5),e&&f.push(e),f.push(null)),f}}r(Da,"preprocess");var Qw=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Ji(t){return t.replace(Qw,Xw)}r(Ji,"decodeString");function Xw(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){let s=n.charCodeAt(1),a=s===120||s===88;return Vi(n.slice(a?2:1),a?16:10)}return Kn(n)||t}r(Xw,"decode");function ln(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?ff(t.position):"start"in t||"end"in t?ff(t):"line"in t||"column"in t?Ra(t):""}r(ln,"stringifyPosition");function Ra(t){return df(t&&t.line)+":"+df(t&&t.column)}r(Ra,"point");function ff(t){return Ra(t&&t.start)+"-"+Ra(t&&t.end)}r(ff,"position");function df(t){return t&&typeof t=="number"?t:1}r(df,"index");var pf={}.hasOwnProperty;function Na(t,e,n){return typeof e!="string"&&(n=e,e=void 0),eb(n)(Ia(La(n).document().write(Da()(t,e,!0))))}r(Na,"fromMarkdown");function eb(t){let e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Re),autolinkProtocol:$,autolinkEmail:$,atxHeading:a(ri),blockQuote:a(gt),characterEscape:$,characterReference:$,codeFenced:a(Bt),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:a(Bt,l),codeText:a(Xt,l),codeTextData:$,data:$,codeFlowValue:$,definition:a(wr),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:a(Do),hardBreakEscape:a(ii),hardBreakTrailing:a(ii),htmlFlow:a(si,l),htmlFlowData:$,htmlText:a(si,l),htmlTextData:$,image:a(oi),label:l,link:a(Re),listItem:a(Ro),listItemValue:y,listOrdered:a(In,g),listUnordered:a(In),paragraph:a(No),reference:k,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:a(ri),strong:a(ai),thematicBreak:a(li)},exit:{atxHeading:f(),atxHeadingSequence:W,autolink:f(),autolinkEmail:pn,autolinkProtocol:ke,blockQuote:f(),characterEscapeValue:Q,characterReferenceMarkerHexadecimal:Nt,characterReferenceMarkerNumeric:Nt,characterReferenceValue:Qt,characterReference:hn,codeFenced:f(S),codeFencedFence:F,codeFencedFenceInfo:w,codeFencedFenceMeta:v,codeFlowValue:Q,codeIndented:f(A),codeText:f(U),codeTextData:Q,data:Q,definition:f(),definitionDestinationString:I,definitionLabelString:P,definitionTitleString:O,emphasis:f(),hardBreakEscape:f(te),hardBreakTrailing:f(te),htmlFlow:f(D),htmlFlowData:Q,htmlText:f(z),htmlTextData:Q,image:f(ie),label:be,labelText:ce,lineEnding:ue,link:f(J),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:ve,resourceDestinationString:C,resourceTitleString:oe,resource:pe,setextHeading:f(K),setextHeadingLineSequence:G,setextHeadingText:E,strong:f(),thematicBreak:f()}};mf(e,(t||{}).mdastExtensions||[]);let n={};return i;function i(_){let L={type:"root",children:[]},R={stack:[L],tokenStack:[],config:e,enter:c,exit:h,buffer:l,resume:p,data:n},X=[],ae=-1;for(;++ae<_.length;)if(_[ae][1].type==="listOrdered"||_[ae][1].type==="listUnordered")if(_[ae][0]==="enter")X.push(ae);else{let Oe=X.pop();ae=s(_,Oe,ae)}for(ae=-1;++ae<_.length;){let Oe=e[_[ae][0]];pf.call(Oe,_[ae][1].type)&&Oe[_[ae][1].type].call(Object.assign({sliceSerialize:_[ae][2].sliceSerialize},R),_[ae][1])}if(R.tokenStack.length>0){let Oe=R.tokenStack[R.tokenStack.length-1];(Oe[1]||hf).call(R,void 0,Oe[0])}for(L.position={start:un(_.length>0?_[0][1].start:{line:1,column:1,offset:0}),end:un(_.length>0?_[_.length-2][1].end:{line:1,column:1,offset:0})},ae=-1;++ae<e.transforms.length;)L=e.transforms[ae](L)||L;return L}function s(_,L,R){let X=L-1,ae=-1,Oe=!1,yt,He,ot,Et;for(;++X<=R;){let Be=_[X];switch(Be[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Be[0]==="enter"?ae++:ae--,Et=void 0;break}case"lineEndingBlank":{Be[0]==="enter"&&(yt&&!Et&&!ae&&!ot&&(ot=X),Et=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Et=void 0}if(!ae&&Be[0]==="enter"&&Be[1].type==="listItemPrefix"||ae===-1&&Be[0]==="exit"&&(Be[1].type==="listUnordered"||Be[1].type==="listOrdered")){if(yt){let wt=X;for(He=void 0;wt--;){let bt=_[wt];if(bt[1].type==="lineEnding"||bt[1].type==="lineEndingBlank"){if(bt[0]==="exit")continue;He&&(_[He][1].type="lineEndingBlank",Oe=!0),bt[1].type="lineEnding",He=wt}else if(!(bt[1].type==="linePrefix"||bt[1].type==="blockQuotePrefix"||bt[1].type==="blockQuotePrefixWhitespace"||bt[1].type==="blockQuoteMarker"||bt[1].type==="listItemIndent"))break}ot&&(!He||ot<He)&&(yt._spread=!0),yt.end=Object.assign({},He?_[He][1].start:Be[1].end),_.splice(He||X,0,["exit",yt,Be[2]]),X++,R++}if(Be[1].type==="listItemPrefix"){let wt={type:"listItem",_spread:!1,start:Object.assign({},Be[1].start),end:void 0};yt=wt,_.splice(X,0,["enter",wt,Be[2]]),X++,R++,ot=void 0,Et=!0}}}return _[L][1]._spread=Oe,R}function a(_,L){return R;function R(X){c.call(this,_(X),X),L&&L.call(this,X)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(_,L,R){this.stack[this.stack.length-1].children.push(_),this.stack.push(_),this.tokenStack.push([L,R||void 0]),_.position={start:un(L.start),end:void 0}}function f(_){return L;function L(R){_&&_.call(this,R),h.call(this,R)}}function h(_,L){let R=this.stack.pop(),X=this.tokenStack.pop();if(X)X[0].type!==_.type&&(L?L.call(this,_,X[0]):(X[1]||hf).call(this,_,X[0]));else throw new Error("Cannot close `"+_.type+"` ("+ln({start:_.start,end:_.end})+"): it\u2019s not open");R.position.end=un(_.end)}function p(){return vn(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function y(_){if(this.data.expectingFirstListItemValue){let L=this.stack[this.stack.length-2];L.start=Number.parseInt(this.sliceSerialize(_),10),this.data.expectingFirstListItemValue=void 0}}function w(){let _=this.resume(),L=this.stack[this.stack.length-1];L.lang=_}function v(){let _=this.resume(),L=this.stack[this.stack.length-1];L.meta=_}function F(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){let _=this.resume(),L=this.stack[this.stack.length-1];L.value=_.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function A(){let _=this.resume(),L=this.stack[this.stack.length-1];L.value=_.replace(/(\r?\n|\r)$/g,"")}function P(_){let L=this.resume(),R=this.stack[this.stack.length-1];R.label=L,R.identifier=qt(this.sliceSerialize(_)).toLowerCase()}function O(){let _=this.resume(),L=this.stack[this.stack.length-1];L.title=_}function I(){let _=this.resume(),L=this.stack[this.stack.length-1];L.url=_}function W(_){let L=this.stack[this.stack.length-1];if(!L.depth){let R=this.sliceSerialize(_).length;L.depth=R}}function E(){this.data.setextHeadingSlurpLineEnding=!0}function G(_){let L=this.stack[this.stack.length-1];L.depth=this.sliceSerialize(_).codePointAt(0)===61?1:2}function K(){this.data.setextHeadingSlurpLineEnding=void 0}function $(_){let R=this.stack[this.stack.length-1].children,X=R[R.length-1];(!X||X.type!=="text")&&(X=Ne(),X.position={start:un(_.start),end:void 0},R.push(X)),this.stack.push(X)}function Q(_){let L=this.stack.pop();L.value+=this.sliceSerialize(_),L.position.end=un(_.end)}function ue(_){let L=this.stack[this.stack.length-1];if(this.data.atHardBreak){let R=L.children[L.children.length-1];R.position.end=un(_.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(L.type)&&($.call(this,_),Q.call(this,_))}function te(){this.data.atHardBreak=!0}function D(){let _=this.resume(),L=this.stack[this.stack.length-1];L.value=_}function z(){let _=this.resume(),L=this.stack[this.stack.length-1];L.value=_}function U(){let _=this.resume(),L=this.stack[this.stack.length-1];L.value=_}function J(){let _=this.stack[this.stack.length-1];if(this.data.inReference){let L=this.data.referenceType||"shortcut";_.type+="Reference",_.referenceType=L,delete _.url,delete _.title}else delete _.identifier,delete _.label;this.data.referenceType=void 0}function ie(){let _=this.stack[this.stack.length-1];if(this.data.inReference){let L=this.data.referenceType||"shortcut";_.type+="Reference",_.referenceType=L,delete _.url,delete _.title}else delete _.identifier,delete _.label;this.data.referenceType=void 0}function ce(_){let L=this.sliceSerialize(_),R=this.stack[this.stack.length-2];R.label=Ji(L),R.identifier=qt(L).toLowerCase()}function be(){let _=this.stack[this.stack.length-1],L=this.resume(),R=this.stack[this.stack.length-1];if(this.data.inReference=!0,R.type==="link"){let X=_.children;R.children=X}else R.alt=L}function C(){let _=this.resume(),L=this.stack[this.stack.length-1];L.url=_}function oe(){let _=this.resume(),L=this.stack[this.stack.length-1];L.title=_}function pe(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function ve(_){let L=this.resume(),R=this.stack[this.stack.length-1];R.label=L,R.identifier=qt(this.sliceSerialize(_)).toLowerCase(),this.data.referenceType="full"}function Nt(_){this.data.characterReferenceType=_.type}function Qt(_){let L=this.sliceSerialize(_),R=this.data.characterReferenceType,X;R?(X=Vi(L,R==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):X=Kn(L);let ae=this.stack[this.stack.length-1];ae.value+=X}function hn(_){let L=this.stack.pop();L.position.end=un(_.end)}function ke(_){Q.call(this,_);let L=this.stack[this.stack.length-1];L.url=this.sliceSerialize(_)}function pn(_){Q.call(this,_);let L=this.stack[this.stack.length-1];L.url="mailto:"+this.sliceSerialize(_)}function gt(){return{type:"blockquote",children:[]}}function Bt(){return{type:"code",lang:null,meta:null,value:""}}function Xt(){return{type:"inlineCode",value:""}}function wr(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Do(){return{type:"emphasis",children:[]}}function ri(){return{type:"heading",depth:0,children:[]}}function ii(){return{type:"break"}}function si(){return{type:"html",value:""}}function oi(){return{type:"image",title:null,url:"",alt:null}}function Re(){return{type:"link",title:null,url:"",children:[]}}function In(_){return{type:"list",ordered:_.type==="listOrdered",start:null,spread:_._spread,children:[]}}function Ro(_){return{type:"listItem",spread:_._spread,checked:null,children:[]}}function No(){return{type:"paragraph",children:[]}}function ai(){return{type:"strong",children:[]}}function Ne(){return{type:"text",value:""}}function li(){return{type:"thematicBreak"}}}r(eb,"compiler");function un(t){return{line:t.line,column:t.column,offset:t.offset}}r(un,"point");function mf(t,e){let n=-1;for(;++n<e.length;){let i=e[n];Array.isArray(i)?mf(t,i):tb(t,i)}}r(mf,"configure");function tb(t,e){let n;for(n in e)if(pf.call(e,n))switch(n){case"canContainEols":{let i=e[n];i&&t[n].push(...i);break}case"transforms":{let i=e[n];i&&t[n].push(...i);break}case"enter":case"exit":{let i=e[n];i&&Object.assign(t[n],i);break}}}r(tb,"extension");function hf(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+ln({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+ln({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+ln({start:e.start,end:e.end})+") is still open")}r(hf,"defaultOnError");function Zn(t){let e=this;e.parser=n;function n(i){return Na(i,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}r(n,"parser")}r(Zn,"remarkParse");var gf={}.hasOwnProperty;function yf(t,e){let n=e||{};function i(s,...a){let l=i.invalid,c=i.handlers;if(s&&gf.call(s,t)){let f=String(s[t]);l=gf.call(c,f)?c[f]:i.unknown}if(l)return l.call(this,s,...a)}return r(i,"one"),i.handlers=n.handlers||{},i.invalid=n.invalid,i.unknown=n.unknown,i}r(yf,"zwitch");var nb={}.hasOwnProperty;function Ba(t,e){let n=-1,i;if(e.extensions)for(;++n<e.extensions.length;)Ba(t,e.extensions[n]);for(i in e)if(nb.call(e,i))switch(i){case"extensions":break;case"unsafe":{wf(t[i],e[i]);break}case"join":{wf(t[i],e[i]);break}case"handlers":{rb(t[i],e[i]);break}default:t.options[i]=e[i]}return t}r(Ba,"configure");function wf(t,e){e&&t.push(...e)}r(wf,"list");function rb(t,e){e&&Object.assign(t,e)}r(rb,"map");function bf(t,e,n,i){let s=n.enter("blockquote"),a=n.createTracker(i);a.move("> "),a.shift(2);let l=n.indentLines(n.containerFlow(t,a.current()),ib);return s(),l}r(bf,"blockquote");function ib(t,e,n){return">"+(n?"":" ")+t}r(ib,"map");function Zi(t,e){return kf(t,e.inConstruct,!0)&&!kf(t,e.notInConstruct,!1)}r(Zi,"patternInScope");function kf(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let i=-1;for(;++i<e.length;)if(t.includes(e[i]))return!0;return!1}r(kf,"listInScope");function Va(t,e,n,i){let s=-1;for(;++s<n.unsafe.length;)if(n.unsafe[s].character===`
`&&Zi(n.stack,n.unsafe[s]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}r(Va,"hardBreak");function xf(t,e){let n=String(t),i=n.indexOf(e),s=i,a=0,l=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===s?++a>l&&(l=a):a=1,s=i+e.length,i=n.indexOf(e,s);return l}r(xf,"longestStreak");function zr(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}r(zr,"formatCodeAsIndented");function Cf(t){let e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}r(Cf,"checkFence");function vf(t,e,n,i){let s=Cf(n),a=t.value||"",l=s==="`"?"GraveAccent":"Tilde";if(zr(t,n)){let g=n.enter("codeIndented"),y=n.indentLines(a,sb);return g(),y}let c=n.createTracker(i),f=s.repeat(Math.max(xf(a,s)+1,3)),h=n.enter("codeFenced"),p=c.move(f);if(t.lang){let g=n.enter(`codeFencedLang${l}`);p+=c.move(n.safe(t.lang,{before:p,after:" ",encode:["`"],...c.current()})),g()}if(t.lang&&t.meta){let g=n.enter(`codeFencedMeta${l}`);p+=c.move(" "),p+=c.move(n.safe(t.meta,{before:p,after:`
`,encode:["`"],...c.current()})),g()}return p+=c.move(`
`),a&&(p+=c.move(a+`
`)),p+=c.move(f),h(),p}r(vf,"code");function sb(t,e,n){return(n?"":"    ")+t}r(sb,"map");function Qn(t){let e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}r(Qn,"checkQuote");function Af(t,e,n,i){let s=Qn(n),a=s==='"'?"Quote":"Apostrophe",l=n.enter("definition"),c=n.enter("label"),f=n.createTracker(i),h=f.move("[");return h+=f.move(n.safe(n.associationId(t),{before:h,after:"]",...f.current()})),h+=f.move("]: "),c(),!t.url||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),h+=f.move("<"),h+=f.move(n.safe(t.url,{before:h,after:">",...f.current()})),h+=f.move(">")):(c=n.enter("destinationRaw"),h+=f.move(n.safe(t.url,{before:h,after:t.title?" ":`
`,...f.current()}))),c(),t.title&&(c=n.enter(`title${a}`),h+=f.move(" "+s),h+=f.move(n.safe(t.title,{before:h,after:s,...f.current()})),h+=f.move(s),c()),l(),h}r(Af,"definition");function Sf(t){let e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}r(Sf,"checkEmphasis");function it(t){return"&#x"+t.toString(16).toUpperCase()+";"}r(it,"encodeCharacterReference");function Xn(t,e,n){let i=qn(t),s=qn(e);return i===void 0?s===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}r(Xn,"encodeInfo");Wa.peek=ob;function Wa(t,e,n,i){let s=Sf(n),a=n.enter("emphasis"),l=n.createTracker(i),c=l.move(s),f=l.move(n.containerPhrasing(t,{after:s,before:c,...l.current()})),h=f.charCodeAt(0),p=Xn(i.before.charCodeAt(i.before.length-1),h,s);p.inside&&(f=it(h)+f.slice(1));let g=f.charCodeAt(f.length-1),y=Xn(i.after.charCodeAt(0),g,s);y.inside&&(f=f.slice(0,-1)+it(g));let w=l.move(s);return a(),n.attentionEncodeSurroundingInfo={after:y.outside,before:p.outside},c+f+w}r(Wa,"emphasis");function ob(t,e,n){return n.options.emphasis||"*"}r(ob,"emphasisPeek");var er=r((function(t){if(t==null)return cb;if(typeof t=="function")return Qi(t);if(typeof t=="object")return Array.isArray(t)?ab(t):lb(t);if(typeof t=="string")return ub(t);throw new Error("Expected function, string, or object as test")}),"convert");function ab(t){let e=[],n=-1;for(;++n<t.length;)e[n]=er(t[n]);return Qi(i);function i(...s){let a=-1;for(;++a<e.length;)if(e[a].apply(this,s))return!0;return!1}}r(ab,"anyFactory");function lb(t){let e=t;return Qi(n);function n(i){let s=i,a;for(a in t)if(s[a]!==e[a])return!1;return!0}}r(lb,"propertiesFactory");function ub(t){return Qi(e);function e(n){return n&&n.type===t}}r(ub,"typeFactory");function Qi(t){return e;function e(n,i,s){return!!(fb(n)&&t.call(this,n,typeof i=="number"?i:void 0,s||void 0))}}r(Qi,"castFactory");function cb(){return!0}r(cb,"ok");function fb(t){return t!==null&&typeof t=="object"&&"type"in t}r(fb,"looksLikeANode");function Ef(t){return"\x1B[33m"+t+"\x1B[39m"}r(Ef,"color");var Tf=[],Xi=!0,Tn=!1,es="skip";function Ya(t,e,n,i){let s;typeof e=="function"&&typeof n!="function"?(i=n,n=e):s=e;let a=er(s),l=i?-1:1;c(t,void 0,[])();function c(f,h,p){let g=f&&typeof f=="object"?f:{};if(typeof g.type=="string"){let w=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(y,"name",{value:"node ("+Ef(f.type+(w?"<"+w+">":""))+")"})}return y;function y(){let w=Tf,v,F,S;if((!e||a(f,h,p[p.length-1]||void 0))&&(w=db(n(f,p)),w[0]===Tn))return w;if("children"in f&&f.children){let A=f;if(A.children&&w[0]!==es)for(F=(i?A.children.length:-1)+l,S=p.concat(A);F>-1&&F<A.children.length;){let P=A.children[F];if(v=c(P,F,S)(),v[0]===Tn)return v;F=typeof v[1]=="number"?v[1]:F+l}}return w}}r(c,"factory")}r(Ya,"visitParents");function db(t){return Array.isArray(t)?t:typeof t=="number"?[Xi,t]:t==null?Tf:[t]}r(db,"toResult");function Ur(t,e,n,i){let s,a,l;typeof e=="function"&&typeof n!="function"?(a=void 0,l=e,s=n):(a=e,l=n,s=i),Ya(t,a,c,s);function c(f,h){let p=h[h.length-1],g=p?p.children.indexOf(f):void 0;return l(f,g,p)}r(c,"overload")}r(Ur,"visit");function ts(t,e){let n=!1;return Ur(t,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return n=!0,Tn}),!!((!t.depth||t.depth<3)&&vn(t)&&(e.options.setext||n))}r(ts,"formatHeadingAsSetext");function Pf(t,e,n,i){let s=Math.max(Math.min(6,t.depth||1),1),a=n.createTracker(i);if(ts(t,n)){let p=n.enter("headingSetext"),g=n.enter("phrasing"),y=n.containerPhrasing(t,{...a.current(),before:`
`,after:`
`});return g(),p(),y+`
`+(s===1?"=":"-").repeat(y.length-(Math.max(y.lastIndexOf("\r"),y.lastIndexOf(`
`))+1))}let l="#".repeat(s),c=n.enter("headingAtx"),f=n.enter("phrasing");a.move(l+" ");let h=n.containerPhrasing(t,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(h)&&(h=it(h.charCodeAt(0))+h.slice(1)),h=h?l+" "+h:l,n.options.closeAtx&&(h+=" "+l),f(),c(),h}r(Pf,"heading");za.peek=hb;function za(t){return t.value||""}r(za,"html");function hb(){return"<"}r(hb,"htmlPeek");Ua.peek=pb;function Ua(t,e,n,i){let s=Qn(n),a=s==='"'?"Quote":"Apostrophe",l=n.enter("image"),c=n.enter("label"),f=n.createTracker(i),h=f.move("![");return h+=f.move(n.safe(t.alt,{before:h,after:"]",...f.current()})),h+=f.move("]("),c(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),h+=f.move("<"),h+=f.move(n.safe(t.url,{before:h,after:">",...f.current()})),h+=f.move(">")):(c=n.enter("destinationRaw"),h+=f.move(n.safe(t.url,{before:h,after:t.title?" ":")",...f.current()}))),c(),t.title&&(c=n.enter(`title${a}`),h+=f.move(" "+s),h+=f.move(n.safe(t.title,{before:h,after:s,...f.current()})),h+=f.move(s),c()),h+=f.move(")"),l(),h}r(Ua,"image");function pb(){return"!"}r(pb,"imagePeek");$a.peek=mb;function $a(t,e,n,i){let s=t.referenceType,a=n.enter("imageReference"),l=n.enter("label"),c=n.createTracker(i),f=c.move("!["),h=n.safe(t.alt,{before:f,after:"]",...c.current()});f+=c.move(h+"]["),l();let p=n.stack;n.stack=[],l=n.enter("reference");let g=n.safe(n.associationId(t),{before:f,after:"]",...c.current()});return l(),n.stack=p,a(),s==="full"||!h||h!==g?f+=c.move(g+"]"):s==="shortcut"?f=f.slice(0,-1):f+=c.move("]"),f}r($a,"imageReference");function mb(){return"!"}r(mb,"imageReferencePeek");Ha.peek=gb;function Ha(t,e,n){let i=t.value||"",s="`",a=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(i);)s+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++a<n.unsafe.length;){let l=n.unsafe[a],c=n.compilePattern(l),f;if(l.atBreak)for(;f=c.exec(i);){let h=f.index;i.charCodeAt(h)===10&&i.charCodeAt(h-1)===13&&h--,i=i.slice(0,h)+" "+i.slice(f.index+1)}}return s+i+s}r(Ha,"inlineCode");function gb(){return"`"}r(gb,"inlineCodePeek");function ja(t,e){let n=vn(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}r(ja,"formatLinkAsAutolink");Ga.peek=yb;function Ga(t,e,n,i){let s=Qn(n),a=s==='"'?"Quote":"Apostrophe",l=n.createTracker(i),c,f;if(ja(t,n)){let p=n.stack;n.stack=[],c=n.enter("autolink");let g=l.move("<");return g+=l.move(n.containerPhrasing(t,{before:g,after:">",...l.current()})),g+=l.move(">"),c(),n.stack=p,g}c=n.enter("link"),f=n.enter("label");let h=l.move("[");return h+=l.move(n.containerPhrasing(t,{before:h,after:"](",...l.current()})),h+=l.move("]("),f(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(f=n.enter("destinationLiteral"),h+=l.move("<"),h+=l.move(n.safe(t.url,{before:h,after:">",...l.current()})),h+=l.move(">")):(f=n.enter("destinationRaw"),h+=l.move(n.safe(t.url,{before:h,after:t.title?" ":")",...l.current()}))),f(),t.title&&(f=n.enter(`title${a}`),h+=l.move(" "+s),h+=l.move(n.safe(t.title,{before:h,after:s,...l.current()})),h+=l.move(s),f()),h+=l.move(")"),c(),h}r(Ga,"link");function yb(t,e,n){return ja(t,n)?"<":"["}r(yb,"linkPeek");Ka.peek=wb;function Ka(t,e,n,i){let s=t.referenceType,a=n.enter("linkReference"),l=n.enter("label"),c=n.createTracker(i),f=c.move("["),h=n.containerPhrasing(t,{before:f,after:"]",...c.current()});f+=c.move(h+"]["),l();let p=n.stack;n.stack=[],l=n.enter("reference");let g=n.safe(n.associationId(t),{before:f,after:"]",...c.current()});return l(),n.stack=p,a(),s==="full"||!h||h!==g?f+=c.move(g+"]"):s==="shortcut"?f=f.slice(0,-1):f+=c.move("]"),f}r(Ka,"linkReference");function wb(){return"["}r(wb,"linkReferencePeek");function tr(t){let e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}r(tr,"checkBullet");function Ff(t){let e=tr(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}r(Ff,"checkBulletOther");function _f(t){let e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}r(_f,"checkBulletOrdered");function ns(t){let e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}r(ns,"checkRule");function Of(t,e,n,i){let s=n.enter("list"),a=n.bulletCurrent,l=t.ordered?_f(n):tr(n),c=t.ordered?l==="."?")":".":Ff(n),f=e&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!t.ordered){let p=t.children?t.children[0]:void 0;if((l==="*"||l==="-")&&p&&(!p.children||!p.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(f=!0),ns(n)===l&&p){let g=-1;for(;++g<t.children.length;){let y=t.children[g];if(y&&y.type==="listItem"&&y.children&&y.children[0]&&y.children[0].type==="thematicBreak"){f=!0;break}}}}f&&(l=c),n.bulletCurrent=l;let h=n.containerFlow(t,i);return n.bulletLastUsed=l,n.bulletCurrent=a,s(),h}r(Of,"list");function Mf(t){let e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}r(Mf,"checkListItemIndent");function Lf(t,e,n,i){let s=Mf(n),a=n.bulletCurrent||tr(n);e&&e.type==="list"&&e.ordered&&(a=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+a);let l=a.length+1;(s==="tab"||s==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(l=Math.ceil(l/4)*4);let c=n.createTracker(i);c.move(a+" ".repeat(l-a.length)),c.shift(l);let f=n.enter("listItem"),h=n.indentLines(n.containerFlow(t,c.current()),p);return f(),h;function p(g,y,w){return y?(w?"":" ".repeat(l))+g:(w?a:a+" ".repeat(l-a.length))+g}r(p,"map")}r(Lf,"listItem");function If(t,e,n,i){let s=n.enter("paragraph"),a=n.enter("phrasing"),l=n.containerPhrasing(t,i);return a(),s(),l}r(If,"paragraph");var qa=er(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Df(t,e,n,i){return(t.children.some(function(l){return qa(l)})?n.containerPhrasing:n.containerFlow).call(n,t,i)}r(Df,"root");function Rf(t){let e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}r(Rf,"checkStrong");Ja.peek=bb;function Ja(t,e,n,i){let s=Rf(n),a=n.enter("strong"),l=n.createTracker(i),c=l.move(s+s),f=l.move(n.containerPhrasing(t,{after:s,before:c,...l.current()})),h=f.charCodeAt(0),p=Xn(i.before.charCodeAt(i.before.length-1),h,s);p.inside&&(f=it(h)+f.slice(1));let g=f.charCodeAt(f.length-1),y=Xn(i.after.charCodeAt(0),g,s);y.inside&&(f=f.slice(0,-1)+it(g));let w=l.move(s+s);return a(),n.attentionEncodeSurroundingInfo={after:y.outside,before:p.outside},c+f+w}r(Ja,"strong");function bb(t,e,n){return n.options.strong||"*"}r(bb,"strongPeek");function Nf(t,e,n,i){return n.safe(t.value,i)}r(Nf,"text");function Bf(t){let e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}r(Bf,"checkRuleRepetition");function Vf(t,e,n){let i=(ns(n)+(n.options.ruleSpaces?" ":"")).repeat(Bf(n));return n.options.ruleSpaces?i.slice(0,-1):i}r(Vf,"thematicBreak");var Wf={blockquote:bf,break:Va,code:vf,definition:Af,emphasis:Wa,hardBreak:Va,heading:Pf,html:za,image:Ua,imageReference:$a,inlineCode:Ha,link:Ga,linkReference:Ka,list:Of,listItem:Lf,paragraph:If,root:Df,strong:Ja,text:Nf,thematicBreak:Vf};var Yf=[kb];function kb(t,e,n,i){if(e.type==="code"&&zr(e,i)&&(t.type==="list"||t.type===e.type&&zr(t,i)))return!1;if("spread"in n&&typeof n.spread=="boolean")return t.type==="paragraph"&&(t.type===e.type||e.type==="definition"||e.type==="heading"&&ts(e,i))?void 0:n.spread?1:0}r(kb,"joinDefaults");var Pn=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],zf=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Pn},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Pn},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:Pn},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Pn},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Pn},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Pn},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Pn},{atBreak:!0,character:"~"}];function Uf(t){return t.label||!t.identifier?t.label||"":Ji(t.identifier)}r(Uf,"association");function $f(t){if(!t._compiled){let e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}r($f,"compilePattern");function Hf(t,e,n){let i=e.indexStack,s=t.children||[],a=[],l=-1,c=n.before,f;i.push(-1);let h=e.createTracker(n);for(;++l<s.length;){let p=s[l],g;if(i[i.length-1]=l,l+1<s.length){let v=e.handle.handlers[s[l+1].type];v&&v.peek&&(v=v.peek),g=v?v(s[l+1],t,e,{before:"",after:"",...h.current()}).charAt(0):""}else g=n.after;a.length>0&&(c==="\r"||c===`
`)&&p.type==="html"&&(a[a.length-1]=a[a.length-1].replace(/(\r?\n|\r)$/," "),c=" ",h=e.createTracker(n),h.move(a.join("")));let y=e.handle(p,t,e,{...h.current(),after:g,before:c});f&&f===y.slice(0,1)&&(y=it(f.charCodeAt(0))+y.slice(1));let w=e.attentionEncodeSurroundingInfo;e.attentionEncodeSurroundingInfo=void 0,f=void 0,w&&(a.length>0&&w.before&&c===a[a.length-1].slice(-1)&&(a[a.length-1]=a[a.length-1].slice(0,-1)+it(c.charCodeAt(0))),w.after&&(f=g)),h.move(y),a.push(y),c=y.slice(-1)}return i.pop(),a.join("")}r(Hf,"containerPhrasing");function jf(t,e,n){let i=e.indexStack,s=t.children||[],a=e.createTracker(n),l=[],c=-1;for(i.push(-1);++c<s.length;){let f=s[c];i[i.length-1]=c,l.push(a.move(e.handle(f,t,e,{before:`
`,after:`
`,...a.current()}))),f.type!=="list"&&(e.bulletLastUsed=void 0),c<s.length-1&&l.push(a.move(xb(f,s[c+1],t,e)))}return i.pop(),l.join("")}r(jf,"containerFlow");function xb(t,e,n,i){let s=i.join.length;for(;s--;){let a=i.join[s](t,e,n,i);if(a===!0||a===1)break;if(typeof a=="number")return`
`.repeat(1+a);if(a===!1)return`

<!---->

`}return`

`}r(xb,"between");var Cb=/\r?\n|\r/g;function Gf(t,e){let n=[],i=0,s=0,a;for(;a=Cb.exec(t);)l(t.slice(i,a.index)),n.push(a[0]),i=a.index+a[0].length,s++;return l(t.slice(i)),n.join("");function l(c){n.push(e(c,s,!c))}r(l,"one")}r(Gf,"indentLines");function qf(t,e,n){let i=(n.before||"")+(e||"")+(n.after||""),s=[],a=[],l={},c=-1;for(;++c<t.unsafe.length;){let p=t.unsafe[c];if(!Zi(t.stack,p))continue;let g=t.compilePattern(p),y;for(;y=g.exec(i);){let w="before"in p||!!p.atBreak,v="after"in p,F=y.index+(w?y[1].length:0);s.includes(F)?(l[F].before&&!w&&(l[F].before=!1),l[F].after&&!v&&(l[F].after=!1)):(s.push(F),l[F]={before:w,after:v})}}s.sort(vb);let f=n.before?n.before.length:0,h=i.length-(n.after?n.after.length:0);for(c=-1;++c<s.length;){let p=s[c];p<f||p>=h||p+1<h&&s[c+1]===p+1&&l[p].after&&!l[p+1].before&&!l[p+1].after||s[c-1]===p-1&&l[p].before&&!l[p-1].before&&!l[p-1].after||(f!==p&&a.push(Kf(i.slice(f,p),"\\")),f=p,/[!-/:-@[-`{-~]/.test(i.charAt(p))&&(!n.encode||!n.encode.includes(i.charAt(p)))?a.push("\\"):(a.push(it(i.charCodeAt(p))),f++))}return a.push(Kf(i.slice(f,h),n.after)),a.join("")}r(qf,"safe");function vb(t,e){return t-e}r(vb,"numerical");function Kf(t,e){let n=/\\(?=[!-/:-@[-`{-~])/g,i=[],s=[],a=t+e,l=-1,c=0,f;for(;f=n.exec(a);)i.push(f.index);for(;++l<i.length;)c!==i[l]&&s.push(t.slice(c,i[l])),s.push("\\"),c=i[l];return s.push(t.slice(c)),s.join("")}r(Kf,"escapeBackslashes");function Jf(t){let e=t||{},n=e.now||{},i=e.lineShift||0,s=n.line||1,a=n.column||1;return{move:f,current:l,shift:c};function l(){return{now:{line:s,column:a},lineShift:i}}function c(h){i+=h}function f(h){let p=h||"",g=p.split(/\r?\n|\r/g),y=g[g.length-1];return s+=g.length-1,a=g.length===1?a+y.length:1+y.length+i,p}}r(Jf,"track");function Za(t,e){let n=e||{},i={associationId:Uf,containerPhrasing:Tb,containerFlow:Pb,createTracker:Jf,compilePattern:$f,enter:a,handlers:{...Wf},handle:void 0,indentLines:Gf,indexStack:[],join:[...Yf],options:{},safe:Fb,stack:[],unsafe:[...zf]};Ba(i,n),i.options.tightDefinitions&&i.join.push(Eb),i.handle=yf("type",{invalid:Ab,unknown:Sb,handlers:i.handlers});let s=i.handle(t,void 0,i,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return s&&s.charCodeAt(s.length-1)!==10&&s.charCodeAt(s.length-1)!==13&&(s+=`
`),s;function a(l){return i.stack.push(l),c;function c(){i.stack.pop()}r(c,"exit")}r(a,"enter")}r(Za,"toMarkdown");function Ab(t){throw new Error("Cannot handle value `"+t+"`, expected node")}r(Ab,"invalid");function Sb(t){let e=t;throw new Error("Cannot handle unknown node `"+e.type+"`")}r(Sb,"unknown");function Eb(t,e){if(t.type==="definition"&&t.type===e.type)return 0}r(Eb,"joinDefinition");function Tb(t,e){return Hf(t,this,e)}r(Tb,"containerPhrasingBound");function Pb(t,e){return jf(t,this,e)}r(Pb,"containerFlowBound");function Fb(t,e){return qf(this,t,e)}r(Fb,"safeBound");function rs(t){let e=this;e.compiler=n;function n(i){return Za(i,{...e.data("settings"),...t,extensions:e.data("toMarkdownExtensions")||[]})}r(n,"compiler")}r(rs,"remarkStringify");function Qa(t){if(t)throw t}r(Qa,"bail");var as=lt(sd(),1);function $r(t){if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}r($r,"isPlainObject");function Xa(){let t=[],e={run:n,use:i};return e;function n(...s){let a=-1,l=s.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...s);function c(f,...h){let p=t[++a],g=-1;if(f){l(f);return}for(;++g<s.length;)(h[g]===null||h[g]===void 0)&&(h[g]=s[g]);s=h,p?od(p,c)(...h):l(null,...h)}r(c,"next")}function i(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return t.push(s),e}}r(Xa,"trough");function od(t,e){let n;return i;function i(...l){let c=t.length>l.length,f;c&&l.push(s);try{f=t.apply(this,l)}catch(h){let p=h;if(c&&n)throw p;return s(p)}c||(f&&f.then&&typeof f.then=="function"?f.then(a,s):f instanceof Error?s(f):a(f))}function s(l,...c){n||(n=!0,e(l,...c))}function a(l){s(null,l)}}r(od,"wrap");var Ee=class extends Error{static{r(this,"VFileMessage")}constructor(e,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let s="",a={},l=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?s=e:!a.cause&&e&&(l=!0,s=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof i=="string"){let f=i.indexOf(":");f===-1?a.ruleId=i:(a.source=i.slice(0,f),a.ruleId=i.slice(f+1))}if(!a.place&&a.ancestors&&a.ancestors){let f=a.ancestors[a.ancestors.length-1];f&&(a.place=f.position)}let c=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=c?c.line:void 0,this.name=ln(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=l&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}};Ee.prototype.file="";Ee.prototype.name="";Ee.prototype.reason="";Ee.prototype.message="";Ee.prototype.stack="";Ee.prototype.column=void 0;Ee.prototype.line=void 0;Ee.prototype.ancestors=void 0;Ee.prototype.cause=void 0;Ee.prototype.fatal=void 0;Ee.prototype.place=void 0;Ee.prototype.ruleId=void 0;Ee.prototype.source=void 0;var ht=lt(require("node:path"),1);var el=lt(require("node:process"),1);var tl=require("node:url");function ss(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}r(ss,"isUrl");var nl=["history","path","basename","stem","extname","dirname"],Hr=class{static{r(this,"VFile")}constructor(e){let n;e?ss(e)?n={path:e}:typeof e=="string"||_b(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":el.default.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<nl.length;){let a=nl[i];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let s;for(s in n)nl.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?ht.default.basename(this.path):void 0}set basename(e){il(e,"basename"),rl(e,"basename"),this.path=ht.default.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?ht.default.dirname(this.path):void 0}set dirname(e){ad(this.basename,"dirname"),this.path=ht.default.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?ht.default.extname(this.path):void 0}set extname(e){if(rl(e,"extname"),ad(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ht.default.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){ss(e)&&(e=(0,tl.fileURLToPath)(e)),il(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?ht.default.basename(this.path,this.extname):void 0}set stem(e){il(e,"stem"),rl(e,"stem"),this.path=ht.default.join(this.dirname||"",e+(this.extname||""))}fail(e,n,i){let s=this.message(e,n,i);throw s.fatal=!0,s}info(e,n,i){let s=this.message(e,n,i);return s.fatal=void 0,s}message(e,n,i){let s=new Ee(e,n,i);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}};function rl(t,e){if(t&&t.includes(ht.default.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ht.default.sep+"`")}r(rl,"assertPart");function il(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}r(il,"assertNonEmpty");function ad(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}r(ad,"assertPath");function _b(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}r(_b,"isUint8Array");var ld=r((function(t){let i=this.constructor.prototype,s=i[t],a=r(function(){return s.apply(a,arguments)},"apply");return Object.setPrototypeOf(a,i),a}),"CallableInstance");var Ob={}.hasOwnProperty,ll=class t extends ld{static{r(this,"Processor")}constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Xa()}copy(){let e=new t,n=-1;for(;++n<this.attachers.length;){let i=this.attachers[n];e.use(...i)}return e.data((0,as.default)(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(al("data",this.frozen),this.namespace[e]=n,this):Ob.call(this.namespace,e)&&this.namespace[e]||void 0:e?(al("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;let e=this;for(;++this.freezeIndex<this.attachers.length;){let[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);let s=n.call(e,...i);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();let n=os(e),i=this.parser||this.Parser;return sl("parse",i),i(String(n),n)}process(e,n){let i=this;return this.freeze(),sl("process",this.parser||this.Parser),ol("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(a,l){let c=os(e),f=i.parse(c);i.run(f,c,function(p,g,y){if(p||!g||!y)return h(p);let w=g,v=i.stringify(w,y);Lb(v)?y.value=v:y.result=v,h(p,y)});function h(p,g){p||!g?l(p):a?a(g):n(void 0,g)}r(h,"realDone")}r(s,"executor")}processSync(e){let n=!1,i;return this.freeze(),sl("processSync",this.parser||this.Parser),ol("processSync",this.compiler||this.Compiler),this.process(e,s),cd("processSync","process",n),i;function s(a,l){n=!0,Qa(a),i=l}r(s,"realDone")}run(e,n,i){ud(e),this.freeze();let s=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?a(void 0,i):new Promise(a);function a(l,c){let f=os(n);s.run(e,f,h);function h(p,g,y){let w=g||e;p?c(p):l?l(w):i(void 0,w,y)}r(h,"realDone")}r(a,"executor")}runSync(e,n){let i=!1,s;return this.run(e,n,a),cd("runSync","run",i),s;function a(l,c){Qa(l),s=c,i=!0}r(a,"realDone")}stringify(e,n){this.freeze();let i=os(n),s=this.compiler||this.Compiler;return ol("stringify",s),ud(e),s(e,i)}use(e,...n){let i=this.attachers,s=this.namespace;if(al("use",this.frozen),e!=null)if(typeof e=="function")f(e,n);else if(typeof e=="object")Array.isArray(e)?c(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(h){if(typeof h=="function")f(h,[]);else if(typeof h=="object")if(Array.isArray(h)){let[p,...g]=h;f(p,g)}else l(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function l(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(h.plugins),h.settings&&(s.settings=(0,as.default)(!0,s.settings,h.settings))}function c(h){let p=-1;if(h!=null)if(Array.isArray(h))for(;++p<h.length;){let g=h[p];a(g)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function f(h,p){let g=-1,y=-1;for(;++g<i.length;)if(i[g][0]===h){y=g;break}if(y===-1)i.push([h,...p]);else if(p.length>0){let[w,...v]=p,F=i[y][1];$r(F)&&$r(w)&&(w=(0,as.default)(!0,F,w)),i[y]=[h,w,...v]}}}},ul=new ll().freeze();function sl(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}r(sl,"assertParser");function ol(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}r(ol,"assertCompiler");function al(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}r(al,"assertUnfrozen");function ud(t){if(!$r(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}r(ud,"assertNode");function cd(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}r(cd,"assertDone");function os(t){return Mb(t)?t:new Hr(t)}r(os,"vfile");function Mb(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}r(Mb,"looksLikeAVFile");function Lb(t){return typeof t=="string"||Ib(t)}r(Lb,"looksLikeAValue");function Ib(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}r(Ib,"isUint8Array");var fd=ul().use(Zn).use(rs).freeze();var fl={d:r((t,e)=>{for(var n in e)fl.o(e,n)&&!fl.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},"d"),o:r((t,e)=>Object.prototype.hasOwnProperty.call(t,e),"o")},dl={};fl.d(dl,{Z:r(()=>Bb,"Z"),$:r(()=>md,"$")});var nr={horizontalTab:-2,virtualSpace:-1,nul:0,eof:null,space:32};function dd(t){return t<nr.nul||t===nr.space}r(dd,"n");function cl(t){return t<nr.horizontalTab}r(cl,"i");var Db={553:t=>{t.exports=function(e){var n,i;return e._compiled||(n=e.before?"(?:"+e.before+")":"",i=e.after?"(?:"+e.after+")":"",e.atBreak&&(n="[\\r\\n][\\t ]*"+n),e._compiled=new RegExp((n?"("+n+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(i||""),"g")),e._compiled}},112:t=>{function e(n,i,s){var a;if(!i)return s;for(typeof i=="string"&&(i=[i]),a=-1;++a<i.length;)if(n.indexOf(i[a])!==-1)return!0;return!1}r(e,"t"),t.exports=function(n,i){return e(n,i.inConstruct,!0)&&!e(n,i.notInConstruct)}},113:(t,e,n)=>{t.exports=function(c,f,h){for(var p,g,y,w,v,F,S,A,P=(h.before||"")+(f||"")+(h.after||""),O=[],I=[],W={},E=-1;++E<c.unsafe.length;)if(w=c.unsafe[E],s(c.stack,w))for(v=i(w);F=v.exec(P);)p="before"in w||w.atBreak,g="after"in w,y=F.index+(p?F[1].length:0),O.indexOf(y)===-1?(O.push(y),W[y]={before:p,after:g}):(W[y].before&&!p&&(W[y].before=!1),W[y].after&&!g&&(W[y].after=!1));for(O.sort(a),S=h.before?h.before.length:0,A=P.length-(h.after?h.after.length:0),E=-1;++E<O.length;)(y=O[E])<S||y>=A||y+1<A&&O[E+1]===y+1&&W[y].after&&!W[y+1].before&&!W[y+1].after||(S!==y&&I.push(l(P.slice(S,y),"\\")),S=y,!/[!-/:-@[-`{-~]/.test(P.charAt(y))||h.encode&&h.encode.indexOf(P.charAt(y))!==-1?(I.push("&#x"+P.charCodeAt(y).toString(16).toUpperCase()+";"),S++):I.push("\\"));return I.push(l(P.slice(S,A),h.after)),I.join("")};var i=n(553),s=n(112);function a(c,f){return c-f}r(a,"a");function l(c,f){for(var h,p=/\\(?=[!-/:-@[-`{-~])/g,g=[],y=[],w=-1,v=0,F=c+f;h=p.exec(F);)g.push(h.index);for(;++w<g.length;)v!==g[w]&&y.push(c.slice(v,g[w])),y.push("\\"),v=g[w];return y.push(c.slice(v)),y.join("")}r(l,"o")}},hd={};function Dt(t){var e=hd[t];if(e!==void 0)return e.exports;var n=hd[t]={exports:{}};return Db[t](n,n.exports,Dt),n.exports}r(Dt,"s");Dt.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return Dt.d(e,{a:e}),e},Dt.d=(t,e)=>{for(var n in e)Dt.o(e,n)&&!Dt.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},Dt.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var hl={};(()=>{function t(s={}){let a=s.permalinks||[],l=s.pageResolver||(y=>[y.replace(/ /g,"_").toLowerCase()]),c=s.newClassName||"new",f=s.wikiLinkClassName||"internal",h=s.hrefTemplate||(y=>`#/page/${y}`),p;function g(y){return y[y.length-1]}return r(g,"s"),{enter:{wikiLink:r(function(y){p={type:"wikiLink",value:null,data:{alias:null,permalink:null,exists:null}},this.enter(p,y)},"wikiLink")},exit:{wikiLinkTarget:r(function(y){let w=this.sliceSerialize(y);g(this.stack).value=w},"wikiLinkTarget"),wikiLinkAlias:r(function(y){let w=this.sliceSerialize(y);g(this.stack).data.alias=w},"wikiLinkAlias"),wikiLink:r(function(y){this.exit(y);let w=p,v=l(w.value),F=v.find((I=>a.indexOf(I)!==-1)),S=F!==void 0,A;A=S?F:v[0]||"";let P=w.value;w.data.alias&&(P=w.data.alias);let O=f;S||(O+=" "+c),w.data.alias=P,w.data.permalink=A,w.data.exists=S,w.data.hName="a",w.data.hProperties={className:O,href:h(A)},w.data.hChildren=[{type:"text",value:P}]},"wikiLink")}}}r(t,"e"),Dt.d(hl,{V:r(()=>t,"V"),x:r(()=>i,"x")});var e=Dt(113),n=Dt.n(e);function i(s={}){let a=s.aliasDivider||":";return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]},{character:"]",inConstruct:["label","reference"]}],handlers:{wikiLink:r(function(l,c,f){let h=f.enter("wikiLink"),p=n()(f,l.value,{before:"[",after:"]"}),g=n()(f,l.data.alias,{before:"[",after:"]"}),y;return y=g!==p?`[[${p}${a}${g}]]`:`[[${p}]]`,h(),y},"wikiLink")}}}r(i,"n")})();var Rb=hl.V,Nb=hl.x,pd=!1;function md(t={}){let e=this.data();function n(i,s){e[i]?e[i].push(s):e[i]=[s]}r(n,"a"),!pd&&(this.Parser&&this.Parser.prototype&&this.Parser.prototype.blockTokenizers||this.Compiler&&this.Compiler.prototype&&this.Compiler.prototype.visitors)&&(pd=!0,console.warn("[remark-wiki-link] Warning: please upgrade to remark 13 to use this plugin")),n("micromarkExtensions",(function(){var i=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).aliasDivider||":",s="]]";return{text:{91:{tokenize:r(function(a,l,c){var f,h,p=0,g=0,y=0;return function(P){return P!=="[[".charCodeAt(g)?c(P):(a.enter("wikiLink"),a.enter("wikiLinkMarker"),w(P))};function w(P){return g===2?(a.exit("wikiLinkMarker"),(function(O){return cl(O)||O===nr.eof?c(O):(a.enter("wikiLinkData"),a.enter("wikiLinkTarget"),v(O))})(P)):P!=="[[".charCodeAt(g)?c(P):(a.consume(P),g++,w)}function v(P){return P===i.charCodeAt(p)?f?(a.exit("wikiLinkTarget"),a.enter("wikiLinkAliasMarker"),F(P)):c(P):P===s.charCodeAt(y)?f?(a.exit("wikiLinkTarget"),a.exit("wikiLinkData"),a.enter("wikiLinkMarker"),A(P)):c(P):cl(P)||P===nr.eof?c(P):(dd(P)||(f=!0),a.consume(P),v)}function F(P){return p===i.length?(a.exit("wikiLinkAliasMarker"),a.enter("wikiLinkAlias"),S(P)):P!==i.charCodeAt(p)?c(P):(a.consume(P),p++,F)}function S(P){return P===s.charCodeAt(y)?h?(a.exit("wikiLinkAlias"),a.exit("wikiLinkData"),a.enter("wikiLinkMarker"),A(P)):c(P):cl(P)||P===nr.eof?c(P):(dd(P)||(h=!0),a.consume(P),S)}function A(P){return y===2?(a.exit("wikiLinkMarker"),a.exit("wikiLink"),l(P)):P!==s.charCodeAt(y)?c(P):(a.consume(P),y++,A)}},"tokenize")}}}})(t)),n("fromMarkdownExtensions",Rb(t)),n("toMarkdownExtensions",Nb(t))}r(md,"k");var Bb=md,gF=dl.Z,gd=dl.$;r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var yd=".",Vb=[{constructor:ArrayBuffer,equalityComparer:Yb},{constructor:Date,equalityComparer:zb},{constructor:RegExp,equalityComparer:$b},{constructor:Map,equalityComparer:Ub},{constructor:Set,equalityComparer:Hb}];function pt(t,e){if(t===e)return!0;if(typeof t!="object"||typeof e!="object"||t===null||e===null)return!1;let n=t.constructor,i=e.constructor;if(n!==i)return!1;if(n!==Object){let f=jb(t,e);if(f!==void 0)return f}let s=rr(t),a=rr(e);if(s.length!==a.length)return!1;let l=t,c=e;for(let f of s)if(!a.includes(f)||!pt(l[f],c[f]))return!1;return!0}r(pt,"deepEqual");function rr(t){let e=[],n=t;for(;n;){let i=Object.getOwnPropertyDescriptors(n);for(let[s,a]of Object.entries(i)){if(s==="__proto__"||typeof a.value=="function")continue;let l=typeof a.get=="function",c=typeof a.set=="function";if(l||c){l&&c&&e.push(s);continue}a.enumerable&&a.writable&&e.push(s)}n=Object.getPrototypeOf(n)}return e.sort()}r(rr,"getAllKeys");function ir(t,e){let n=t,i=e.split(yd);for(let s of i){if(n===void 0)return;n=n[s]}return n}r(ir,"getNestedPropertyValue");function wd(t,e){for(let[n,i]of Object.entries(t))i===void 0&&!e?.includes(n)&&delete t[n];return t}r(wd,"removeUndefinedProperties");function bd(t,e,n){let i=new Error(`Property path ${e} not found`),s=t,a=e.split(yd);for(let c of a.slice(0,-1)){if(s===void 0)throw i;s=s[c]}let l=a.at(-1);if(s===void 0||l===void 0)throw i;s[l]=n}r(bd,"setNestedPropertyValue");function ls(t,e={}){let n={functionHandlingMode:"exclude",maxDepth:-1,shouldCatchToJSONErrors:!1,shouldHandleCircularReferences:!1,shouldHandleErrors:!1,shouldHandleUndefined:!1,shouldSortKeys:!1,space:2,tokenSubstitutions:{circularReference:pl("CircularReference"),maxDepthLimitReached:pl("MaxDepthLimitReached"),toJSONFailed:pl("ToJSONFailed")}},i={...n,...e,tokenSubstitutions:{...n.tokenSubstitutions,...e.tokenSubstitutions}};i.maxDepth===-1&&(i.maxDepth=1/0);let s=[],l=us(t,"",0,!0,i,s,new WeakSet),c=JSON.stringify(l,null,i.space)??"";return c=Ge(c,/"\[\[(?<Key>[A-Za-z]+)(?<Index>\d*)\]\]"/g,(f,h,p)=>Wb({functionTexts:s,index:p?parseInt(p,10):0,key:h,substitutions:i.tokenSubstitutions})),c}r(ls,"toJson");function Wb(t){switch(t.key){case"CircularReference":return t.substitutions.circularReference;case"Function":return t.functionTexts[t.index]??_r(new Error(`Function with index ${String(t.index)} not found`));case"MaxDepthLimitReached":return t.substitutions.maxDepthLimitReached;case"MaxDepthLimitReachedArray":return`Array(${String(t.index)})`;case"ToJSONFailed":return t.substitutions.toJSONFailed;case"Undefined":return"undefined";default:break}}r(Wb,"applySubstitutions");function Yb(t,e){if(t.byteLength!==e.byteLength)return!1;let n=new Uint8Array(t),i=new Uint8Array(e);return pt(n,i)}r(Yb,"deepEqualArrayBuffer");function zb(t,e){return t.getTime()===e.getTime()}r(zb,"deepEqualDate");function Ub(t,e){if(t.size!==e.size)return!1;for(let[n,i]of t.entries())if(!e.has(n)||!pt(i,e.get(n)))return!1;return!0}r(Ub,"deepEqualMap");function $b(t,e){return t.source===e.source&&t.flags===e.flags}r($b,"deepEqualRegExp");function Hb(t,e){if(t.size!==e.size)return!1;for(let n of t){if(e.has(n))continue;let i=!1;for(let s of e)if(pt(n,s)){i=!0;break}if(!i)return!1}return!0}r(Hb,"deepEqualSet");function jb(t,e){for(let{constructor:n,equalityComparer:i}of Vb)if(t instanceof n&&e instanceof n)return i(t,e)}r(jb,"deepEqualTyped");function Gb(t,e,n,i,s,a){return e>i.maxDepth?sr("MaxDepthLimitReachedArray",t.length):t.map((l,c)=>us(l,String(c),e+1,n,i,s,a))}r(Gb,"handleArray");function Kb(t,e,n){if(n.shouldHandleCircularReferences)return sr("CircularReference");let i=t.constructor.name||"Object";throw new TypeError(`Converting circular structure to JSON
--> starting at object with constructor '${i}'
--- property '${e}' closes the circle`)}r(Kb,"handleCircularReference");function qb(t,e,n){if(n.functionHandlingMode==="exclude")return;let i=e.length,s=n.functionHandlingMode==="full"?String(t):`function ${t.name||"anonymous"}() { /* ... */ }`;return e.push(s),sr("Function",i)}r(qb,"handleFunction");function Jb(t,e,n,i,s,a,l){if(l.has(t))return Kb(t,e,s);if(l.add(t),i){let c=Qb(t,e,n,s,a,l);if(c!==void 0)return c}return Array.isArray(t)?Gb(t,n,i,s,a,l):n>s.maxDepth?sr("MaxDepthLimitReached"):t instanceof Error&&s.shouldHandleErrors?_i(t):Zb(t,n,i,s,a,l)}r(Jb,"handleObject");function Zb(t,e,n,i,s,a){let l=Object.entries(t);return i.shouldSortKeys&&l.sort(([c],[f])=>c.localeCompare(f)),Object.fromEntries(l.map(([c,f])=>[c,us(f,c,e+1,n,i,s,a)]))}r(Zb,"handlePlainObject");function pl(t){return`{ "[[${t}]]": null }`}r(pl,"makeObjectTokenSubstitution");function sr(t,e){return`[[${t}${e?String(e):""}]]`}r(sr,"makePlaceholder");function us(t,e,n,i,s,a,l){return t===void 0?n===0||s.shouldHandleUndefined?sr("Undefined"):void 0:typeof t=="function"?qb(t,a,s):typeof t!="object"||t===null?t:Jb(t,e,n,i,s,a,l)}r(us,"toPlainObject");function Qb(t,e,n,i,s,a){let l=t.toJSON;if(typeof l=="function")try{let c=l.call(t,e);return us(c,e,n,!1,i,s,a)}catch(c){if(i.shouldCatchToJSONErrors)return sr("ToJSONFailed");throw c}}r(Qb,"tryHandleToJSON");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Xb=/^[A-Za-z][A-Za-z0-9+\-.]*:\S+$/;function ml(t){if(/\s/.test(t))return!1;if(t.includes("://"))try{return new URL(t),!0}catch{return!1}return Xb.test(t)}r(ml,"isUrl");var Fn=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function cs(t){let e=(0,Fn.getFrontMatterInfo)(t);return(0,Fn.parseYaml)(e.frontmatter)??{}}r(cs,"parseFrontmatter");function kd(t,e){let n=(0,Fn.getFrontMatterInfo)(t);if(Object.keys(e).length===0)return t.slice(n.contentStart);let i=(0,Fn.stringifyYaml)(e);return n.exists?Mc(t,i,n.from,n.to):`---
${i}---
${t}`}r(kd,"setFrontmatter");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Ze(t){if(!nt(t))return!1;let e=t;return e.startOffset!==void 0&&e.endOffset!==void 0}r(Ze,"isFrontmatterLinkCacheWithOffsets");function fs(t){return Ze(t)?t:{...t,endOffset:t.original.length,startOffset:0}}r(fs,"toFrontmatterLinkCacheWithOffsets");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function xd(t){return gl(t)&&t.type==="file"}r(xd,"isCanvasFileNodeReference");function gl(t){return nt(t)&&!!t.isCanvas}r(gl,"isCanvasReference");function ds(t,e){return Ze(t)?{newContent:e,oldContent:t.original.slice(t.startOffset,t.endOffset),reference:t}:{newContent:e,oldContent:t.original,reference:t}}r(ds,"referenceToFileChange");function Cd(t){return t.sort((e,n)=>{if(nt(e)&&nt(n)){let i=Ze(e)?e.startOffset:0,s=Ze(n)?n.startOffset:0;return e.key.localeCompare(n.key)||Number(Ze(n))-Number(Ze(e))||i-s}return Kt(e)&&Kt(n)?e.position.start.offset-n.position.start.offset:nt(e)?1:-1})}r(Cd,"sortReferences");var vd=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function ek(t,e){if(await t.vault.adapter.exists(e))return!1;try{return await t.vault.createFolder(e),!0}catch(n){if(!await t.vault.exists(e))throw n;return!0}}r(ek,"createFolderSafe");function tk(t,e){let n=At(e);return t.vault.getAvailablePath(qe(Pe(e),Ke(e,n)),n.slice(1))}r(tk,"getAvailablePath");function yl(t,e,n){let i=we(t,e);if(t.vault.adapter.insensitive){let s=Pe(n),a=Ke(n),l;for(;l=St(t,s,!0),!l;)a=qe(Ke(s),a),s=Pe(s);n=qe(l.getParentPrefix(),a)}return i.toLowerCase()===n.toLowerCase()?n:tk(t,n)}r(yl,"getSafeRenamePath");async function hs(t,e){let n=await wl(t,we(t,e));return n.files.length===0&&n.folders.length===0}r(hs,"isEmptyFolder");async function wl(t,e){let n=we(t,e),i={files:[],folders:[]};if((await t.vault.adapter.stat(n))?.type!=="folder")return i;try{return await t.vault.adapter.list(n)}catch(s){if(await t.vault.exists(n))throw s;return i}}r(wl,"listSafe");async function Ad(t,e,n,i={}){let a={...{shouldFailOnMissingFile:!0},...i};await Ri(async l=>{l.throwIfAborted();let c=await bl(t,e);if(l.throwIfAborted(),c===null)return g();let f=await jn(n,l,c);if(l.throwIfAborted(),f===null)return!1;let h=!0;if(!await Ed(t,e,async y=>{l.throwIfAborted(),await t.vault.process(y,w=>(l.throwIfAborted(),w!==c?(de("Vault:process")("Content has changed since it was read. Retrying...",{actualContent:w,expectedContent:c,path:y.path}),h=!1,w):f)),l.throwIfAborted()}))return g();return h;function g(){if(a.shouldFailOnMissingFile){let y=we(t,e);throw new Error(`File '${y}' not found`)}return!0}},a)}r(Ad,"process");async function bl(t,e){let n=null;return await Ed(t,e,async i=>{await ps(t,i),n=await t.vault.read(i)}),n}r(bl,"readSafe");async function Sd(t,e,n){let i=Ce(t,e,!1,!0),s=yl(t,e,n);if(i.path.toLowerCase()===s.toLowerCase())return i.path!==n&&await t.vault.rename(i,s),s;let a=Ot(s);await ek(t,a);try{await t.vault.rename(i,s)}catch(l){if(!await t.vault.exists(s)||await t.vault.exists(i.path))throw l}return s}r(Sd,"renameSafe");async function ps(t,e){if(!ze(t,e))return;let n=we(t,e);for(let i of t.workspace.getLeavesOfType(Ac.Markdown))i.view instanceof vd.MarkdownView&&i.view.file?.path===n&&i.view.dirty&&await i.view.save()}r(ps,"saveNote");async function Ed(t,e,n){let i=we(t,e),s=Je(t,i);if(!s||s.deleted)return!1;try{return await n(s),!0}catch(a){if(s=Je(t,i),!s||s.deleted)return!1;throw a}}r(Ed,"invokeFileActionSafe");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function ys(t,e,n,i,s=!0){t.throwIfAborted();let a=await jn(i,t,e);if(t.throwIfAborted(),a===null)return null;let{frontmatter:l,hasFrontmatterError:c}=uk(e,n);if(!hk(a,e,l,n))return s?null:e;if(a=fk(a),!dk(a))return null;let{frontmatterChanged:f,newContent:h}=ok(a,e,c,n);return await ak(t,l,f,n),t.throwIfAborted(),lk(h,l,f)}r(ys,"applyContentChanges");async function ws(t,e,n,i={},s=!0){await Ad(t,e,async(a,l)=>Cn(t,e)?await sk(a,l,we(t,e),n,s):await ys(a,l,we(t,e),n,s),i)}r(ws,"applyFileChanges");function jr(t){return gl(t.reference)}r(jr,"isCanvasChange");function nk(t){return jr(t)&&t.reference.type==="file"}r(nk,"isCanvasFileNodeChange");function rk(t){return jr(t)&&t.reference.type==="text"}r(rk,"isCanvasTextNodeChange");function Jt(t){return Kt(t.reference)}r(Jt,"isContentChange");function ms(t){return nt(t.reference)}r(ms,"isFrontmatterChange");function gs(t){return Ze(t.reference)}r(gs,"isFrontmatterChangeWithOffsets");function ik(t){return gs(t)?t:{...t,reference:fs(t.reference)}}r(ik,"toFrontmatterChangeWithOffsets");async function sk(t,e,n,i,s=!0){let a=await jn(i,t,e);if(t.throwIfAborted(),a===null)return null;let l=ck(e),c=new Map;for(let f of a){if(!jr(f)){let p="Only canvas changes are supported for canvas files";throw console.error(p,{change:f,path:n}),new Error(p)}let h=l.nodes[f.reference.nodeIndex];if(!h){let p="Node not found";throw console.error(p,{nodeIndex:f.reference.nodeIndex,path:n}),new Error(p)}if(nk(f)){if(h.file!==f.oldContent)return de("FileChange:applyCanvasChanges")("Content mismatch",{actualContent:h.file,expectedContent:f.oldContent,nodeIndex:f.reference.nodeIndex,path:n,type:"file"}),null;h.file=f.newContent}else if(rk(f)){let p=c.get(f.reference.nodeIndex);p||(p=[],c.set(f.reference.nodeIndex,p)),p.push(f)}}for(let[f,h]of c.entries()){let p=l.nodes[f];if(!p){let y="Node not found";throw console.error(y,{nodeIndex:f,path:n}),new Error(y)}if(typeof p.text!="string"){let y="Node text is not a string";throw console.error(y,{nodeIndex:f,path:n}),new Error(y)}let g=h.map(y=>ds(y.reference.originalReference,y.newContent));p.text=await ys(t,p.text,`${n}.node${String(f)}.VIRTUAL_FILE.md`,g,s)}return JSON.stringify(l,null,"	")}r(sk,"applyCanvasChanges");function ok(t,e,n,i){let s="",a=0,l=new Map;for(let c of t)if(Jt(c))s+=e.slice(a,c.reference.position.start.offset),s+=c.newContent,a=c.reference.position.end.offset;else if(ms(c))if(n)console.error(`Cannot apply frontmatter change in ${i}, because frontmatter parsing failed`,{change:c});else{let f=l.get(c.reference.key);f||(f=[],l.set(c.reference.key,f)),f.push(ik(c))}return s+=e.slice(a),{frontmatterChanged:l,newContent:s}}r(ok,"applyContentChangesToText");async function ak(t,e,n,i){for(let[s,a]of n.entries()){let l=ir(e,s);if(typeof l!="string")return;let c=a.map(h=>({newContent:h.newContent,oldContent:h.oldContent,reference:{link:"",original:"",position:{end:{col:h.reference.endOffset,line:0,offset:h.reference.endOffset},start:{col:h.reference.startOffset,line:0,offset:h.reference.startOffset}}}})),f=await ys(t,l,`${i}.frontmatter.${s}.VIRTUAL_FILE.md`,c);if(f===null)return;bd(e,s,f)}}r(ak,"applyFrontmatterChangesWithOffsets");function lk(t,e,n){return n.size>0?kd(t,e):t}r(lk,"buildFinalContent");function uk(t,e){let n={},i=!1;try{n=cs(t)}catch(s){kn(new Error(`Frontmatter parsing failed in ${e}`,{cause:s})),i=!0}return{frontmatter:n,hasFrontmatterError:i}}r(uk,"parseFrontmatterSafely");function ck(t){let e;try{e=JSON.parse(t)}catch{e=null}return(e===null||typeof e!="object")&&(e={}),e}r(ck,"parseJsonSafe");function fk(t){return t.sort((e,n)=>Jt(e)&&Jt(n)?e.reference.position.start.offset-n.reference.position.start.offset:gs(e)&&gs(n)?e.reference.key.localeCompare(n.reference.key)||e.reference.startOffset-n.reference.startOffset:ms(e)&&ms(n)?e.reference.key.localeCompare(n.reference.key):Jt(e)?-1:1),t.filter((e,n)=>e.oldContent===e.newContent?!1:n===0?!0:!pt(e,t[n-1]))}r(fk,"sortAndFilterChanges");function dk(t){for(let e=1;e<t.length;e++){let n=t[e];if(!n)continue;let i=t[e-1];if(i&&Jt(i)&&Jt(n)&&i.reference.position.end.offset&&i.reference.position.end.offset>n.reference.position.start.offset){let s="Overlapping changes";throw console.error(s,{change:n,previousChange:i}),new Error(s)}}return!0}r(dk,"validateChangeOverlaps");function hk(t,e,n,i){let s=de("FileChange:validateChanges");for(let a of t)if(Jt(a)){let l=a.reference.position.start.offset,c=a.reference.position.end.offset,f=e.slice(l,c);if(f!==a.oldContent)return s("Content mismatch",{actualContent:f,endOffset:c,expectedContent:a.oldContent,path:i,startOffset:l}),!1}else if(gs(a)){let l=ir(n,a.reference.key);if(typeof l!="string")return s("Property value is not a string",{frontmatterKey:a.reference.key,path:i,propertyValue:l}),!1;let c=l.slice(a.reference.startOffset,a.reference.endOffset);if(c!==a.oldContent)return s("Content mismatch",{actualContent:c,expectedContent:a.oldContent,frontmatterKey:a.reference.key,path:i,startOffset:a.reference.startOffset}),!1}else if(ms(a)){let l=ir(n,a.reference.key);if(l!==a.oldContent)return s("Content mismatch",{actualContent:l,expectedContent:a.oldContent,frontmatterKey:a.reference.key,path:i}),!1}return!0}r(hk,"validateChanges");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Td(t){await new Promise(e=>{t.metadataCache.onCleanCache(e)})}r(Td,"ensureMetadataCacheReady");function Zt(t){let e=[];return t.links&&e.push(...t.links),t.embeds&&e.push(...t.embeds),t.frontmatterLinks&&e.push(...t.frontmatterLinks),Cd(e),e=e.filter((n,i)=>{if(i===0)return!0;let s=e[i-1];if(!s)return!0;if(Kt(n)&&Kt(s))return n.position.start.offset!==s.position.start.offset;if(nt(n)&&nt(s)){let a=Ze(n)?n.startOffset:0,l=Ze(s)?s.startOffset:0;return n.key!==s.key||Ze(n)!==Ze(s)||a!==l}return!0}),e}r(Zt,"getAllLinks");function kl(t,e){let n=Ce(t,e,!0);return Gr(t,[n],()=>t.metadataCache.getBacklinksForFile(n))}r(kl,"getBacklinksForFileOrPath");async function _n(t,e,n={}){let i=t.metadataCache.getBacklinksForFile.safe;if(i)return i(e);let s=new vc;return await Ri(async a=>{a.throwIfAborted();let l=Ce(t,e);await Td(t),a.throwIfAborted(),s=kl(t,l);for(let c of s.keys()){a.throwIfAborted();let f=Je(t,c);if(!f)return!1;await ps(t,f),a.throwIfAborted();let h=await bl(t,f);if(a.throwIfAborted(),!h)return!1;let p=cs(h),g=s.get(c);if(!g)return!1;for(let y of g){let w;if(Kt(y))w=h.slice(y.position.start.offset,y.position.end.offset);else if(nt(y)){let v=ir(p,y.key);if(typeof v!="string")return!1;let F=fs(y);w=v.slice(F.startOffset,F.endOffset)}else return!0;if(w!==y.original)return!1}}return!0},n),s}r(_n,"getBacklinksForFileSafe");async function bs(t,e){let n=Je(t,e);try{if(!n)return null;if(n.deleted)return t.metadataCache.getFileCache(n);await ps(t,n);let i=t.metadataCache.fileCache[n.path];return i&&i.mtime===n.stat.mtime&&i.size===n.stat.size&&t.metadataCache.metadataCache[i.hash]||(await t.metadataCache.computeFileMetadataAsync(n),await Td(t)),t.metadataCache.getFileCache(n)}catch(i){if(!n||n.deleted)return null;throw i}}r(bs,"getCacheSafe");function Pd(t,e,n){let i=Ce(t,e,!0);if(!i.deleted)throw new Error("File is existing");t.metadataCache.fileCache[i.path]={hash:i.path,mtime:0,size:0},t.metadataCache.metadataCache[i.path]=n}r(Pd,"registerFileCacheForNonExistingFile");function Fd(t,e){let n=Ld(t);for(let i of e)for(;i.deleted;){let s=n.get(i.path)??0;s++,n.set(i.path,s),t.vault.fileMap[i.path]=i,dt(i)&&t.metadataCache.uniqueFileLookup.add(i.name.toLowerCase(),i),i=xn(t,Ot(i.path),!0)}}r(Fd,"registerFiles");function Gr(t,e,n){try{return Fd(t,e),n()}finally{Md(t,e)}}r(Gr,"tempRegisterFilesAndRun");async function _d(t,e,n){try{return Fd(t,e),await n()}finally{Md(t,e)}}r(_d,"tempRegisterFilesAndRunAsync");function Od(t,e){let n=Ce(t,e,!0);if(!n.deleted)throw new Error("File is existing");delete t.metadataCache.fileCache[n.path],delete t.metadataCache.metadataCache[n.path]}r(Od,"unregisterFileCacheForNonExistingFile");function Md(t,e){let n=Ld(t);for(let i of e)for(;i.deleted;){let s=n.get(i.path)??1;s--,n.set(i.path,s),s===0&&(n.delete(i.path),delete t.vault.fileMap[i.path],dt(i)&&t.metadataCache.uniqueFileLookup.remove(i.name.toLowerCase(),i)),i=xn(t,Ot(i.path),!0)}}r(Md,"unregisterFiles");function Ld(t){return tt(t,"registeredFilesCounts",new Map).value}r(Ld,"getRegisteredFilesCounts");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Id(t){return t.vault.getConfig("newLinkFormat")}r(Id,"getNewLinkFormat");function xl(t){return!t.vault.getConfig("useMarkdownLinks")}r(xl,"shouldUseWikilinks");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var pk="\\|",mk=/[\\\x00\x08\x0B\x0C\x0E-\x1F ]/g,gk=/[\\[\]<>_*~=`$]/g,Nd=/(?<!\\)\|/g,Bd="|";var ks=(t=>(t.Markdown="Markdown",t.ObsidianSettingsDefault="ObsidianSettingsDefault",t.PreserveExisting="PreserveExisting",t.Wikilink="Wikilink",t))(ks||{});function Cl(t){let e=Kr(t.app,t.link,t.oldSourcePathOrFile??t.newSourcePathOrFile);return e?Sl({app:t.app,link:t.link,linkStyle:t.linkStyle,newSourcePathOrFile:t.newSourcePathOrFile,newTargetPathOrFile:e,oldSourcePathOrFile:t.oldSourcePathOrFile,shouldUpdateFileNameAlias:t.shouldUpdateFileNameAlias}):t.link.original}r(Cl,"convertLink");async function vl(t,e,n,i={}){await ws(t,e,async(s,a)=>{let l=await bs(t,e);s.throwIfAborted();let c=Ce(t,e),f=await t.vault.cachedRead(c);return s.throwIfAborted(),a!==f?null:await Tk(l,Cn(t,e),n,s)},i)}r(vl,"editLinks");function Al(t){return Ge(t,mk,({substring:e})=>encodeURIComponent(e))}r(Al,"encodeUrl");function Kr(t,e,n,i=!1){let{linkPath:s}=xs(e.link),a=we(t,n),l=t.metadataCache.getFirstLinkpathDest(s,a);if(l)return l;if(!i)return null;if(s.startsWith("/"))return Ce(t,s,!0);let c=qe(Pe(a),`./${s}`);return c.startsWith("../")?null:Ce(t,c,!0)}r(Kr,"extractLinkFile");function qr(t){let{app:e}=t,n={isEmptyEmbedAliasAllowed:!0},i=Yd(e).map(a=>a());t=Object.assign({},n,...i,t);let s=Ce(e,t.targetPathOrFile,t.isNonExistingFileAllowed);return Gr(e,[s],()=>Ak(t))}r(qr,"generateMarkdownLink");function ar(t){let e=yk(t);return e[0]?.raw===t?e[0]:null}r(ar,"parseLink");function yk(t){let e=new Set,n="![",i=" [",s=Ge(t,n,p=>(e.add(p.offset),i)),l=fd().use(Zn).use(gd,{aliasDivider:Bd}).parse(s),c=[],f=[];Ur(l,p=>{let g;switch(p.type){case"link":g=_k(p,t);break;case"wikiLink":g=Ok(p,t);break;default:return}e.has(g.startOffset-1)&&(g.isEmbed=!0,g.startOffset--,g.raw=`!${g.raw}`),c.push(g)}),c.sort((p,g)=>p.startOffset-g.startOffset);let h=0;for(let p of c)Dd(t,h,p.startOffset-1,f),h=p.endOffset+1;return Dd(t,h,t.length-1,f),c.push(...f),c.sort((p,g)=>p.startOffset-g.startOffset),c}r(yk,"parseLinks");function Vd(t,e){let n=Yd(t.app);n.push(e),t.register(()=>{n.remove(e)})}r(Vd,"registerGenerateMarkdownLinkDefaultOptionsFn");function wk(t){let{app:e,displayText:n,isWikilink:i,newSourcePathOrFile:s,oldSourcePathOrFile:a,oldTargetPath:l,targetPathOrFile:c}=t;if(i===!1)return!1;if(!n)return!0;let f=Ce(e,c,!0),h=we(e,s),p=we(e,a??s),g=Pe(h),y=Pe(p),w=new Set;for(let F of[f.path,l]){if(!F)continue;let S=we(e,F);w.add(S),w.add(Ke(S)),w.add(Gn(g,S)),w.add(Gn(y,S))}for(let F of[p,h])w.add(e.metadataCache.fileToLinktext(f,F,!1));let v=Ge((0,or.normalizePath)(n.split(" > ")[0]??""),/^\.\//g,"").toLowerCase();for(let F of w){if(F.toLowerCase()===v)return!0;let S=Pe(F),A=Ke(F,At(F));if(qe(S,A).toLowerCase()===v)return!0}return!1}r(wk,"shouldResetAlias");function xs(t){let e=(0,or.parseLinktext)(Ir(t));return{linkPath:e.path,subpath:e.subpath}}r(xs,"splitSubpath");function bk(t){return ar(t)?.hasAngleBrackets??!1}r(bk,"testAngleBrackets");function Wd(t){return ar(t)?.isEmbed??!1}r(Wd,"testEmbed");function kk(t){return ar(t)?.url.startsWith("./")??!1}r(kk,"testLeadingDot");function xk(t){return ar(t)?.url.startsWith("/")??!1}r(xk,"testLeadingSlash");function Ck(t){return ar(t)?.isWikilink??!1}r(Ck,"testWikilink");function Sl(t){let{app:e,link:n,linkStyle:i,newSourcePathOrFile:s,newTargetPathOrFile:a,oldSourcePathOrFile:l,oldTargetPathOrFile:c,shouldUpdateFileNameAlias:f}=t;if(!a)return n.original;let h=Ce(e,a,!0),p=we(e,l??s),g=we(e,c??a),y=Ud(e,n.original,i),{subpath:w}=xs(n.link),v=!f;if(Cn(e,s)&&xd(n))return h.path+w;let F=ar(n.original),S;return y&&F?.alias&&(S=F.alias,v=!0),S??=wk({app:e,displayText:n.displayText,isWikilink:y,newSourcePathOrFile:s,oldSourcePathOrFile:l,oldTargetPath:g,targetPathOrFile:h})?void 0:F?.alias,v||(S===Ke(g,At(g))?S=h.basename:S===Ke(g)&&(S=h.name)),qr({alias:S,app:e,isSingleSubpathAllowed:p===g&&!!F?.alias,linkStyle:i,originalLink:n.original,sourcePathOrFile:s,subpath:w,targetPathOrFile:h})}r(Sl,"updateLink");async function Cs(t){let{app:e,linkStyle:n,newSourcePathOrFile:i,oldSourcePathOrFile:s,shouldUpdateEmbedOnlyLinks:a,shouldUpdateFileNameAlias:l}=t;Cn(e,i)&&!e.internalPlugins.getEnabledPluginById(ft.Canvas)||await vl(e,i,c=>{let f=Wd(c.original);if(!(a!==void 0&&a!==f))return Cl({app:e,link:c,linkStyle:n,newSourcePathOrFile:i,oldSourcePathOrFile:s,shouldUpdateFileNameAlias:l})},t)}r(Cs,"updateLinksInFile");function Dd(t,e,n,i){if(e>n)return;let s=t.slice(e,n+1);Ge(s,/(?<Url>\S+)/g,(a,l)=>{ml(l)&&i.push({encodedUrl:Al(l),endOffset:e+a.offset+l.length,hasAngleBrackets:!1,isEmbed:!1,isExternal:!0,isWikilink:!1,raw:l,startOffset:e+a.offset,url:l})})}r(Dd,"extractTextLinks");function vk(t,e,n,i,s){n==="/"&&(n="");let a;if(e.path===n&&i&&s.isSingleSubpathAllowed)a="";else switch(s.linkPathStyle){case"AbsolutePathInVault":a=e.path,s.shouldUseLeadingSlashForAbsolutePaths&&!a.startsWith("/")&&(a=`/${a}`);break;case"RelativePathToTheNote":a=Gn(Pe(n),e.path),s.shouldUseLeadingDotForRelativePaths&&!a.startsWith(".")&&(a=`./${a}`);break;case"ShortestPathWhenPossible":{let l=ze(t,e)?e.basename:e.name,c=t.metadataCache.getLinkpathDest(l,n);a=c.length===1&&c[0]===e?e.name:e.path;break}default:throw new Error(`Invalid link path style: ${s.linkPathStyle}.`)}return a=s.isWikilink?ga(a,`.${sn}`):a,a+=i,a}r(vk,"generateLinkText");function Ak(t){let{app:e}=t,n=Ce(e,t.targetPathOrFile,t.isNonExistingFileAllowed),i=we(e,t.sourcePathOrFile),s=t.subpath??"",a=Fk(t,n),l=vk(e,n,i,s,a);return a.isWikilink?Ek(l,t.alias,a.isEmbed):Sk(l,n,t,a)}r(Ak,"generateMarkdownLinkImpl");function Sk(t,e,n,i){let{app:s}=n,a=i.isEmbed?"!":"",l=i.shouldUseAngleBrackets?`<${t}>`:Al(t),c=n.alias??"";!c&&(!i.isEmbed||!n.isEmptyEmbedAliasAllowed)&&(c=!n.shouldIncludeAttachmentExtensionToEmbedAlias||ze(s,e)?e.basename:e.name);let f=n.shouldEscapeAlias?Ge(c,gk,"\\$&"):c;return`${a}[${f}](${l})`}r(Sk,"generateMarkdownStyleLink");function Ek(t,e,n){let i=n?"!":"",s=e??"";if(s&&s.toLowerCase()===t.toLowerCase())return`${i}[[${s}]]`;let a=s?`|${s}`:"";return`${i}[[${t}${a}]]`}r(Ek,"generateWikiLink");async function Tk(t,e,n,i){if(i??=We(),i.throwIfAborted(),!t)return[];let s=[],a=(t.sections??[]).filter(l=>l.type==="table").map(l=>({end:l.position.end.offset,start:l.position.start.offset}));for(let l of Zt(t)){i.throwIfAborted();let c=await n(l,i);if(i.throwIfAborted(),c===void 0)continue;let f=ds(l,c);if(e)if(jr(f))s.push(f);else{let h="Unsupported file change";throw console.error(h,f),new Error(h)}else Mk(f,a)&&(f.newContent=f.newContent.replaceAll(Nd,pk)),s.push(f)}return s}r(Tk,"getFileChanges");function Pk(t,e){switch(e??"ObsidianSettingsDefault"){case"AbsolutePathInVault":return"AbsolutePathInVault";case"RelativePathToTheSource":return"RelativePathToTheNote";case"ShortestPathWhenPossible":return"ShortestPathWhenPossible";case"ObsidianSettingsDefault":{let n=Id(t);switch(n){case"absolute":return"AbsolutePathInVault";case"relative":return"RelativePathToTheNote";case"shortest":return"ShortestPathWhenPossible";default:throw new Error(`Invalid link format: ${n}.`)}}default:throw new Error(`Invalid link path style: ${e}.`)}}r(Pk,"getFinalLinkPathStyle");function Yd(t){return tt(t,"generateMarkdownLinkDefaultOptionsFns",[]).value}r(Yd,"getGenerateMarkdownLinkDefaultOptionsFns");function Fk(t,e){let{app:n}=t;return{isEmbed:t.isEmbed??(t.originalLink?Wd(t.originalLink):void 0)??(!(0,or.requireApiVersion)("1.10.0")&&!ze(n,e)),isSingleSubpathAllowed:t.isSingleSubpathAllowed??!0,isWikilink:Ud(n,t.originalLink,t.linkStyle),linkPathStyle:Pk(n,t.linkPathStyle),shouldUseAngleBrackets:t.shouldUseAngleBrackets??(t.originalLink?bk(t.originalLink):void 0)??!1,shouldUseLeadingDotForRelativePaths:t.shouldUseLeadingDotForRelativePaths??(t.originalLink?kk(t.originalLink):void 0)??!1,shouldUseLeadingSlashForAbsolutePaths:t.shouldUseLeadingSlashForAbsolutePaths??(t.originalLink?xk(t.originalLink):void 0)??!1}}r(Fk,"getLinkConfig");function zd(t,e){return e.slice(t.position?.start.offset??0,t.position?.end.offset??0)}r(zd,"getRawLink");function _k(t,e){let a=zd(t,e),l=t.children[0]?.position?.start.offset??1,c=t.children.at(-1)?.position?.end.offset??1,f=e.slice(c+2,(t.position?.end.offset??0)-1),h=a.startsWith("<")||f.startsWith("<"),p=ml(t.url),g=t.url;if(!p&&!h)try{g=decodeURIComponent(g)}catch(y){console.error(`Failed to decode URL ${g}`,y)}return{alias:l<c?e.slice(l,c):void 0,encodedUrl:p?Al(g):void 0,endOffset:t.position?.end.offset??0,hasAngleBrackets:h,isEmbed:!1,isExternal:p,isWikilink:!1,raw:a,startOffset:t.position?.start.offset??0,title:t.title??void 0,url:g}}r(_k,"parseLinkNode");function Ok(t,e){return{alias:e.includes(Bd)?t.data.alias:void 0,endOffset:t.position?.end.offset??0,isEmbed:!1,isExternal:!1,isWikilink:!0,raw:zd(t,e),startOffset:t.position?.start.offset??0,url:t.value}}r(Ok,"parseWikilinkNode");function Mk(t,e){return!Jt(t)||!Nd.test(t.newContent)?!1:e.some(n=>n.start<=t.reference.position.start.offset&&t.reference.position.end.offset<=n.end)}r(Mk,"shouldEscapeWikilinkDivider");function Ud(t,e,n){switch(n??"PreserveExisting"){case"Markdown":return!1;case"ObsidianSettingsDefault":return xl(t);case"PreserveExisting":return e===void 0?xl(t):Ck(e);case"Wikilink":return!0;default:throw new Error(`Invalid link style: ${n}.`)}}r(Ud,"shouldUseWikilinkStyle");var Ds=require("obsidian");var $d=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var vs=class extends $d.Component{static{r(this,"AsyncEventsComponent")}registerAsyncEvent(e){As(this,e)}};function As(t,e){t.register(()=>{e.asyncEvents.offref(e)})}r(As,"registerAsyncEvent");var j=r(t=>typeof t=="string","isString"),Jr=r(()=>{let t,e,n=new Promise((i,s)=>{t=i,e=s});return n.resolve=t,n.reject=e,n},"defer"),Hd=r(t=>t==null?"":""+t,"makeString"),Lk=r((t,e,n)=>{t.forEach(i=>{e[i]&&(n[i]=e[i])})},"copy"),Ik=/###/g,jd=r(t=>t&&t.indexOf("###")>-1?t.replace(Ik,"."):t,"cleanKey"),Gd=r(t=>!t||j(t),"canNotTraverseDeeper"),Zr=r((t,e,n)=>{let i=j(e)?e.split("."):e,s=0;for(;s<i.length-1;){if(Gd(t))return{};let a=jd(i[s]);!t[a]&&n&&(t[a]=new n),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++s}return Gd(t)?{}:{obj:t,k:jd(i[s])}},"getLastOfPath"),Kd=r((t,e,n)=>{let{obj:i,k:s}=Zr(t,e,Object);if(i!==void 0||e.length===1){i[s]=n;return}let a=e[e.length-1],l=e.slice(0,e.length-1),c=Zr(t,l,Object);for(;c.obj===void 0&&l.length;)a=`${l[l.length-1]}.${a}`,l=l.slice(0,l.length-1),c=Zr(t,l,Object),c?.obj&&typeof c.obj[`${c.k}.${a}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${a}`]=n},"setPath"),Dk=r((t,e,n,i)=>{let{obj:s,k:a}=Zr(t,e,Object);s[a]=s[a]||[],s[a].push(n)},"pushPath"),Es=r((t,e)=>{let{obj:n,k:i}=Zr(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,i))return n[i]},"getPath"),Rk=r((t,e,n)=>{let i=Es(t,n);return i!==void 0?i:Es(e,n)},"getPathWithDefaults"),nh=r((t,e,n)=>{for(let i in e)i!=="__proto__"&&i!=="constructor"&&(i in t?j(t[i])||t[i]instanceof String||j(e[i])||e[i]instanceof String?n&&(t[i]=e[i]):nh(t[i],e[i],n):t[i]=e[i]);return t},"deepExtend"),lr=r(t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"regexEscape"),Nk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},Bk=r(t=>j(t)?t.replace(/[&<>"'\/]/g,e=>Nk[e]):t,"escape"),Pl=class{static{r(this,"RegExpCache")}constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let n=this.regExpMap.get(e);if(n!==void 0)return n;let i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}},Vk=[" ",",","?","!",";"],Wk=new Pl(20),Yk=r((t,e,n)=>{e=e||"",n=n||"";let i=Vk.filter(l=>e.indexOf(l)<0&&n.indexOf(l)<0);if(i.length===0)return!0;let s=Wk.getRegExp(`(${i.map(l=>l==="?"?"\\?":l).join("|")})`),a=!s.test(t);if(!a){let l=t.indexOf(n);l>0&&!s.test(t.substring(0,l))&&(a=!0)}return a},"looksLikeObjectPath"),Fl=r((t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;let i=e.split(n),s=t;for(let a=0;a<i.length;){if(!s||typeof s!="object")return;let l,c="";for(let f=a;f<i.length;++f)if(f!==a&&(c+=n),c+=i[f],l=s[c],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&f<i.length-1)continue;a+=f-a+1;break}s=l}return s},"deepFind"),Qr=r(t=>t?.replace("_","-"),"getCleanedCode"),zk={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}},_l=class t{static{r(this,"Logger")}constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||zk,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,i,s){return s&&!this.debug?null:(j(e[0])&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new t(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new t(this.logger,e)}},Rt=new _l,ur=class{static{r(this,"EventEmitter")}constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);let s=this.observers[i].get(n)||0;this.observers[i].set(n,s+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,a])=>{for(let l=0;l<a;l++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,a])=>{for(let l=0;l<a;l++)s.apply(s,[e,...n])})}},Ts=class extends ur{static{r(this,"ResourceStore")}constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){let n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,i,s={}){let a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure,c;e.indexOf(".")>-1?c=e.split("."):(c=[e,n],i&&(Array.isArray(i)?c.push(...i):j(i)&&a?c.push(...i.split(a)):c.push(i)));let f=Es(this.data,c);return!f&&!n&&!i&&e.indexOf(".")>-1&&(e=c[0],n=c[1],i=c.slice(2).join(".")),f||!l||!j(i)?f:Fl(this.data?.[e]?.[n],i,a)}addResource(e,n,i,s,a={silent:!1}){let l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,c=[e,n];i&&(c=c.concat(l?i.split(l):i)),e.indexOf(".")>-1&&(c=e.split("."),s=n,n=c[1]),this.addNamespaces(n),Kd(this.data,c,s),a.silent||this.emit("added",e,n,i,s)}addResources(e,n,i,s={silent:!1}){for(let a in i)(j(i[a])||Array.isArray(i[a]))&&this.addResource(e,n,a,i[a],{silent:!0});s.silent||this.emit("added",e,n,i)}addResourceBundle(e,n,i,s,a,l={silent:!1,skipCopy:!1}){let c=[e,n];e.indexOf(".")>-1&&(c=e.split("."),s=i,i=n,n=c[1]),this.addNamespaces(n);let f=Es(this.data,c)||{};l.skipCopy||(i=JSON.parse(JSON.stringify(i))),s?nh(f,i,a):f={...f,...i},Kd(this.data,c,f),l.silent||this.emit("added",e,n,i)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}},rh={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,i,s){return t.forEach(a=>{e=this.processors[a]?.process(e,n,i,s)??e}),e}},ih=Symbol("i18next/PATH_KEY");function Uk(){let t=[],e=Object.create(null),n;return e.get=(i,s)=>(n?.revoke?.(),s===ih?t:(t.push(s),n=Proxy.revocable(i,e),n.proxy)),Proxy.revocable(Object.create(null),e).proxy}r(Uk,"createProxy");function Ol(t,e){let{[ih]:n}=t(Uk());return n.join(e?.keySeparator??".")}r(Ol,"keysFromSelector");var qd={},El=r(t=>!j(t)&&typeof t!="boolean"&&typeof t!="number","shouldHandleAsObject"),Ps=class t extends ur{static{r(this,"Translator")}constructor(e,n={}){super(),Lk(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Rt.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){let i={...n};if(e==null)return!1;let s=this.resolve(e,i);if(s?.res===void 0)return!1;let a=El(s.res);return!(i.returnObjects===!1&&a)}extractFromKey(e,n){let i=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");let s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,a=n.ns||this.options.defaultNS||[],l=i&&e.indexOf(i)>-1,c=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Yk(e,i,s);if(l&&!c){let f=e.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:e,namespaces:j(a)?[a]:a};let h=e.split(i);(i!==s||i===s&&this.options.ns.indexOf(h[0])>-1)&&(a=h.shift()),e=h.join(s)}return{key:e,namespaces:j(a)?[a]:a}}translate(e,n,i){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),e==null)return"";typeof e=="function"&&(e=Ol(e,{...this.options,...s})),Array.isArray(e)||(e=[String(e)]);let a=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,l=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:c,namespaces:f}=this.extractFromKey(e[e.length-1],s),h=f[f.length-1],p=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;p===void 0&&(p=":");let g=s.lng||this.language,y=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(g?.toLowerCase()==="cimode")return y?a?{res:`${h}${p}${c}`,usedKey:c,exactUsedKey:c,usedLng:g,usedNS:h,usedParams:this.getUsedParamsDetails(s)}:`${h}${p}${c}`:a?{res:c,usedKey:c,exactUsedKey:c,usedLng:g,usedNS:h,usedParams:this.getUsedParamsDetails(s)}:c;let w=this.resolve(e,s),v=w?.res,F=w?.usedKey||c,S=w?.exactUsedKey||c,A=["[object Number]","[object Function]","[object RegExp]"],P=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,O=!this.i18nFormat||this.i18nFormat.handleAsObject,I=s.count!==void 0&&!j(s.count),W=t.hasDefaultValue(s),E=I?this.pluralResolver.getSuffix(g,s.count,s):"",G=s.ordinal&&I?this.pluralResolver.getSuffix(g,s.count,{ordinal:!1}):"",K=I&&!s.ordinal&&s.count===0,$=K&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${E}`]||s[`defaultValue${G}`]||s.defaultValue,Q=v;O&&!v&&W&&(Q=$);let ue=El(Q),te=Object.prototype.toString.apply(Q);if(O&&Q&&ue&&A.indexOf(te)<0&&!(j(P)&&Array.isArray(Q))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let D=this.options.returnedObjectHandler?this.options.returnedObjectHandler(F,Q,{...s,ns:f}):`key '${c} (${this.language})' returned an object instead of string.`;return a?(w.res=D,w.usedParams=this.getUsedParamsDetails(s),w):D}if(l){let D=Array.isArray(Q),z=D?[]:{},U=D?S:F;for(let J in Q)if(Object.prototype.hasOwnProperty.call(Q,J)){let ie=`${U}${l}${J}`;W&&!v?z[J]=this.translate(ie,{...s,defaultValue:El($)?$[J]:void 0,joinArrays:!1,ns:f}):z[J]=this.translate(ie,{...s,joinArrays:!1,ns:f}),z[J]===ie&&(z[J]=Q[J])}v=z}}else if(O&&j(P)&&Array.isArray(v))v=v.join(P),v&&(v=this.extendTranslation(v,e,s,i));else{let D=!1,z=!1;!this.isValidLookup(v)&&W&&(D=!0,v=$),this.isValidLookup(v)||(z=!0,v=c);let J=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&z?void 0:v,ie=W&&$!==v&&this.options.updateMissing;if(z||D||ie){if(this.logger.log(ie?"updateKey":"missingKey",g,h,c,ie?$:v),l){let oe=this.resolve(c,{...s,keySeparator:!1});oe&&oe.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ce=[],be=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&be&&be[0])for(let oe=0;oe<be.length;oe++)ce.push(be[oe]);else this.options.saveMissingTo==="all"?ce=this.languageUtils.toResolveHierarchy(s.lng||this.language):ce.push(s.lng||this.language);let C=r((oe,pe,k)=>{let ve=W&&k!==v?k:J;this.options.missingKeyHandler?this.options.missingKeyHandler(oe,h,pe,ve,ie,s):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(oe,h,pe,ve,ie,s),this.emit("missingKey",oe,h,pe,v)},"send");this.options.saveMissing&&(this.options.saveMissingPlurals&&I?ce.forEach(oe=>{let pe=this.pluralResolver.getSuffixes(oe,s);K&&s[`defaultValue${this.options.pluralSeparator}zero`]&&pe.indexOf(`${this.options.pluralSeparator}zero`)<0&&pe.push(`${this.options.pluralSeparator}zero`),pe.forEach(k=>{C([oe],c+k,s[`defaultValue${k}`]||$)})}):C(ce,c,$))}v=this.extendTranslation(v,e,s,w,i),z&&v===c&&this.options.appendNamespaceToMissingKey&&(v=`${h}${p}${c}`),(z||D)&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${p}${c}`:c,D?v:void 0,s))}return a?(w.res=v,w.usedParams=this.getUsedParamsDetails(s),w):v}extendTranslation(e,n,i,s,a){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});let f=j(e)&&(i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),h;if(f){let g=e.match(this.interpolator.nestingRegexp);h=g&&g.length}let p=i.replace&&!j(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),e=this.interpolator.interpolate(e,p,i.lng||this.language||s.usedLng,i),f){let g=e.match(this.interpolator.nestingRegexp),y=g&&g.length;h<y&&(i.nest=!1)}!i.lng&&s&&s.res&&(i.lng=this.language||s.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,(...g)=>a?.[0]===g[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${n[0]}`),null):this.translate(...g,n),i)),i.interpolation&&this.interpolator.reset()}let l=i.postProcess||this.options.postProcess,c=j(l)?[l]:l;return e!=null&&c?.length&&i.applyPostProcessor!==!1&&(e=rh.handle(c,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e,n={}){let i,s,a,l,c;return j(e)&&(e=[e]),e.forEach(f=>{if(this.isValidLookup(i))return;let h=this.extractFromKey(f,n),p=h.key;s=p;let g=h.namespaces;this.options.fallbackNS&&(g=g.concat(this.options.fallbackNS));let y=n.count!==void 0&&!j(n.count),w=y&&!n.ordinal&&n.count===0,v=n.context!==void 0&&(j(n.context)||typeof n.context=="number")&&n.context!=="",F=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);g.forEach(S=>{this.isValidLookup(i)||(c=S,!qd[`${F[0]}-${S}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(c)&&(qd[`${F[0]}-${S}`]=!0,this.logger.warn(`key "${s}" for languages "${F.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),F.forEach(A=>{if(this.isValidLookup(i))return;l=A;let P=[p];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(P,p,A,S,n);else{let I;y&&(I=this.pluralResolver.getSuffix(A,n.count,n));let W=`${this.options.pluralSeparator}zero`,E=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(y&&(n.ordinal&&I.indexOf(E)===0&&P.push(p+I.replace(E,this.options.pluralSeparator)),P.push(p+I),w&&P.push(p+W)),v){let G=`${p}${this.options.contextSeparator||"_"}${n.context}`;P.push(G),y&&(n.ordinal&&I.indexOf(E)===0&&P.push(G+I.replace(E,this.options.pluralSeparator)),P.push(G+I),w&&P.push(G+W))}}let O;for(;O=P.pop();)this.isValidLookup(i)||(a=O,i=this.getResource(A,S,O,n))}))})}),{res:i,usedKey:s,exactUsedKey:a,usedLng:l,usedNS:c}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,i,s={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,i,s):this.resourceStore.getResource(e,n,i,s)}getUsedParamsDetails(e={}){let n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!j(e.replace),s=i?e.replace:e;if(i&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!i){s={...s};for(let a of n)delete s[a]}return s}static hasDefaultValue(e){let n="defaultValue";for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&n===i.substring(0,n.length)&&e[i]!==void 0)return!0;return!1}},Fs=class{static{r(this,"LanguageUtil")}constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Rt.create("languageUtils")}getScriptPartFromCode(e){if(e=Qr(e),!e||e.indexOf("-")<0)return null;let n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Qr(e),!e||e.indexOf("-")<0)return e;let n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(j(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(i=>{if(n)return;let s=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&e.forEach(i=>{if(n)return;let s=this.getScriptPartFromCode(i);if(this.isSupportedCode(s))return n=s;let a=this.getLanguagePartFromCode(i);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(l=>{if(l===a)return l;if(!(l.indexOf("-")<0&&a.indexOf("-")<0)&&(l.indexOf("-")>0&&a.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===a||l.indexOf(a)===0&&a.length>1))return l})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),j(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let i=e[n];return i||(i=e[this.getScriptPartFromCode(n)]),i||(i=e[this.formatLanguageCode(n)]),i||(i=e[this.getLanguagePartFromCode(n)]),i||(i=e.default),i||[]}toResolveHierarchy(e,n){let i=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),s=[],a=r(l=>{l&&(this.isSupportedCode(l)?s.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))},"addCode");return j(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):j(e)&&a(this.formatLanguageCode(e)),i.forEach(l=>{s.indexOf(l)<0&&a(this.formatLanguageCode(l))}),s}},Jd={zero:0,one:1,two:2,few:3,many:4,other:5},Zd={select:r(t=>t===1?"one":"other","select"),resolvedOptions:r(()=>({pluralCategories:["one","other"]}),"resolvedOptions")},Ml=class{static{r(this,"PluralResolver")}constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Rt.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){let i=Qr(e==="dev"?"en":e),s=n.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:i,type:s});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let l;try{l=new Intl.PluralRules(i,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Zd;if(!e.match(/-|_/))return Zd;let f=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(f,n)}return this.pluralRulesCache[a]=l,l}needsPlural(e,n={}){let i=this.getRule(e,n);return i||(i=this.getRule("dev",n)),i?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,i={}){return this.getSuffixes(e,i).map(s=>`${n}${s}`)}getSuffixes(e,n={}){let i=this.getRule(e,n);return i||(i=this.getRule("dev",n)),i?i.resolvedOptions().pluralCategories.sort((s,a)=>Jd[s]-Jd[a]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,n,i={}){let s=this.getRule(e,i);return s?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,i))}},Qd=r((t,e,n,i=".",s=!0)=>{let a=Rk(t,e,n);return!a&&s&&j(n)&&(a=Fl(t,n,i),a===void 0&&(a=Fl(e,n,i))),a},"deepFindWithDefaults"),Tl=r(t=>t.replace(/\$/g,"$$$$"),"regexSafe"),Ll=class{static{r(this,"Interpolator")}constructor(e={}){this.logger=Rt.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});let{escape:n,escapeValue:i,useRawValueToEscape:s,prefix:a,prefixEscaped:l,suffix:c,suffixEscaped:f,formatSeparator:h,unescapeSuffix:p,unescapePrefix:g,nestingPrefix:y,nestingPrefixEscaped:w,nestingSuffix:v,nestingSuffixEscaped:F,nestingOptionsSeparator:S,maxReplaces:A,alwaysFormat:P}=e.interpolation;this.escape=n!==void 0?n:Bk,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=a?lr(a):l||"{{",this.suffix=c?lr(c):f||"}}",this.formatSeparator=h||",",this.unescapePrefix=p?"":g||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=y?lr(y):w||lr("$t("),this.nestingSuffix=v?lr(v):F||lr(")"),this.nestingOptionsSeparator=S||",",this.maxReplaces=A||1e3,this.alwaysFormat=P!==void 0?P:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=r((n,i)=>n?.source===i?(n.lastIndex=0,n):new RegExp(i,"g"),"getOrResetRegExp");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,i,s){let a,l,c,f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=r(w=>{if(w.indexOf(this.formatSeparator)<0){let A=Qd(n,f,w,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(A,void 0,i,{...s,...n,interpolationkey:w}):A}let v=w.split(this.formatSeparator),F=v.shift().trim(),S=v.join(this.formatSeparator).trim();return this.format(Qd(n,f,F,this.options.keySeparator,this.options.ignoreJSONStructure),S,i,{...s,...n,interpolationkey:F})},"handleFormat");this.resetRegExp();let p=s?.missingInterpolationHandler||this.options.missingInterpolationHandler,g=s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:r(w=>Tl(w),"safeValue")},{regex:this.regexp,safeValue:r(w=>this.escapeValue?Tl(this.escape(w)):Tl(w),"safeValue")}].forEach(w=>{for(c=0;a=w.regex.exec(e);){let v=a[1].trim();if(l=h(v),l===void 0)if(typeof p=="function"){let S=p(e,a,s);l=j(S)?S:""}else if(s&&Object.prototype.hasOwnProperty.call(s,v))l="";else if(g){l=a[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${e}`),l="";else!j(l)&&!this.useRawValueToEscape&&(l=Hd(l));let F=w.safeValue(l);if(e=e.replace(a[0],F),g?(w.regex.lastIndex+=l.length,w.regex.lastIndex-=a[0].length):w.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),e}nest(e,n,i={}){let s,a,l,c=r((f,h)=>{let p=this.nestingOptionsSeparator;if(f.indexOf(p)<0)return f;let g=f.split(new RegExp(`${p}[ ]*{`)),y=`{${g[1]}`;f=g[0],y=this.interpolate(y,l);let w=y.match(/'/g),v=y.match(/"/g);((w?.length??0)%2===0&&!v||v.length%2!==0)&&(y=y.replace(/'/g,'"'));try{l=JSON.parse(y),h&&(l={...h,...l})}catch(F){return this.logger.warn(`failed parsing options string in nesting for key ${f}`,F),`${f}${p}${y}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,f},"handleHasOptions");for(;s=this.nestingRegexp.exec(e);){let f=[];l={...i},l=l.replace&&!j(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;let h=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(h!==-1&&(f=s[1].slice(h).split(this.formatSeparator).map(p=>p.trim()).filter(Boolean),s[1]=s[1].slice(0,h)),a=n(c.call(this,s[1].trim(),l),l),a&&s[0]===e&&!j(a))return a;j(a)||(a=Hd(a)),a||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),a=""),f.length&&(a=f.reduce((p,g)=>this.format(p,g,i.lng,{...i,interpolationkey:s[1].trim()}),a.trim())),e=e.replace(s[0],a),this.regexp.lastIndex=0}return e}},$k=r(t=>{let e=t.toLowerCase().trim(),n={};if(t.indexOf("(")>-1){let i=t.split("(");e=i[0].toLowerCase().trim();let s=i[1].substring(0,i[1].length-1);e==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(l=>{if(l){let[c,...f]=l.split(":"),h=f.join(":").trim().replace(/^'+|'+$/g,""),p=c.trim();n[p]||(n[p]=h),h==="false"&&(n[p]=!1),h==="true"&&(n[p]=!0),isNaN(h)||(n[p]=parseInt(h,10))}})}return{formatName:e,formatOptions:n}},"parseFormatStr"),Xd=r(t=>{let e={};return(n,i,s)=>{let a=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(a={...a,[s.interpolationkey]:void 0});let l=i+JSON.stringify(a),c=e[l];return c||(c=t(Qr(i),s),e[l]=c),c(n)}},"createCachedFormatter"),Hk=r(t=>(e,n,i)=>t(Qr(n),i)(e),"createNonCachedFormatter"),Il=class{static{r(this,"Formatter")}constructor(e={}){this.logger=Rt.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";let i=n.cacheInBuiltFormats?Xd:Hk;this.formats={number:i((s,a)=>{let l=new Intl.NumberFormat(s,{...a});return c=>l.format(c)}),currency:i((s,a)=>{let l=new Intl.NumberFormat(s,{...a,style:"currency"});return c=>l.format(c)}),datetime:i((s,a)=>{let l=new Intl.DateTimeFormat(s,{...a});return c=>l.format(c)}),relativetime:i((s,a)=>{let l=new Intl.RelativeTimeFormat(s,{...a});return c=>l.format(c,a.range||"day")}),list:i((s,a)=>{let l=new Intl.ListFormat(s,{...a});return c=>l.format(c)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Xd(n)}format(e,n,i,s={}){let a=n.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(c=>c.indexOf(")")>-1)){let c=a.findIndex(f=>f.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,c)].join(this.formatSeparator)}return a.reduce((c,f)=>{let{formatName:h,formatOptions:p}=$k(f);if(this.formats[h]){let g=c;try{let y=s?.formatParams?.[s.interpolationkey]||{},w=y.locale||y.lng||s.locale||s.lng||i;g=this.formats[h](c,w,{...p,...s,...y})}catch(y){this.logger.warn(y)}return g}else this.logger.warn(`there was no format function for ${h}`);return c},e)}},jk=r((t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)},"removePending"),Dl=class extends ur{static{r(this,"Connector")}constructor(e,n,i,s={}){super(),this.backend=e,this.store=n,this.services=i,this.languageUtils=i.languageUtils,this.options=s,this.logger=Rt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(i,s.backend,s)}queueLoad(e,n,i,s){let a={},l={},c={},f={};return e.forEach(h=>{let p=!0;n.forEach(g=>{let y=`${h}|${g}`;!i.reload&&this.store.hasResourceBundle(h,g)?this.state[y]=2:this.state[y]<0||(this.state[y]===1?l[y]===void 0&&(l[y]=!0):(this.state[y]=1,p=!1,l[y]===void 0&&(l[y]=!0),a[y]===void 0&&(a[y]=!0),f[g]===void 0&&(f[g]=!0)))}),p||(c[h]=!0)}),(Object.keys(a).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(a),pending:Object.keys(l),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(f)}}loaded(e,n,i){let s=e.split("|"),a=s[0],l=s[1];n&&this.emit("failedLoading",a,l,n),!n&&i&&this.store.addResourceBundle(a,l,i,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&i&&(this.state[e]=0);let c={};this.queue.forEach(f=>{Dk(f.loaded,[a],l),jk(f,e),n&&f.errors.push(n),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(h=>{c[h]||(c[h]={});let p=f.loaded[h];p.length&&p.forEach(g=>{c[h][g]===void 0&&(c[h][g]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(f=>!f.done)}read(e,n,i,s=0,a=this.retryTimeout,l){if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:i,tried:s,wait:a,callback:l});return}this.readingCalls++;let c=r((h,p)=>{if(this.readingCalls--,this.waitingReads.length>0){let g=this.waitingReads.shift();this.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(h&&p&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,i,s+1,a*2,l)},a);return}l(h,p)},"resolver"),f=this.backend[i].bind(this.backend);if(f.length===2){try{let h=f(e,n);h&&typeof h.then=="function"?h.then(p=>c(null,p)).catch(c):c(null,h)}catch(h){c(h)}return}return f(e,n,c)}prepareLoading(e,n,i={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();j(e)&&(e=this.languageUtils.toResolveHierarchy(e)),j(n)&&(n=[n]);let a=this.queueLoad(e,n,i,s);if(!a.toLoad.length)return a.pending.length||s(),null;a.toLoad.forEach(l=>{this.loadOne(l)})}load(e,n,i){this.prepareLoading(e,n,{},i)}reload(e,n,i){this.prepareLoading(e,n,{reload:!0},i)}loadOne(e,n=""){let i=e.split("|"),s=i[0],a=i[1];this.read(s,a,"read",void 0,void 0,(l,c)=>{l&&this.logger.warn(`${n}loading namespace ${a} for language ${s} failed`,l),!l&&c&&this.logger.log(`${n}loaded namespace ${a} for language ${s}`,c),this.loaded(e,l,c)})}saveMissing(e,n,i,s,a,l={},c=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${i}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend?.create){let f={...l,isUpdate:a},h=this.backend.create.bind(this.backend);if(h.length<6)try{let p;h.length===5?p=h(e,n,i,s,f):p=h(e,n,i,s),p&&typeof p.then=="function"?p.then(g=>c(null,g)).catch(c):c(null,p)}catch(p){c(p)}else h(e,n,i,s,c,f)}!e||!e[0]||this.store.addResource(e[0],n,i,s)}}},eh=r(()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:r(t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),j(t[1])&&(e.defaultValue=t[1]),j(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){let n=t[3]||t[2];Object.keys(n).forEach(i=>{e[i]=n[i]})}return e},"overloadTranslationOptionHandler"),interpolation:{escapeValue:!0,format:r(t=>t,"format"),prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),"get"),th=r(t=>(j(t.ns)&&(t.ns=[t.ns]),j(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),j(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),"transformOptions"),Ss=r(()=>{},"noop"),Gk=r(t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})},"bindMemberFunctions"),_s=class t extends ur{static{r(this,"I18n")}constructor(e={},n){if(super(),this.options=th(e),this.services={},this.logger=Rt,this.modules={external:[]},Gk(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(j(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));let i=eh();this.options={...i,...this.options,...th(e)},this.options.interpolation={...i.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);let s=r(h=>h?typeof h=="function"?new h:h:null,"createClassOnDemand");if(!this.options.isClone){this.modules.logger?Rt.init(s(this.modules.logger),this.options):Rt.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=Il;let p=new Fs(this.options);this.store=new Ts(this.options.resources,this.options);let g=this.services;g.logger=Rt,g.resourceStore=this.store,g.languageUtils=p,g.pluralResolver=new Ml(p,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),h&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(g.formatter=s(h),g.formatter.init&&g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new Ll(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new Dl(s(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",(w,...v)=>{this.emit(w,...v)}),this.modules.languageDetector&&(g.languageDetector=s(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=s(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new Ps(this.services,this.options),this.translator.on("*",(w,...v)=>{this.emit(w,...v)}),this.modules.external.forEach(w=>{w.init&&w.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Ss),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...p)=>this.store[h](...p)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...p)=>(this.store[h](...p),this)});let c=Jr(),f=r(()=>{let h=r((p,g)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(g),n(p,g)},"finish");if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)},"load");return this.options.resources||!this.options.initAsync?f():setTimeout(f,0),c}loadResources(e,n=Ss){let i=n,s=j(e)?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(s?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();let a=[],l=r(c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(h=>{h!=="cimode"&&a.indexOf(h)<0&&a.push(h)})},"append");s?l(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(f=>l(f)),this.options.preload?.forEach?.(c=>l(c)),this.services.backendConnector.load(a,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(c)})}else i(null)}reloadResources(e,n,i){let s=Jr();return typeof e=="function"&&(i=e,e=void 0),typeof n=="function"&&(i=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),i||(i=Ss),this.services.backendConnector.reload(e,n,a=>{s.resolve(),i(a)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&rh.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){let i=this.languages[n];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;let i=Jr();this.emit("languageChanging",e);let s=r(c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},"setLngProps"),a=r((c,f)=>{f?this.isLanguageChangingTo===e&&(s(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,i.resolve((...h)=>this.t(...h)),n&&n(c,(...h)=>this.t(...h))},"done"),l=r(c=>{!e&&!c&&this.services.languageDetector&&(c=[]);let f=j(c)?c:c&&c[0],h=this.store.hasLanguageSomeTranslations(f)?f:this.services.languageUtils.getBestMatchFromCodes(j(c)?[c]:c);h&&(this.language||s(h),this.translator.language||this.translator.changeLanguage(h),this.services.languageDetector?.cacheUserLanguage?.(h)),this.loadResources(h,p=>{a(p,h)})},"setLng");return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),i}getFixedT(e,n,i){let s=r((a,l,...c)=>{let f;typeof l!="object"?f=this.options.overloadTranslationOptionHandler([a,l].concat(c)):f={...l},f.lng=f.lng||s.lng,f.lngs=f.lngs||s.lngs,f.ns=f.ns||s.ns,f.keyPrefix!==""&&(f.keyPrefix=f.keyPrefix||i||s.keyPrefix);let h=this.options.keySeparator||".",p;return f.keyPrefix&&Array.isArray(a)?p=a.map(g=>(typeof g=="function"&&(g=Ol(g,{...this.options,...l})),`${f.keyPrefix}${h}${g}`)):(typeof a=="function"&&(a=Ol(a,{...this.options,...l})),p=f.keyPrefix?`${f.keyPrefix}${h}${a}`:a),this.t(p,f)},"fixedT");return j(e)?s.lng=e:s.lngs=e,s.ns=n,s.keyPrefix=i,s}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let i=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;let l=r((c,f)=>{let h=this.services.backendConnector.state[`${c}|${f}`];return h===-1||h===0||h===2},"loadNotPending");if(n.precheck){let c=n.precheck(this,l);if(c!==void 0)return c}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(i,e)&&(!s||l(a,e)))}loadNamespaces(e,n){let i=Jr();return this.options.ns?(j(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{i.resolve(),n&&n(s)}),i):(n&&n(),Promise.resolve())}loadLanguages(e,n){let i=Jr();j(e)&&(e=[e]);let s=this.options.preload||[],a=e.filter(l=>s.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return a.length?(this.options.preload=s.concat(a),this.loadResources(l=>{i.resolve(),n&&n(l)}),i):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{let s=new Intl.Locale(e);if(s&&s.getTextInfo){let a=s.getTextInfo();if(a&&a.direction)return a.direction}}catch{}let n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services?.languageUtils||new Fs(eh());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new t(e,n)}cloneInstance(e={},n=Ss){let i=e.forkResourceStore;i&&delete e.forkResourceStore;let s={...this.options,...e,isClone:!0},a=new t(s);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(c=>{a[c]=this[c]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},i){let c=Object.keys(this.store.data).reduce((f,h)=>(f[h]={...this.store.data[h]},f[h]=Object.keys(f[h]).reduce((p,g)=>(p[g]={...f[h][g]},p),f[h]),f),{});a.store=new Ts(c,s),a.services.resourceStore=a.store}return a.translator=new Ps(a.services,s),a.translator.on("*",(c,...f)=>{a.emit(c,...f)}),a.init(s,n),a.translator.options=s,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}},_e=_s.createInstance();_e.createInstance=_s.createInstance;var R_=_e.createInstance,N_=_e.dir,sh=_e.init,B_=_e.loadResources,V_=_e.reloadResources,W_=_e.use,Y_=_e.changeLanguage,z_=_e.getFixedT,oh=_e.t,U_=_e.exists,$_=_e.setDefaultNamespace,H_=_e.hasLoadedNamespace,j_=_e.loadNamespaces,G_=_e.loadLanguages;var lh=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Os={obsidianDevUtils:{buttons:{cancel:"Cancel",ok:"OK"},dataview:{itemsPerPage:"Items per page:",jumpToPage:"Jump to page:"},notices:{attachmentIsStillUsed:"Attachment {{attachmentPath}} is still used by other notes. It will not be deleted.",unhandledError:"An unhandled error occurred. Please check the console for more information."}}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Rl="en",Kk={en:Os},Ms=Kk;r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ah="translation",Nl=!1;async function Bl(t,e=!0){Nl||(Nl=!0,await sh({fallbackLng:Rl,initAsync:e,lng:(0,lh.getLanguage)(),resources:Object.fromEntries(Object.entries(t).map(([n,i])=>[n,{[ah]:i}])),returnEmptyString:!1,returnNull:!1}),_e.addResourceBundle(Rl,ah,Os,!0,!1))}r(Bl,"initI18N");function qk(t,e){return Nl||(console.warn("I18N was not initialized, initializing default obsidian-dev-utils translations"),Le(()=>Bl(Ms,!1))),oh(t,e)}r(qk,"tImpl");var On=qk;r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Jk(t){let e=new Set;return t.workspace.iterateAllLeaves(n=>{e.add(n.getContainer())}),Array.from(e)}r(Jk,"getAllContainers");function uh(t){return Jk(t).map(e=>e.win)}r(uh,"getAllDomWindows");var hh=lt(fh(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Y=(t=>(t.AlertModal="alert-modal",t.CancelButton="cancel-button",t.CheckboxComponent="checkbox-component",t.CodeHighlighterComponent="code-highlighter-component",t.ConfirmModal="confirm-modal",t.DateComponent="date-component",t.DateTimeComponent="datetime-component",t.EmailComponent="email-component",t.FileComponent="file-component",t.IsPlaceholder="is-placeholder",t.LibraryName="obsidian-dev-utils",t.MonthComponent="month-component",t.MultipleDropdownComponent="multiple-dropdown-component",t.MultipleEmailComponent="multiple-email-component",t.MultipleFileComponent="multiple-file-component",t.MultipleTextComponent="multiple-text-component",t.NumberComponent="number-component",t.OkButton="ok-button",t.OverlayValidator="overlay-validator",t.PasswordComponent="password-component",t.PluginSettingsTab="plugin-settings-tab",t.PromptModal="prompt-modal",t.SelectItemModal="select-item-modal",t.SettingComponentWrapper="setting-component-wrapper",t.TelephoneComponent="telephone-component",t.TextBox="text-box",t.TimeComponent="time-component",t.Tooltip="tooltip",t.TooltipArrow="tooltip-arrow",t.TooltipValidator="tooltip-validator",t.TriStateCheckboxComponent="tri-state-checkbox-component",t.TypedDropdownComponent="typed-dropdown-component",t.TypedMultipleDropdownComponent="typed-multiple-dropdown-component",t.UrlComponent="url-component",t.WeekComponent="week-component",t))(Y||{});r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var dh=`${Oi}-styles`;function le(t,...e){t.addClass(Y.LibraryName,Mi(),...e)}r(le,"addPluginCssClasses");function ph(t){let e=t;e.DEBUG=yc()}r(ph,"initDebugController");function mh(t,e){mc(e),wc(e);let n=tt(t,"lastLibraryVersion","0.0.0");(0,hh.compareVersions)(la,n.value)<=0||(n.value=la,document.head.querySelector(`#${dh}`)?.remove(),document.head.createEl("style",{attr:{id:dh},text:hc}))}r(mh,"initPluginContext");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Is=class extends Ds.Plugin{static{r(this,"PluginBase")}events=new Pt;get abortSignal(){if(!this._abortSignal)throw new Error("Abort signal not defined");return this._abortSignal}get settings(){return this.settingsManager.settingsWrapper.safeSettings}get settingsManager(){if(!this._settingsManager)throw new Error("Settings manager not defined");return this._settingsManager}get settingsTab(){if(!this._settingsTab)throw new Error("Settings tab not defined");return this._settingsTab}_abortSignal;_settingsManager=null;_settingsTab=null;lifecycleEventNames=new Set;notice;consoleDebug(e,...n){Ii(this.manifest.id,1)(e,...n)}async onExternalSettingsChange(){await super.onExternalSettingsChange?.(),await this._settingsManager?.loadFromFile(!1)}async onload(){await super.onload(),await this.onloadImpl(),xc(this.afterLoad.bind(this))}onunload(){super.onunload(),Le(async()=>{try{await this.onunloadImpl()}finally{await this.triggerLifecycleEvent("unload")}})}registerDomWindowHandler(e){let n=window;e(n),this.app.workspace.onLayoutReady(()=>{for(let i of uh(this.app))i!==n&&e(i);this.registerEvent(this.app.workspace.on("window-open",i=>{e(i.win)}))})}registerForLifecycleEvent(e,n){Le(async()=>{await this.waitForLifecycleEvent(e),await n()})}registerPopupDocumentDomEvent(e,n,i){this.registerDomWindowHandler(s=>{this.registerDomEvent(s.document,e,n,i)})}registerPopupWindowDomEvent(e,n,i){this.registerDomWindowHandler(s=>{this.registerDomEvent(s,e,n,i)})}async waitForLifecycleEvent(e){this.lifecycleEventNames.has(e)||await new Promise(n=>{this.events.once(e,()=>{n()})})}createSettingsManager(){return null}createSettingsTab(){return null}createTranslationsMap(){return Ms}handleAsyncError(e){this.showNotice(On(n=>n.obsidianDevUtils.notices.unhandledError))}async onLayoutReady(){await ut()}async onloadImpl(){mh(this.app,this.manifest.id),this.registerDomWindowHandler(n=>{ph(n)}),await Bl(this.createTranslationsMap()),this.register(dc(this.handleAsyncError.bind(this))),this._settingsManager=this.createSettingsManager(),this._settingsManager&&(As(this,this._settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),As(this,this._settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))),await this._settingsManager?.loadFromFile(!0),this._settingsTab=this.createSettingsTab(),this._settingsTab&&this.addSettingTab(this._settingsTab);let e=new AbortController;this._abortSignal=e.signal,this.register(()=>{e.abort(new Ft(`Plugin ${this.manifest.id} had been unloaded`))})}async onLoadSettings(e,n){await ut()}async onSaveSettings(e,n,i){await ut()}async onunloadImpl(){await ut()}showNotice(e){this.notice&&this.notice.hide(),this.notice=new Ds.Notice(`${this.manifest.name}
${e}`)}async afterLoad(){this.abortSignal.aborted||(await this.triggerLifecycleEvent("load"),this.app.workspace.onLayoutReady(rn(this.onLayoutReadyBase.bind(this))))}async onLayoutReadyBase(){try{await this.onLayoutReady()}finally{await this.triggerLifecycleEvent("layoutReady")}}async triggerLifecycleEvent(e){this.lifecycleEventNames.add(e),await this.events.triggerAsync(e)}};var Ah=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var cn=(t=>(t.DeleteNote="DeleteNote",t.RenameNote="RenameNote",t.Unknown="Unknown",t))(cn||{}),yh="__DUMMY__";async function Vl(t){let{app:e,notePathOrFile:n,oldAttachmentPathOrFile:i,shouldSkipDuplicateCheck:s}=t,a=we(e,i),l=At(a),c=Ke(a,l),f=Je(e,a),h=e.vault.getAvailablePathForAttachments.extended;return h?h({attachmentFileBaseName:c,attachmentFileContent:f?await e.vault.readBinary(f):void 0,attachmentFileExtension:l.slice(1),attachmentFileStat:f?.stat,context:t.context,notePathOrFile:n,oldAttachmentPathOrFile:t.oldAttachmentPathOrFile,oldNotePathOrFile:t.oldNotePathOrFile,shouldSkipDuplicateCheck:s,shouldSkipMissingAttachmentFolderCreation:!0}):await Zk({app:e,attachmentFileBaseName:c,attachmentFileExtension:l.slice(1),notePathOrFile:n,shouldSkipDuplicateCheck:s,shouldSkipMissingAttachmentFolderCreation:!0})}r(Vl,"getAttachmentFilePath");async function cr(t,e,n="Unknown"){return Ot(await Vl({app:t,context:n,notePathOrFile:e,oldAttachmentPathOrFile:yh,shouldSkipDuplicateCheck:!0}))}r(cr,"getAttachmentFolderPath");async function Zk(t){let{app:e,attachmentFileExtension:n,notePathOrFile:i,shouldSkipDuplicateCheck:s,shouldSkipMissingAttachmentFolderCreation:a}=t,l=e.vault.getConfig("attachmentFolderPath"),c=l==="."||l==="./",f=l.startsWith("./")?Lc(l,"./"):null,h=Je(e,i);c?l=h?h.parent?.path??"":"":f&&(l=(h?h.parent?.getParentPrefix()??"":"")+f),l=Ir(gh(l));let p=Ir(gh(t.attachmentFileBaseName)),g=St(e,l,!0);!g&&f&&(g=a?xn(e,l,!0):await e.vault.createFolder(l));let y=g?.getParentPrefix()??"";return s?Ic(y+p,n):e.vault.getAvailablePath(y+p,n)}r(Zk,"getAvailablePathForAttachments");async function Wl(t,e,n="Unknown"){let i=await cr(t,e,n),s=await cr(t,qe(Pe(e),`${yh}.${sn}`),n);return i!==s}r(Wl,"hasOwnAttachmentFolder");function gh(t){return t=Ge(t,/(?:[\\/])+/g,"/"),t=Ge(t,/^\/+|\/+$/g,""),t||"/"}r(gh,"normalizeSlashes");function wh(t,e){let n=Object.keys(e).map(i=>Qk(t,i,e[i]));return n.length===1?n[0]:function(){n.forEach(i=>i())}}r(wh,"around");function Qk(t,e,n){let i=t[e],s=t.hasOwnProperty(e),a=s?i:function(){return Object.getPrototypeOf(t)[e].apply(this,arguments)},l=n(a);return i&&Object.setPrototypeOf(l,i),Object.setPrototypeOf(c,l),t[e]=c,f;function c(...h){return l===a&&t[e]===c&&f(),l.apply(this,h)}r(c,"wrapper");function f(){t[e]===c&&(s?t[e]=a:delete t[e]),l!==a&&(l=a,Object.setPrototypeOf(c,i||Function))}r(f,"remove")}r(Qk,"around1");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Xk(t,e){return wh(t,e)}r(Xk,"around");function Rs(t,e,n){let i=Xk(e,n),s=!1;function a(){if(!s)try{i()}finally{s=!0}}return r(a,"uninstallerWrapper"),t.register(a),i}r(Rs,"registerPatch");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function bh(t,e,n,i){n.throwIfAborted();let s=de("Logger:invokeAsyncAndLog"),a=performance.now();i??=Ye(1),_t(s,i,`${t}:start`,{fn:e,timestampStart:a});try{await e(n);let l=performance.now(),c=l-a;n.aborted&&(_t(s,i,`${t}:aborted`,{abortReason:n.reason,duration:c,fn:e,timestampEnd:l,timestampStart:a}),n.throwIfAborted()),_t(s,i,`${t}:end`,{duration:c,fn:e,timestampEnd:l,timestampStart:a})}catch(l){let c=performance.now();throw _t(s,i,`${t}:error`,{duration:c-a,error:l,fn:e,timestampEnd:c,timestampStart:a}),l}}r(bh,"invokeAsyncAndLog");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Xr(t,e,n,i,s){s??=Ye(1),Le(()=>ex(t,e,n,i,s),s)}r(Xr,"addToQueue");async function ex(t,e,n,i,s){n??=We(),n.throwIfAborted(),i??=6e4,s??=Ye(1);let l=kh(t).value;l.items.push({abortSignal:n,fn:e,stackTrace:s,timeoutInMilliseconds:i}),l.promise=l.promise.then(()=>xh(t)),await l.promise}r(ex,"addToQueueAndWait");function kh(t){return tt(t,"queue",{items:[],promise:Promise.resolve()})}r(kh,"getQueue");async function xh(t){let e=kh(t).value,n=e.items[0];n&&(await da(()=>ha(n.timeoutInMilliseconds,i=>bh(xh.name,n.fn,wn(i,n.abortSignal),n.stackTrace),{queuedFn:n.fn}),n.stackTrace),e.items.shift())}r(xh,"processNextQueueItem");var Ch=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Yl(t,e){let n=St(t,e);n&&await hs(t,n)&&await ei(t,n)}r(Yl,"deleteEmptyFolder");async function vh(t,e){let n=St(t,e);for(;n;){if(!await hs(t,n))return;let i=n.parent;await Yl(t,n),n=i}}r(vh,"deleteEmptyFolderHierarchy");async function ei(t,e,n,i,s){let a=Dr(t,e);if(!a)return!1;let l=dt(a)||(s??!0);if(dt(a)){let c=await _n(t,a);n&&c.clear(n),c.count()!==0&&(i&&new Ch.Notice(On(f=>f.obsidianDevUtils.notices.attachmentIsStillUsed,{attachmentPath:a.path})),l=!1)}else if(ba(a)){let c=await wl(t,a);for(let f of[...c.files,...c.folders])l&&=await ei(t,f,n,i);l&&=await hs(t,a)}if(l)try{await t.fileManager.trashFile(a)}catch(c){await t.vault.exists(a.path)&&(kn(new Error(`Failed to delete ${a.path}`,{cause:c})),l=!1)}return l}r(ei,"deleteSafe");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var zl=class{static{r(this,"DeleteHandler")}constructor(e,n,i,s,a){this.app=e,this.file=n,this.abortSignal=i,this.settingsManager=s,this.deletedMetadataCacheMap=a}async handle(){if(this.abortSignal.throwIfAborted(),de("RenameDeleteHandler:handleDelete")(`Handle Delete ${this.file.path}`),!this.settingsManager.isNoteEx(this.file.path))return;let e=this.settingsManager.getSettings();if(!e.shouldHandleDeletions)return;if(e.isPathIgnored?.(this.file.path)){de("RenameDeleteHandler:handleDelete")(`Skipping delete handler of ${this.file.path} as the path is ignored.`);return}let n=this.deletedMetadataCacheMap.get(this.file.path);this.deletedMetadataCacheMap.delete(this.file.path);let i=new Set;if(n){let l=Zt(n);for(let c of l){let f=Kr(this.app,c,this.file.path);f&&(this.settingsManager.isNoteEx(f.path)||(i.add(f.parent?.path??""),await ei(this.app,f,this.file.path,!1,e.emptyAttachmentFolderBehavior!=="Keep")))}}await Eh(this.app,this.settingsManager.getSettings(),Array.from(i)),this.abortSignal.throwIfAborted();let s=await cr(this.app,this.file.path,cn.DeleteNote),a=St(this.app,s);a&&await Wl(this.app,this.file.path,cn.DeleteNote)&&(this.abortSignal.throwIfAborted(),await ei(this.app,a,this.file.path,!1,e.emptyAttachmentFolderBehavior!=="Keep"),this.abortSignal.throwIfAborted())}},Ul=class{static{r(this,"HandledRenames")}map=new Map;add(e,n){this.map.set(this.keyToString(e,n),{newPath:n,oldPath:e})}delete(e,n){this.map.delete(this.keyToString(e,n))}has(e,n){return this.map.has(this.keyToString(e,n))}keys(){return this.map.values()}keyToString(e,n){return`${e} -> ${n}`}},$l=class{static{r(this,"MetadataDeletedHandler")}constructor(e,n,i,s,a){this.app=e,this.file=n,this.prevCache=i,this.settingsManager=s,this.deletedMetadataCacheMap=a}handle(){let e=this.settingsManager.getSettings();if(e.shouldHandleDeletions){if(e.isPathIgnored?.(this.file.path)){de("RenameDeleteHandler:handleMetadataDeleted")(`Skipping metadata delete handler of ${this.file.path} as the path is ignored.`);return}ze(this.app,this.file)&&this.prevCache&&this.deletedMetadataCacheMap.set(this.file.path,this.prevCache)}}},Hl=class{static{r(this,"Registry")}constructor(e,n,i){this.plugin=e,this.settingsBuilder=n,this.settingsManager=i,this.app=e.app,this.pluginId=e.manifest.id,this.abortSignal=e.abortSignal??We()}abortSignal;app;deletedMetadataCacheMap=new Map;handledRenames=new Ul;interruptedRenamesMap=new Map;pluginId;register(){let e=this.settingsManager.renameDeleteHandlersMap;e.set(this.pluginId,this.settingsBuilder),this.logRegisteredHandlers(),this.plugin.register(()=>{e.delete(this.pluginId),this.logRegisteredHandlers()}),this.plugin.registerEvent(this.app.vault.on("delete",this.handleDelete.bind(this))),this.plugin.registerEvent(this.app.vault.on("rename",this.handleRename.bind(this))),this.plugin.registerEvent(this.app.metadataCache.on("deleted",this.handleMetadataDeleted.bind(this))),Rs(this.plugin,this.app.fileManager,{runAsyncLinkUpdate:r(n=>Object.assign(i=>this.runAsyncLinkUpdate(n,i),{renameDeleteHandlerPatched:!0}),"runAsyncLinkUpdate")})}handleDelete(e){this.shouldInvokeHandler()&&Xr(this.app,n=>new zl(this.app,e,n,this.settingsManager,this.deletedMetadataCacheMap).handle(),this.abortSignal)}handleMetadataDeleted(e,n){this.shouldInvokeHandler()&&new $l(this.app,e,n,this.settingsManager,this.deletedMetadataCacheMap).handle()}handleRename(e,n){if(!this.shouldInvokeHandler()||!dt(e))return;let i=e.path;if(de("RenameDeleteHandler:handleRename")(`Handle Rename ${n} -> ${i}`),this.handledRenames.has(n,i)){this.handledRenames.delete(n,i);return}let s=this.settingsManager.getSettings();if(!s.shouldHandleRenames)return;if(s.isPathIgnored?.(n)){de("RenameDeleteHandler:handleRename")(`Skipping rename handler of old path ${n} as the path is ignored.`);return}if(s.isPathIgnored?.(i)){de("RenameDeleteHandler:handleRename")(`Skipping rename handler of new path ${i} as the path is ignored.`);return}let a=this.app.metadataCache.getCache(n)??this.app.metadataCache.getCache(i),l=kl(this.app,n).data;Xr(this.app,c=>new jl({abortSignal:c,app:this.app,handledRenames:this.handledRenames,interruptedRenamesMap:this.interruptedRenamesMap,newPath:i,oldCache:a,oldPath:n,oldPathBacklinksMap:l,settingsManager:this.settingsManager}).handle(),this.abortSignal)}logRegisteredHandlers(){let e=this.settingsManager.renameDeleteHandlersMap;de("RenameDeleteHandler:logRegisteredHandlers")(`Plugins with registered rename/delete handlers: ${JSON.stringify(Array.from(e.keys()))}`)}async runAsyncLinkUpdate(e,n){if(e.renameDeleteHandlerPatched){await e.call(this.app.fileManager,n);return}await e.call(this.app.fileManager,i=>this.wrapLinkUpdatesHandler(i,n))}shouldInvokeHandler(){let e=this.plugin.manifest.id,n=this.settingsManager.renameDeleteHandlersMap;return Array.from(n.keys())[0]===e}async wrapLinkUpdatesHandler(e,n){let i=!1,s=this.app.vault.on("rename",()=>{i=!0});try{await n(e)}finally{this.app.vault.offref(s)}let a=this.settingsManager.getSettings();!i||!a.shouldHandleRenames||Fr(e,l=>a.isPathIgnored?.(l.sourceFile.path)?(de("RenameDeleteHandler:runAsyncLinkUpdate")(`Roll back to default link update of source file ${l.sourceFile.path} as the path is ignored.`),!0):a.isPathIgnored?.(l.resolvedFile.path)?(de("RenameDeleteHandler:runAsyncLinkUpdate")(`Roll back to default link update of resolved file ${l.resolvedFile.path} as the path is ignored.`),!0):!this.app.internalPlugins.getEnabledPluginById(ft.Canvas)||this.app.plugins.getPlugin("backlink-cache")?!1:l.sourceFile.extension===Bi||l.resolvedFile.extension===Bi)}},jl=class t{static{r(this,"RenameHandler")}abortSignal;app;handledRenames;interruptedCombinedBacklinksMap;interruptedRenamesMap;newPath;oldCache;oldPath;oldPathBacklinksMap;oldPathLinks;settingsManager;constructor(e){this.app=e.app,this.oldPath=e.oldPath,this.newPath=e.newPath,this.oldPathBacklinksMap=e.oldPathBacklinksMap,this.oldCache=e.oldCache,this.abortSignal=e.abortSignal,this.settingsManager=e.settingsManager,this.interruptedRenamesMap=e.interruptedRenamesMap,this.oldPathLinks=this.oldCache?Zt(this.oldCache):[],this.handledRenames=e.handledRenames,this.interruptedCombinedBacklinksMap=e.interruptedCombinedBacklinksMap??new Map}async handle(){if(this.abortSignal.throwIfAborted(),await this.continueInterruptedRenames(),this.abortSignal.throwIfAborted(),await this.refreshLinks(),this.abortSignal.throwIfAborted(),!await this.handleCaseCollision()){this.abortSignal.throwIfAborted();try{let e=new Gl({abortSignal:this.abortSignal,app:this.app,newPath:this.newPath,oldCache:this.oldCache,oldPath:this.oldPath,settingsManager:this.settingsManager});await e.fill(),this.abortSignal.throwIfAborted();let n=new Map;e.initOriginalLinksMap(n),e.initBacklinksMap(this.oldPathBacklinksMap,n,this.oldPath);for(let a of e.keys()){if(a===this.oldPath)continue;let l=(await _n(this.app,a)).data;this.abortSignal.throwIfAborted(),e.initBacklinksMap(l,n,a)}let i=new Set;for(let[a,l]of e.entries()){if(a!==this.oldPath){let c=await this.renameHandled(a,l);this.abortSignal.throwIfAborted(),e.set(a,c)}this.settingsManager.isNoteEx(a)||i.add(Pe(a))}await Eh(this.app,this.settingsManager.getSettings(),Array.from(i)),this.abortSignal.throwIfAborted();let s=this.settingsManager.getSettings();for(let[a,l]of Array.from(n.entries()).concat(Array.from(this.interruptedCombinedBacklinksMap.entries())))await vl(this.app,a,c=>{let f=l.get(ls(c));if(!f)return;let h=e.get(f);if(h)return Sl({app:this.app,link:c,newSourcePathOrFile:a,newTargetPathOrFile:h,oldTargetPathOrFile:f,shouldUpdateFileNameAlias:s.shouldUpdateFileNameAliases})},{shouldFailOnMissingFile:!1}),this.abortSignal.throwIfAborted();if(this.settingsManager.isNoteEx(this.newPath)&&(await Cs({app:this.app,newSourcePathOrFile:this.newPath,oldSourcePathOrFile:this.oldPath,shouldFailOnMissingFile:!1,shouldUpdateFileNameAlias:s.shouldUpdateFileNameAliases}),this.abortSignal.throwIfAborted()),!Je(this.app,this.newPath)){let a=this.interruptedRenamesMap.get(this.newPath);a||(a=[],this.interruptedRenamesMap.set(this.newPath,a)),a.push({combinedBacklinksMap:n,oldPath:this.oldPath})}}finally{let e=Array.from(this.handledRenames.keys());Xr(this.app,()=>{for(let n of e)this.handledRenames.delete(n.oldPath,n.newPath)},this.abortSignal)}}}async continueInterruptedRenames(){let e=this.interruptedRenamesMap.get(this.oldPath);if(e){this.interruptedRenamesMap.delete(this.oldPath);for(let n of e)await new t({abortSignal:this.abortSignal,app:this.app,handledRenames:this.handledRenames,interruptedCombinedBacklinksMap:n.combinedBacklinksMap,interruptedRenamesMap:this.interruptedRenamesMap,newPath:this.newPath,oldCache:this.oldCache,oldPath:n.oldPath,oldPathBacklinksMap:this.oldPathBacklinksMap,settingsManager:this.settingsManager}).handle()}}async handleCaseCollision(){if(!this.app.vault.adapter.insensitive||this.oldPath.toLowerCase()!==this.newPath.toLowerCase())return!1;let e=qe(Pe(this.newPath),`__temp__${Ke(this.newPath)}`);return await this.renameHandled(this.newPath,e),await new t({abortSignal:this.abortSignal,app:this.app,handledRenames:this.handledRenames,interruptedRenamesMap:this.interruptedRenamesMap,newPath:e,oldCache:this.oldCache,oldPath:this.oldPath,oldPathBacklinksMap:this.oldPathBacklinksMap,settingsManager:this.settingsManager}).handle(),await this.app.vault.rename(Ce(this.app,e),this.newPath),!0}async refreshLinks(){let e=this.app.metadataCache.getCache(this.oldPath)??this.app.metadataCache.getCache(this.newPath),n=e?Zt(e):[],i=Ce(this.app,this.oldPath,!0),s=new Map;await Gr(this.app,[i],async()=>{s=(await _n(this.app,i)).data});for(let a of n)this.oldPathLinks.includes(a)||this.oldPathLinks.push(a);for(let[a,l]of s.entries()){let c=this.oldPathBacklinksMap.get(a);c||(c=[],this.oldPathBacklinksMap.set(a,c));for(let f of l)c.includes(f)||c.push(f)}}async renameHandled(e,n){return n=yl(this.app,e,n),e===n||(this.handledRenames.add(e,n),n=await Sd(this.app,e,n)),n}},Gl=class{static{r(this,"RenameMap")}abortSignal;app;map=new Map;newPath;oldCache;oldPath;oldPathLinks;settingsManager;constructor(e){this.abortSignal=e.abortSignal,this.app=e.app,this.settingsManager=e.settingsManager,this.oldCache=e.oldCache,this.oldPath=e.oldPath,this.newPath=e.newPath,this.oldPathLinks=this.oldCache?Zt(this.oldCache):[]}entries(){return this.map.entries()}async fill(){if(this.abortSignal.throwIfAborted(),this.map.set(this.oldPath,this.newPath),!this.settingsManager.isNoteEx(this.oldPath))return;let e=this.settingsManager.getSettings(),n=Ce(this.app,this.oldPath,!0),i="";await _d(this.app,[n],async()=>{let f=this.oldCache&&n.deleted;f&&Pd(this.app,n,this.oldCache);try{i=await cr(this.app,this.oldPath,cn.RenameNote)}finally{f&&Od(this.app,n)}});let s=e.shouldRenameAttachmentFolder?await cr(this.app,this.newPath,cn.RenameNote):i,a=i==="/",l=St(this.app,i);if(!l||i===s&&!e.shouldRenameAttachmentFiles)return;let c=[];if(await Wl(this.app,this.oldPath,cn.RenameNote))Ah.Vault.recurseChildren(l,f=>{this.abortSignal.throwIfAborted(),dt(f)&&c.push(f)});else for(let f of this.oldPathLinks){this.abortSignal.throwIfAborted();let h=Kr(this.app,f,this.oldPath);if(h&&(a||h.path.startsWith(i))){let p=await _n(this.app,h);this.abortSignal.throwIfAborted();let g=new Set(p.keys());g.add(this.oldPath),g.size===1&&c.push(h)}}for(let f of c){if(this.abortSignal.throwIfAborted(),this.settingsManager.isNoteEx(f.path))continue;let h;if(e.shouldRenameAttachmentFiles)h=await Vl({app:this.app,context:cn.RenameNote,notePathOrFile:this.newPath,oldAttachmentPathOrFile:f,oldNotePathOrFile:this.oldPath,shouldSkipDuplicateCheck:!0}),this.abortSignal.throwIfAborted();else{let p=a?f.path:Gn(i,f.path),g=qe(s,Pe(p));h=qe(g,f.name)}if(f.path!==h){if(e.shouldDeleteConflictingAttachments){let p=Je(this.app,h);p&&(de("RenameDeleteHandler:fillRenameMap")(`Removing conflicting attachment ${p.path}.`),await this.app.fileManager.trashFile(p),this.abortSignal.throwIfAborted())}else{let p=Pe(h),g=At(h),y=Ke(h,g);h=this.app.vault.getAvailablePath(qe(p,y),g.slice(1))}this.map.set(f.path,h)}}}get(e){return this.map.get(e)}initBacklinksMap(e,n,i){for(let[s,a]of e.entries()){let l=this.map.get(s)??s,c=n.get(l)??new Map;n.set(l,c);for(let f of a)c.set(ls(f),i)}}initOriginalLinksMap(e){for(let n of this.oldPathLinks){let i=Kr(this.app,n,this.oldPath);if(!i)continue;let s=new Map;s.set(this.newPath,[n]),this.initBacklinksMap(s,e,i.path)}}keys(){return this.map.keys()}set(e,n){this.map.set(e,n)}},Kl=class{static{r(this,"SettingsManager")}constructor(e){this.app=e,this.renameDeleteHandlersMap=tt(e,"renameDeleteHandlersMap",new Map).value}renameDeleteHandlersMap;getSettings(){let e=Array.from(this.renameDeleteHandlersMap.values()).reverse(),n={};n.isNote=i=>ka(this.app,i),n.isPathIgnored=()=>!1;for(let i of e){let s=i();n.shouldDeleteConflictingAttachments||=s.shouldDeleteConflictingAttachments??!1,s.emptyAttachmentFolderBehavior&&(n.emptyAttachmentFolderBehavior??=s.emptyAttachmentFolderBehavior),n.shouldHandleDeletions||=s.shouldHandleDeletions??!1,n.shouldHandleRenames||=s.shouldHandleRenames??!1,n.shouldRenameAttachmentFiles||=s.shouldRenameAttachmentFiles??!1,n.shouldRenameAttachmentFolder||=s.shouldRenameAttachmentFolder??!1,n.shouldUpdateFileNameAliases||=s.shouldUpdateFileNameAliases??!1;let a=n.isPathIgnored;n.isPathIgnored=c=>a(c)||(s.isPathIgnored?.(c)??!1);let l=n.isNote;n.isNote=c=>l(c)&&(s.isNote?.(c)??!0)}return n.emptyAttachmentFolderBehavior??="Keep",n}isNoteEx(e){return this.getSettings().isNote?.(e)??!1}};function Sh(t,e){new Hl(t,e,new Kl(t.app)).register()}r(Sh,"registerRenameDeleteHandlers");async function Eh(t,e,n){if(e.emptyAttachmentFolderBehavior!=="Keep")for(let i of n)switch(e.emptyAttachmentFolderBehavior){case"Delete":await Yl(t,i);break;case"DeleteWithEmptyParents":await vh(t,i);break;default:break}}r(Eh,"cleanupParentFolders");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ns=class{static{r(this,"CommandBase")}icon;id;name;app;originalId;originalName;plugin;constructor(e){this.id=e.id,this.name=e.name,this.icon=e.icon,this.plugin=e.plugin,this.app=this.plugin.app,this.originalId=this.id,this.originalName=this.name}register(){this.plugin.addCommand(this)}},fr=class{static{r(this,"CommandInvocationBase")}constructor(e){this.plugin=e,this.app=e.app}app;lastCanExecuteResult;invoke(e){return this.lastCanExecuteResult=this.canExecute(),!e&&this.lastCanExecuteResult&&Le(()=>this.execute()),this.lastCanExecuteResult}canExecute(){return!0}async execute(){if(this.lastCanExecuteResult===void 0)throw new Error("canExecute() must be called before execute()");if(!this.lastCanExecuteResult)throw new Error("canExecute() must return true before execute()");await Promise.resolve()}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var dr=class extends Ns{static{r(this,"NonEditorCommandBase")}checkCallback(e){return this.createCommandInvocation().invoke(e)}};var Th=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Ph(t){let n={...{abortSignal:We(),buildNoticeMessage(){throw new Error("buildNoticeMessage is required")},items:[],noticeMinTimeoutInMilliseconds:2e3,processItem:et,progressBarTitle:"",shouldContinueOnError:!0,shouldShowProgressBar:!0,uiUpdateThresholdInMilliseconds:100},...t},i=Ye(1),s=n.items,a=0,l=null;n.shouldShowProgressBar&&(l=new Th.Notice("",0));let c=sleep(n.noticeMinTimeoutInMilliseconds),f=createEl("progress");if(le(f,"loop"),f.max=s.length,n.shouldShowProgressBar){let p=createFragment();p.createDiv({text:n.progressBarTitle}),p.appendChild(f),l?.setMessage(p)}let h=performance.now();for(let p of s){if(n.abortSignal.aborted){l?.hide();return}a++;let g=`# ${String(a)} / ${String(s.length)}`,y=n.buildNoticeMessage(p,g);n.shouldShowProgressBar||l?.setMessage(y),de("Loop")(y);try{performance.now()-h>n.uiUpdateThresholdInMilliseconds&&(await Cc(),h=performance.now()),await n.processItem(p)}catch(w){if(console.error("Error processing item",p),!n.shouldContinueOnError)throw l?.hide(),new vt("loop failed",i,w);Fi(new vt(Pi,i,w))}f.value++}await c,l?.hide()}r(Ph,"loop");var ql=require("obsidian");var Fh=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Bs=class extends Fh.Modal{static{r(this,"ModalBase")}constructor(e,n,i){super(e.app),this.resolve=n,le(this.containerEl,i),e.cssClass&&this.containerEl.addClass(e.cssClass)}};async function _h(t){return await new Promise(e=>{t(e).open()})}r(_h,"showModal");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Jl=class extends Bs{static{r(this,"ConfirmModal")}isConfirmed=!1;options;constructor(e,n){super(e,n,Y.ConfirmModal);let i={app:e.app,cancelButtonText:On(s=>s.obsidianDevUtils.buttons.cancel),cssClass:"",message:e.message,okButtonText:On(s=>s.obsidianDevUtils.buttons.ok),title:""};this.options={...i,...e}}onClose(){super.onClose(),this.resolve(this.isConfirmed)}onOpen(){super.onOpen(),this.titleEl.setText(this.options.title),this.contentEl.createEl("p",{text:this.options.message});let e=new ql.ButtonComponent(this.contentEl);e.setButtonText(this.options.okButtonText),e.setCta(),e.onClick(()=>{this.isConfirmed=!0,this.close()}),e.setClass(Y.OkButton);let n=new ql.ButtonComponent(this.contentEl);n.setButtonText(this.options.cancelButtonText),n.onClick(this.close.bind(this)),n.setClass(Y.CancelButton)}};async function Oh(t){return await _h(e=>new Jl(t,e))}r(Oh,"confirm");async function Mh(t,e,n){let i=t.processFileAbortControllers.get(e.path);i?.abort(new Ft(`File ${e.path} is already being processed`)),i=new AbortController,t.processFileAbortControllers.set(e.path,i),await ws(t.app,e,()=>n.map(s=>({newContent:tx(t,s.change,e),oldContent:s.reference.original,reference:s.reference})),{abortSignal:i.signal},!1)}r(Mh,"applyLinkChangeUpdates");async function ti(t,e,n,i){n.throwIfAborted(),!(t.settings.isPathIgnored(e.path)&&(!i||!await Oh({app:t.app,message:`Note '${e.path}' is excluded from the conversion in plugin settings. Do you want to convert it anyway?`})))&&await Cs({abortSignal:n,app:t.app,linkStyle:t.settings.getLinkStyle(!0),newSourcePathOrFile:e})}r(ti,"convertLinksInFile");async function Vs(t,e,n){await Ph({abortSignal:n,buildNoticeMessage:r((i,s)=>`Converting links in note ${s} - ${i.path}`,"buildNoticeMessage"),items:Nc(t.app,e,!0),processItem:r(async i=>{await ti(t,i,n)},"processItem"),progressBarTitle:e.path==="/"?"Better Markdown Links: Converting links in entire vault...":`Better Markdown Links: Converting links in folder "${e.path}" ...`,shouldContinueOnError:!0,shouldShowProgressBar:!0})}r(Vs,"convertLinksInFolder");function tx(t,e,n){let i=/^!?\[(?<Alias>.*?)\]\((?<EscapedPath>[^<]+?) .+?>\)$/.exec(e),s=e.startsWith("!");if(!i)return e;let a=i.groups?.Alias??"",l=i.groups?.EscapedPath??"",{linkPath:c,subpath:f}=xs(decodeURIComponent(l)),h=t.app.metadataCache.getFirstLinkpathDest(c,n.path);return h?qr({alias:a,app:t.app,isEmbed:s,linkStyle:t.settings.getLinkStyle(!1),sourcePathOrFile:n,subpath:f,targetPathOrFile:h}):`${s?"!":""}[${a}](${l})`}r(tx,"fixChange");var Zl=class extends fr{static{r(this,"ConvertLinksInEntireVaultCommandInvocation")}async execute(){await super.execute(),await Vs(this.plugin,this.plugin.app.vault.getRoot(),this.plugin.abortSignal)}},Ws=class extends dr{static{r(this,"ConvertLinksInEntireVaultCommand")}constructor(e){super({icon:"link",id:"convert-links-in-entire-vault",name:"Convert links in entire vault",plugin:e})}createCommandInvocation(){return new Zl(this.plugin)}};var Ys=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var hr=class extends dr{static{r(this,"AbstractFileCommandBase")}fileMenuItemName;fileMenuSection;filesMenuItemName;filesMenuSection;checkCallback(e){return this.shouldAddToCommandPalette()?super.checkCallback(e):!1}register(){super.register(),this.plugin.registerEvent(this.app.workspace.on("file-menu",this.handleAbstractFileMenu.bind(this))),this.plugin.registerEvent(this.app.workspace.on("files-menu",this.handleAbstractFilesMenu.bind(this)))}shouldAddToAbstractFileMenu(e,n,i){return!1}shouldAddToCommandPalette(){return!0}handleAbstractFileMenu(e,n,i,s){this.shouldAddToAbstractFileMenu(n,i,s)&&this.createCommandInvocation().invoke(!0,n)&&e.addItem(a=>{a.setTitle(this.fileMenuItemName??this.originalName).setIcon(this.icon).setSection(this.fileMenuSection??"").onClick(()=>this.createCommandInvocation().invoke(!1,n))})}handleAbstractFilesMenu(e,n,i,s){for(let a of n)if(!this.shouldAddToAbstractFileMenu(a,i,s)||!this.createCommandInvocation().invoke(!0,a))return;e.addItem(a=>{a.setTitle(this.filesMenuItemName??this.fileMenuItemName??this.originalName).setIcon(this.icon).setSection(this.filesMenuSection??this.fileMenuSection??"").onClick(()=>{for(let l of n)this.createCommandInvocation().invoke(!1,l)})})}},pr=class extends fr{static{r(this,"AbstractFileCommandInvocationBase")}get abstractFile(){if(!this._abstractFile)throw new Error("Abstract file not set");return this._abstractFile}set abstractFile(e){this._abstractFile=e}_abstractFile;invoke(e,n){return n&&(this._abstractFile=n),super.invoke(e)}canExecute(){if(!super.canExecute())return!1;let e=this._abstractFile??this.app.workspace.getActiveFile();return e?(this._abstractFile=e,!0):!1}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var zs=class extends hr{static{r(this,"FileCommandBase")}shouldAddToAbstractFileMenu(e,n,i){return e instanceof Ys.TFile?this.shouldAddToFileMenu(e,n,i):!1}shouldAddToFileMenu(e,n,i){return!1}},Us=class extends pr{static{r(this,"FileCommandInvocationBase")}get file(){if(!(this.abstractFile instanceof Ys.TFile))throw new Error("Abstract file is not a file");return this.abstractFile}set file(e){this.abstractFile=e}canExecute(){if(!super.canExecute())return!1;if(!(this.abstractFile instanceof Ys.TFile)){let e=this.app.workspace.getActiveFile();if(!e)return!1;this.file=e}return!0}};var Ql=class extends Us{static{r(this,"ConvertLinksInFileCommandInvocation")}canExecute(){return super.canExecute()?ze(this.app,this.file):!1}async execute(){await super.execute(),await ti(this.plugin,this.file,this.plugin.abortSignal,!0)}},$s=class extends zs{static{r(this,"ConvertLinksInFileCommand")}fileMenuItemName="Convert links in file";filesMenuItemName="Convert links in files";constructor(e){super({icon:"link",id:"convert-links-in-current-file",name:"Convert links in current file",plugin:e})}createCommandInvocation(){return new Ql(this.plugin)}shouldAddToFileMenu(e){return ze(this.app,e)}};var Hs=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var js=class extends hr{static{r(this,"FolderCommandBase")}shouldAddToAbstractFileMenu(e,n,i){return e instanceof Hs.TFolder?this.shouldAddToFolderMenu(e,n,i):!1}shouldAddToFolderMenu(e,n,i){return!1}},Gs=class extends pr{static{r(this,"FolderCommandInvocationBase")}get folder(){if(!(this.abstractFile instanceof Hs.TFolder))throw new Error("Abstract file is not a folder");return this.abstractFile}set folder(e){this.abstractFile=e}canExecute(){if(!super.canExecute())return!1;if(!(this.abstractFile instanceof Hs.TFolder)){let e=this.app.workspace.getActiveFile()?.parent;if(!e)return!1;this.folder=e}return!0}};var Xl=class extends Gs{static{r(this,"ConvertLinksInFolderCommandInvocation")}canExecute(){return!!super.canExecute()}async execute(){await super.execute(),await Vs(this.plugin,this.folder,this.plugin.abortSignal)}},Ks=class extends js{static{r(this,"ConvertLinksInFolderCommand")}fileMenuItemName="Convert links in folder";filesMenuItemName="Convert links in folders";constructor(e){super({icon:"link",id:"convert-links-in-current-folder",name:"Convert links in current folder",plugin:e})}createCommandInvocation(){return new Xl(this.plugin)}shouldAddToFolderMenu(){return!0}};var SL=require("obsidian");function Lh(t){Rs(t,t.app.fileManager,{generateMarkdownLink(){return Object.assign(e,{extended:n});function e(i,s,a,l){return nx(t,i,s,a,l)}function n(i){return Ih(t,i)}}}),Vd(t,()=>({isEmptyEmbedAliasAllowed:t.settings.shouldAllowEmptyEmbedAlias,shouldIncludeAttachmentExtensionToEmbedAlias:t.settings.shouldIncludeAttachmentExtensionToEmbedAlias,shouldUseAngleBrackets:t.settings.shouldUseAngleBrackets,shouldUseLeadingDotForRelativePaths:t.settings.shouldUseLeadingDotForRelativePaths,shouldUseLeadingSlashForAbsolutePaths:t.settings.shouldUseLeadingSlashForAbsolutePaths}))}r(Lh,"patchGenerateMarkdownLink");function Ih(t,e){return qr({app:t.app,...e})}r(Ih,"generateMarkdownLinkExtended");function nx(t,e,n,i,s){return Ih(t,wd({alias:s,sourcePathOrFile:n,subpath:i,targetPathOrFile:e}))}r(nx,"generateMarkdownLinkNative");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var fn=class{static{r(this,"Transformer")}getTransformer(e){if(e===this.id)return this;throw new Error(`Transformer with id ${e} not found`)}transformObjectRecursively(e){return this.transformValueRecursively(e,"")}getTransformerId(e,n){return this.canTransform(e,n)?this.id:null}transformValueRecursively(e,n){let i=this.getTransformerId(e,n);if(i){let l=this.transformValue(e,n);return l===void 0?void 0:{__transformerId:i,transformedValue:l}}if(e===null)return null;if(typeof e!="object")return e;if(Array.isArray(e))return e.map((l,c)=>this.transformValueRecursively(l,String(c)));let s=e;if(s.__transformerId)return this.getTransformer(s.__transformerId).restoreValue(s.transformedValue,n);let a={};for(let l of rr(e)){let c=e[l],f=this.transformValueRecursively(c,l);a[l]=f}return a}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var mt=class extends fn{static{r(this,"TypedTransformer")}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var qs=class extends mt{static{r(this,"DateTransformer")}get id(){return"date"}canTransform(e){return e instanceof Date}restoreValue(e){return new Date(e)}transformValue(e){return e.toISOString()}};var Dh=lt(Mn(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Js=class extends mt{static{r(this,"DurationTransformer")}get id(){return"duration"}canTransform(e){let n=e??{};return!!n.asHours&&!!n.asMinutes&&!!n.asSeconds&&!!n.asMilliseconds}restoreValue(e){return(0,Dh.duration)(e)}transformValue(e){return e.toISOString()}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Zs=class extends fn{static{r(this,"GroupTransformer")}constructor(e){super(),this.transformers=e}get id(){return"group"}canTransform(e,n){return this.getFirstTransformerThatCanTransform(e,n)!==null}getTransformer(e){return this.transformers.find(n=>n.id===e)??_r(`No transformer with id ${e} found`)}transformValue(e,n){let i=this.getFirstTransformerThatCanTransform(e,n);if(i===null)throw new Error("No transformer can transform the value");return i.transformValue(e,n)}getTransformerId(e,n){let i=this.getFirstTransformerThatCanTransform(e,n);return i===null?null:i.id}restoreValue(){throw new Error("GroupTransformer does not support restoring values")}getFirstTransformerThatCanTransform(e,n){return this.transformers.find(i=>i.canTransform(e,n))??null}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Qs=class extends mt{static{r(this,"MapTransformer")}get id(){return"map"}canTransform(e){return e instanceof Map}restoreValue(e){return new Map(e)}transformValue(e){return Array.from(e.entries())}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Xs=class extends mt{static{r(this,"SetTransformer")}get id(){return"set"}canTransform(e){return e instanceof Set}restoreValue(e){return new Set(e)}transformValue(e){return Array.from(e)}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var rx="_",eo=class extends fn{static{r(this,"SkipPrivatePropertyTransformer")}get id(){return"skip-private-property"}canTransform(e,n){return n.startsWith(rx)}transformValue(){}restoreValue(){throw new Error("SkipPrivatePropertyTransformer does not support restoring values")}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ni=class{static{r(this,"TwoWayMap")}keyValueMap=new Map;valueKeyMap=new Map;constructor(e=[]){for(let[n,i]of e)this.set(n,i)}clear(){this.keyValueMap.clear(),this.valueKeyMap.clear()}deleteKey(e){let n=this.getValue(e);n!==void 0&&this.valueKeyMap.delete(n),this.keyValueMap.delete(e)}deleteValue(e){let n=this.getKey(e);n!==void 0&&this.keyValueMap.delete(n),this.valueKeyMap.delete(e)}entries(){return this.keyValueMap.entries()}getKey(e){return this.valueKeyMap.get(e)}getValue(e){return this.keyValueMap.get(e)}hasKey(e){return this.keyValueMap.has(e)}hasValue(e){return this.valueKeyMap.has(e)}keys(){return this.keyValueMap.keys()}set(e,n){this.deleteKey(e),this.deleteValue(n),this.keyValueMap.set(e,n),this.valueKeyMap.set(n,e)}values(){return this.valueKeyMap.keys()}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var to=class extends mt{static{r(this,"TwoWayMapTransformer")}get id(){return"two-way-map"}canTransform(e){return e instanceof ni}restoreValue(e){return new ni(e)}transformValue(e){return Array.from(e.entries())}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ix=new Zs([new eo,new qs,new Js,new Qs,new Xs,new to]),no=class extends Pt{static{r(this,"PluginSettingsManagerBase")}constructor(e){super(),this.plugin=e,this.app=e.app,this.defaultSettings=this.createDefaultSettings(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper(),this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.propertyNames=rr(this.currentSettingsWrapper.settings),this.registerValidators(),this.registerLegacySettingsConverters()}app;defaultSettings;get settingsWrapper(){return this.currentSettingsWrapper}currentSettingsWrapper;lastSavedSettingsWrapper;legacySettingsConverters=[];propertyNames;validators=new Map;async editAndSave(e,n){await this.edit(e),await this.saveToFile(n)}async ensureSafe(e){let n=await this.validate(e);for(let i of this.propertyNames)n[i]&&(e[i]=this.defaultSettings[i])}async getSafeCopy(e){let n=await this.cloneSettings(e);return await this.ensureSafe(n),n}async loadFromFile(e){let n=await this.plugin.loadData();this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper();try{if(n==null)return;if(typeof n!="object"){console.error(`Invalid settings from data.json. Expected Object, got: ${typeof n}`);return}let i=n,s=await this.rawRecordToSettings(i),a=await this.validate(s);for(let c of this.propertyNames)this.setPropertyImpl(c,s[c],a[c]);this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper);let l=await this.settingsToRawRecord(this.currentSettingsWrapper.settings);pt(l,n)||await this.saveToFileImpl()}finally{await this.triggerAsync("loadSettings",this.currentSettingsWrapper,e)}}on(e,n,i){return super.on(e,n,i)}async revalidate(){return await this.edit(et),this.currentSettingsWrapper.validationMessages}async saveToFile(e){pt(this.lastSavedSettingsWrapper.settings,this.currentSettingsWrapper.settings)||(await this.saveToFileImpl(),await this.triggerAsync("saveSettings",this.currentSettingsWrapper,this.lastSavedSettingsWrapper,e),this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper))}async setProperty(e,n){return await this.edit(i=>{i[e]=n}),this.currentSettingsWrapper.validationMessages[e]}async validate(e){let n={};for(let[i,s]of this.validators.entries()){let a=await s(e[i],e);a&&(n[i]=a)}return n}getTransformer(){return ix}async onLoadRecord(e){for(let n of this.legacySettingsConverters)n(e);await Promise.resolve()}async onSavingRecord(e){await ut()}registerLegacySettingsConverter(e,n){let i=this;this.legacySettingsConverters.push(s);function s(a){let l=new Set(Object.keys(new e)),c=new Set(i.propertyNames),f=a;n(f);for(let h of Object.keys(f))c.has(h)||l.has(h)&&delete a[h]}r(s,"legacySettingsConverter")}registerLegacySettingsConverters(){}registerValidator(e,n){this.validators.set(e,n)}registerValidators(){}async cloneSettings(e){let n=await this.settingsToRawRecord(e),i=JSON.stringify(n),s=JSON.parse(i);return await this.rawRecordToSettings(s)}async cloneSettingsWrapper(e){return{safeSettings:await this.cloneSettings(e.safeSettings),settings:await this.cloneSettings(e.settings),validationMessages:{...e.validationMessages}}}createDefaultSettingsWrapper(){return{safeSettings:this.createDefaultSettings(),settings:this.createDefaultSettings(),validationMessages:{}}}async edit(e){try{await e(this.currentSettingsWrapper.settings)}finally{let n=await this.validate(this.currentSettingsWrapper.settings);for(let i of this.propertyNames){let s=n[i]??"";this.currentSettingsWrapper.validationMessages[i]=s,this.currentSettingsWrapper.safeSettings[i]=s?this.defaultSettings[i]:this.currentSettingsWrapper.settings[i]}}}isValidPropertyName(e){return typeof e!="string"?!1:this.propertyNames.includes(e)}async rawRecordToSettings(e){e=this.getTransformer().transformObjectRecursively(e),await this.onLoadRecord(e);let n=this.createDefaultSettings();for(let[i,s]of Object.entries(e)){if(!this.isValidPropertyName(i)){de("PluginSettingsManagerBase:rawRecordToSettings")(`Unknown property: ${i}`);continue}typeof s!=typeof this.defaultSettings[i]&&de("PluginSettingsManagerBase:rawRecordToSettings")("Possible invalid value type. It might lead to an unexpected behavior of the plugin. There is also a chance it is a false-negative warning, as we are unable to determine the exact type of the value in runtime.",{defaultValue:this.defaultSettings[i],propertyName:i,value:s}),n[i]=s}return n}async saveToFileImpl(){await this.plugin.saveData(await this.settingsToRawRecord(this.currentSettingsWrapper.settings))}setPropertyImpl(e,n,i){this.currentSettingsWrapper.settings[e]=n,this.currentSettingsWrapper.validationMessages[e]=i??"",this.currentSettingsWrapper.safeSettings[e]=i?this.defaultSettings[e]:n}async settingsToRawRecord(e){let n={};for(let i of this.propertyNames)n[i]=e[i];return await this.onSavingRecord(n),this.getTransformer().transformObjectRecursively(n)}};var Rh=/(?:)/,Nh=/$./,ro=class{static{r(this,"PluginSettings")}shouldAllowEmptyEmbedAlias=!0;shouldAutomaticallyConvertNewLinks=!0;shouldAutomaticallyUpdateLinksOnRenameOrMove=!0;shouldIncludeAttachmentExtensionToEmbedAlias=!1;shouldPreserveExistingLinkStyle=!1;shouldUseAngleBrackets=!0;shouldUseLeadingDotForRelativePaths=!0;shouldUseLeadingSlashForAbsolutePaths=!0;get excludePaths(){return this._excludePaths}set excludePaths(e){this._excludePaths=e.filter(Boolean),this._excludePathsRegExp=Bh(this._excludePaths,Nh)}get includePaths(){return this._includePaths}set includePaths(e){this._includePaths=e.filter(Boolean),this._includePathsRegExp=Bh(this._includePaths,Rh)}_excludePaths=[];_excludePathsRegExp=Nh;_includePaths=[];_includePathsRegExp=Rh;getLinkStyle(e){return e&&this.shouldPreserveExistingLinkStyle?ks.PreserveExisting:ks.ObsidianSettingsDefault}isPathIgnored(e){return!this._includePathsRegExp.test(e)||this._excludePathsRegExp.test(e)}};function Bh(t,e){if(t.length===0)return e;let n=t.map(i=>i.startsWith("/")&&i.endsWith("/")?i.slice(1,-1):`^${ma(i)}`).map(i=>`(${i})`).join("|");return new RegExp(n)}r(Bh,"makeRegExp");var tu=class{static{r(this,"LegacySettings")}allowEmptyEmbedAlias=!0;automaticallyConvertNewLinks=!0;automaticallyUpdateLinksOnRenameOrMove=!0;includeAttachmentExtensionToEmbedAlias=!1;shouldUseLeadingDot=!0;useAngleBrackets=!0;useLeadingDot=!0},io=class extends no{static{r(this,"PluginSettingsManager")}createDefaultSettings(){return new ro}registerLegacySettingsConverters(){this.registerLegacySettingsConverter(tu,e=>{e.allowEmptyEmbedAlias!==void 0&&(e.shouldAllowEmptyEmbedAlias=e.allowEmptyEmbedAlias),e.automaticallyConvertNewLinks!==void 0&&(e.shouldAutomaticallyConvertNewLinks=e.automaticallyConvertNewLinks),e.automaticallyUpdateLinksOnRenameOrMove!==void 0&&(e.shouldAutomaticallyUpdateLinksOnRenameOrMove=e.automaticallyUpdateLinksOnRenameOrMove),e.includeAttachmentExtensionToEmbedAlias!==void 0&&(e.shouldIncludeAttachmentExtensionToEmbedAlias=e.includeAttachmentExtensionToEmbedAlias),e.useAngleBrackets!==void 0&&(e.shouldUseAngleBrackets=e.useAngleBrackets),e.useLeadingDot!==void 0&&(e.shouldUseLeadingDotForRelativePaths=e.useLeadingDot),e.shouldUseLeadingDot!==void 0&&(e.shouldUseLeadingDotForRelativePaths=e.shouldUseLeadingDot)})}registerValidators(){this.registerValidator("includePaths",Vh),this.registerValidator("excludePaths",Vh)}};function Vh(t){for(let e of t)if(e.startsWith("/")&&e.endsWith("/")){let n=e.slice(1,-1);if(!Oc(n))return`Invalid regular expression ${e}`}}r(Vh,"pathsValidator");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Qe(t,e){t.createEl("strong",{cls:"markdown-rendered code"},n=>{n.createEl("code",{text:e})})}r(Qe,"appendCodeBlock");function Wh(t){return`${String(t)}px`}r(Wh,"toPx");var Ln=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function so(t){let e=t.parentElement;if(!e)throw new Error("Element must be attached to the DOM");if(e.classList.contains(Y.SettingComponentWrapper))return e;let n=Array.from(e.children),i=createDiv();le(i,Y.SettingComponentWrapper);for(let s of n)i.appendChild(s);return e.appendChild(i),i}r(so,"ensureWrapped");var Yh=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var nu=class{static{r(this,"AbstractTextComponentWrapper")}constructor(e){this.abstractTextComponent=e}empty(){this.abstractTextComponent.setValue("")}isEmpty(){return this.abstractTextComponent.getValue()===""}setPlaceholderValue(e){return this.abstractTextComponent.setPlaceholder(e),this}};function zh(t){return sx(t)?t:t instanceof Yh.AbstractTextComponent?new nu(t):null}r(zh,"getTextBasedComponentValue");function sx(t){let e=t;return typeof e.setPlaceholderValue=="function"&&typeof e.isEmpty=="function"}r(sx,"isTextBasedComponent");var De=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var oo=class{static{r(this,"OverlayValidatorComponent")}constructor(e){this.el=e;let n=so(e);this._validatorEl=n.createEl("input",{attr:{tabindex:-1}}),le(this._validatorEl,Y.OverlayValidator),this._validatorEl.addEventListener("focus",()=>{this.el.focus()}),this._validatorEl.isActiveElement=this.isElementOrDescendantActive.bind(this);let i=this.el.querySelector("[tabindex]");i||(this.el.getAttr("tabindex")===null&&(this.el.tabIndex=-1),i=this.el),this.el.addEventListener("focusin",()=>{this.forceBlurValidatorEl()}),this.el.addEventListener("click",()=>{i.focus()}),this.el.addEventListener("focusout",()=>{window.setTimeout(()=>{this.isElementOrDescendantActive()||this.forceBlurValidatorEl()},0)})}get validatorEl(){return this._validatorEl}_validatorEl;forceBlurValidatorEl(){this._validatorEl.dispatchEvent(new Event("blur"))}isElementOrDescendantActive(){return this.el.contains(document.activeElement)}},dn=class{static{r(this,"ValidatorElementWrapper")}constructor(e){this.validatorEl=e}};function Uh(t){return ox(t)?t:t instanceof De.ColorComponent?new dn(t.colorPickerEl):t instanceof De.DropdownComponent?new dn(t.selectEl):t instanceof De.ProgressBarComponent?new oo(t.progressBar):t instanceof De.SearchComponent?new dn(t.inputEl):t instanceof De.SliderComponent?new dn(t.sliderEl):t instanceof De.TextAreaComponent?new dn(t.inputEl):t instanceof De.TextComponent?new dn(t.inputEl):t instanceof De.ToggleComponent?new oo(t.toggleEl):null}r(Uh,"getValidatorComponent");function ox(t){return!!t.validatorEl}r(ox,"isValidatorComponent");var ax=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function $h(t){return t.validationMessage!==void 0}r($h,"isValidationMessageHolder");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ru="PluginSettingsTab",ao=class extends Ln.PluginSettingTab{static{r(this,"PluginSettingsTabBase")}constructor(e){super(e.app,e),this.plugin=e,le(this.containerEl,Y.PluginSettingsTab),this.saveSettingsDebounced=(0,Ln.debounce)(rn(()=>this.plugin.settingsManager.saveToFile(ru)),this.saveSettingsDebounceTimeoutInMilliseconds),this.asyncEventsComponent=new vs,this.asyncEvents=new Pt}get isOpen(){return this._isOpen}get saveSettingsDebounceTimeoutInMilliseconds(){return 2e3}_isOpen=!1;asyncEvents;asyncEventsComponent;saveSettingsDebounced;get pluginSettings(){return this.plugin.settingsManager.settingsWrapper.settings}bind(e,n,i){let a={...{componentToPluginSettingsValueConverter:r(I=>I,"componentToPluginSettingsValueConverter"),onChanged:et,pluginSettingsToComponentValueConverter:r(I=>I,"pluginSettingsToComponentValueConverter"),shouldResetSettingWhenComponentIsEmpty:!0,shouldShowPlaceholderForDefaultValues:!0,shouldShowValidationMessage:!0},...i},l=Uh(e)?.validatorEl,c=zh(e),f=this.pluginSettings[n],h=this.plugin.settingsManager.defaultSettings[n],p=a.pluginSettingsToComponentValueConverter(h);c?.setPlaceholderValue(p);let g,y=null,w=null;if(l){let I=so(l);y=I.createDiv(),le(y,Y.Tooltip,Y.TooltipValidator),w=y.createSpan();let W=y.createDiv();le(W,Y.TooltipArrow),y.hide(),I.appendChild(y)}this.asyncEventsComponent.registerAsyncEvent(this.on("validationMessageChanged",(I,W)=>{n===I&&(g=W,P())}));let v=!1,F=!1;c&&a.shouldShowPlaceholderForDefaultValues&&pt(f,h)?c.empty():e.setValue(a.pluginSettingsToComponentValueConverter(f));let S=!1,P=(0,Ln.debounce)(()=>{requestAnimationFrame(()=>{O()})},100);return e.onChange(async I=>{if(S){S=!1;return}v=!1;let W=this.pluginSettings[n],E,G=!0;if(F=!!c?.isEmpty()&&a.shouldResetSettingWhenComponentIsEmpty,F)E=h;else{let K=a.componentToPluginSettingsValueConverter(I);$h(K)?(g=K.validationMessage,G=!1):E=K}G&&(g=await this.plugin.settingsManager.setProperty(n,E),c&&a.shouldShowPlaceholderForDefaultValues&&!c.isEmpty()&&pt(E,h)&&(v=!0)),P(),G&&await a.onChanged(E,W),this.saveSettingsDebounced()}),l?.addEventListener("focus",()=>{P()}),l?.addEventListener("blur",()=>{P()}),l?.addEventListener("click",()=>{requestAnimationFrame(()=>{P()})}),g=this.plugin.settingsManager.settingsWrapper.validationMessages[n]??"",P(),e;function O(){l?.isActiveElement()||(v?(v=!1,c?.isEmpty()||(S=!0,c?.empty())):F&&(F=!1,c?.isEmpty()&&(S=!0,e.setValue(p)))),l&&(g===""&&(l.setCustomValidity(""),l.checkValidity(),g=l.validationMessage),l.setCustomValidity(g),a.shouldShowValidationMessage?(w&&(w.textContent=g),y?.toggle(!!g)):g&&(0,Ln.setTooltip)(l,g))}r(O,"updateValidatorEl")}display(){this.containerEl.empty(),this._isOpen=!0,this.asyncEventsComponent.load(),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))}hide(){super.hide(),this.saveSettingsDebounced.cancel(),this._isOpen=!1,this.asyncEventsComponent.unload(),this.asyncEventsComponent.load(),Le(()=>this.hideAsync())}async hideAsync(){await this.plugin.settingsManager.saveToFile(ru)}show(){this.app.setting.openTab(this)}async onLoadSettings(e,n){this.display(),await ut()}async revalidate(){let e=await this.plugin.settingsManager.revalidate();await this.updateValidations(e)}on(e,n,i){return this.asyncEvents.on(e,n,i)}async onSaveSettings(e,n,i){if(i===ru){await this.updateValidations(e.validationMessages);return}this.display()}async updateValidations(e){for(let[n,i]of Object.entries(e))await this.asyncEvents.triggerAsync("validationMessageChanged",n,i)}};var Qh=require("obsidian");var Hh=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var lo=class extends Hh.ValueComponent{static{r(this,"CheckboxComponent")}inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),le(e,Y.CheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.checked=e,this}};var gr=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var uo=class extends gr.ValueComponent{static{r(this,"CodeHighlighterComponent")}get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}codeEl;placeholder="";preEl;tabSize;textAreaComponent;constructor(e){super(),le(e,Y.CodeHighlighterComponent);let n=e.createDiv();le(n,Y.SettingComponentWrapper),this.textAreaComponent=new gr.TextAreaComponent(n),this.preEl=n.createEl("pre",{attr:{tabIndex:"-1"}}),this.codeEl=this.preEl.createEl("code",{attr:{tabIndex:"-1"}}),this.inputEl.addEventListener("input",rn(this.updateHighlightedCode.bind(this))),this.inputEl.addEventListener("scroll",this.handleScroll.bind(this)),this.inputEl.addEventListener("keydown",this.handleKeyDown.bind(this));let i=2;this.tabSize=i}empty(){this.setValue("")}getValue(){return this.textAreaComponent.getValue()}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setLanguage(e){let n="language-";for(let i of[this.preEl,this.codeEl]){for(let s of Array.from(i.classList))s.startsWith(n)&&i.classList.remove(s);i.classList.add(`${n}${e}`)}return this}setPlaceholder(e){return this.placeholder=e,Le(this.updateHighlightedCode.bind(this)),this}setPlaceholderValue(e){return this.setPlaceholder(e),this}setTabSize(e){return this.tabSize=e,this}setValue(e){return this.textAreaComponent.setValue(e),Le(this.updateHighlightedCode.bind(this)),this}handleKeyDown(e){if(e.key!=="Tab")return;if(e.preventDefault(),e.ctrlKey||e.metaKey){let p=Array.from(document.querySelectorAll(':is(a, button, input, select, textarea, [tabindex]):not([tabindex="-1"]):not(:disabled):not([type="hidden"])')),g=p.indexOf(this.inputEl),y=e.shiftKey?-1:1;p[(g+y+p.length)%p.length]?.focus();return}let n=this.getValue(),i=this.inputEl.selectionStart,s=this.inputEl.selectionEnd,a=n.slice(0,i),l=n.slice(s),c=" ".repeat(this.tabSize),f=a;e.shiftKey?a.endsWith(c)&&(f=a.slice(0,-this.tabSize)):f=a+c;let h=`${f}${l}`;this.setValue(h),this.inputEl.selectionStart=f.length,this.inputEl.selectionEnd=f.length}handleScroll(){this.preEl.scrollTop=this.inputEl.scrollTop,this.preEl.scrollLeft=this.inputEl.scrollLeft}async updateHighlightedCode(){this.codeEl.textContent=this.inputEl.value||this.placeholder,(await(0,gr.loadPrism)()).highlightElement(this.codeEl),this.preEl.toggleClass(Y.IsPlaceholder,this.isEmpty()),requestAnimationFrame(()=>{let n=Math.max(0,this.inputEl.scrollHeight-this.preEl.scrollHeight);this.preEl.setCssProps({"--bottom-gap":Wh(n)}),this.handleScroll()})}};var iu=lt(Mn(),1);var co=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Te=class extends co.ValueComponent{static{r(this,"TypedTextComponent")}inputEl;get validatorEl(){return this.inputEl}textComponent;constructor(e,n,i){super(),this.textComponent=new co.TextComponent(e),this.inputEl=this.textComponent.inputEl,this.inputEl.type=n,le(e,i)}getValue(){return this.valueFromString(this.textComponent.getValue())}onChange(e){return this.textComponent.onChange(()=>e(this.getValue())),this}onChanged(){this.textComponent.onChanged()}setDisabled(e){return super.setDisabled(e),this.textComponent.setDisabled(e),this}setValue(e){return this.textComponent.setValue(this.valueToString(e)),this}valueToString(e){return String(e)}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Xe=class extends Te{static{r(this,"TypedRangeTextComponent")}setMax(e){return this.inputEl.max=this.valueToString(e),this}setMin(e){return this.inputEl.min=this.valueToString(e),this}setStep(e){return this.inputEl.step=String(e),this}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var jh="YYYY-MM-DD",fo=class extends Xe{static{r(this,"DateComponent")}constructor(e){super(e,"date",Y.DateComponent)}valueFromString(e){return(0,iu.default)(e,jh).toDate()}valueToString(e){return(0,iu.default)(e).format(jh)}};var su=lt(Mn(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Gh="YYYY-MM-DDTHH:mm",ho=class extends Xe{static{r(this,"DateTimeComponent")}constructor(e){super(e,"datetime-local",Y.DateTimeComponent)}valueFromString(e){return(0,su.default)(e,Gh).toDate()}valueToString(e){return(0,su.default)(e).format(Gh)}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var po=class extends Te{static{r(this,"EmailComponent")}constructor(e){super(e,"email",Y.EmailComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var mo=class extends Te{static{r(this,"FileComponent")}constructor(e){super(e,"file",Y.FileComponent)}getValue(){return this.inputEl.files?.[0]??null}valueFromString(){return this.getValue()}valueToString(e){return e?.name??""}};var ou=lt(Mn(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Kh="YYYY-MM",go=class extends Xe{static{r(this,"MonthComponent")}constructor(e){super(e,"month",Y.MonthComponent)}valueFromString(e){let n=(0,ou.default)(e,Kh);if(!n.isValid())throw new Error("Invalid month");return{month:n.month()+1,year:n.year()}}valueToString(e){return(0,ou.default)().year(e.year).month(e.month-1).format(Kh)}};var yo=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var yr=class extends yo.ValueComponent{static{r(this,"MultipleDropdownComponent")}get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;constructor(e){super(),this.dropdownComponent=new yo.DropdownComponent(e),this.dropdownComponent.selectEl.multiple=!0,le(e,Y.MultipleDropdownComponent)}addOption(e,n){return this.dropdownComponent.addOption(e,n),this}addOptions(e){return this.dropdownComponent.addOptions(e),this}getValue(){return Array.from(this.dropdownComponent.selectEl.selectedOptions).map(e=>e.value)}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){for(let n of Array.from(this.dropdownComponent.selectEl.options))n.selected=e.includes(n.value);return this}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var wo=class extends Te{static{r(this,"MultipleEmailComponent")}constructor(e){super(e,"email",Y.MultipleEmailComponent),this.inputEl.multiple=!0}valueFromString(e){return e.split(",").map(n=>n.trim())}valueToString(e){return e.join(", ")}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var bo=class extends Te{static{r(this,"MultipleFileComponent")}constructor(e){super(e,"file",Y.MultipleFileComponent),this.inputEl.multiple=!0}getValue(){return Array.from(this.inputEl.files??[])}valueFromString(){return this.getValue()}valueToString(e){return e[0]?.name??""}};var xo=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ko=class extends xo.ValueComponent{static{r(this,"MultipleTextComponent")}get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}textAreaComponent;constructor(e){super(),this.textAreaComponent=new xo.TextAreaComponent(e),le(e,Y.MultipleTextComponent)}empty(){this.textAreaComponent.setValue("")}getValue(){return this.textAreaComponent.getValue().split(`
`)}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setPlaceholder(e){return this.textAreaComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.setPlaceholder(this.valueToString(e)),this}setValue(e){return this.textAreaComponent.setValue(this.valueToString(e)),this}valueToString(e){return e.join(`
`)}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Co=class extends Xe{static{r(this,"NumberComponent")}constructor(e){super(e,"number",Y.NumberComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.textComponent.setPlaceholder(this.valueToString(e)),this}valueFromString(e){return parseInt(e,10)}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var vo=class extends Te{static{r(this,"PasswordComponent")}constructor(e){super(e,"password",Y.PasswordComponent)}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ao=class extends Te{static{r(this,"TelephoneComponent")}constructor(e){super(e,"tel",Y.TelephoneComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var Eo=lt(Mn(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var So=class extends Xe{static{r(this,"TimeComponent")}constructor(e){super(e,"time",Y.TimeComponent)}valueFromString(e){return(0,Eo.duration)(e)}valueToString(e){let n;return e.milliseconds()>0?n="HH:mm:ss.SSS":e.seconds()>0?n="HH:mm:ss":n="HH:mm",(0,Eo.utc)(e.asMilliseconds()).format(n)}};var qh=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var To=class extends qh.ValueComponent{static{r(this,"TriStateCheckboxComponent")}inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),le(e,Y.TriStateCheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.indeterminate?null:this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.indeterminate=e===null,this.inputEl.checked=e??!1,this}};var Fo=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Po=class extends Fo.ValueComponent{static{r(this,"TypedDropdownComponent")}get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;values=[];constructor(e){super(),this.dropdownComponent=new Fo.DropdownComponent(e),le(e,Y.TypedDropdownComponent)}addOption(e,n){let i=this.values.indexOf(e);return i===-1&&(this.values.push(e),i=this.values.length-1),this.dropdownComponent.addOption(String(i),n),this}addOptions(e){for(let[n,i]of e.entries())this.addOption(n,i);return this}getValue(){return this.values[this.dropdownComponent.selectEl.selectedIndex]??null}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){let n=e===null?-1:this.values.indexOf(e);return this.dropdownComponent.selectEl.selectedIndex=n,this}};var Jh=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var _o=class extends Jh.ValueComponent{static{r(this,"TypedMultipleDropdownComponent")}get selectEl(){return this.multipleDropdownComponent.selectEl}get validatorEl(){return this.selectEl}multipleDropdownComponent;values=[];constructor(e){super(),this.multipleDropdownComponent=new yr(e),le(e,Y.TypedMultipleDropdownComponent)}addOption(e,n){let i=this.values.indexOf(e);return i===-1&&(this.values.push(e),i=this.values.length-1),this.multipleDropdownComponent.addOption(String(i),n),this}addOptions(e){for(let[n,i]of e.entries())this.addOption(n,i);return this}getValue(){return this.multipleDropdownComponent.getValue().map(n=>parseInt(n,10)).map(n=>this.values[n]).filter(n=>n!==void 0)}onChange(e){return this.multipleDropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.multipleDropdownComponent.setDisabled(e),this}setValue(e){let n=e.map(i=>this.values.indexOf(i)).filter(i=>i!==-1);return this.multipleDropdownComponent.setValue(n.map(i=>String(i))),this}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Oo=class extends Te{static{r(this,"UrlComponent")}constructor(e){super(e,"url",Y.UrlComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var au=lt(Mn(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Zh="YYYY-[W]WW",Mo=class extends Xe{static{r(this,"WeekComponent")}constructor(e){super(e,"week",Y.WeekComponent)}valueFromString(e){let n=(0,au.default)(e,Zh);if(!n.isValid())throw new Error("Invalid week");return{weekNumber:n.isoWeek(),year:n.year()}}valueToString(e){return(0,au.default)().year(e.year).isoWeek(e.weekNumber).format(Zh)}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var st=class extends Qh.Setting{static{r(this,"SettingEx")}addCheckbox(e){return this.addComponent(lo,e)}addCodeHighlighter(e){return this.addComponent(uo,e)}addComponent(e,n){let i=new e(this.controlEl);return this.components.push(i),n(i),this}addDate(e){return this.addComponent(fo,e)}addDateTime(e){return this.addComponent(ho,e)}addEmail(e){return this.addComponent(po,e)}addFile(e){return this.addComponent(mo,e)}addMonth(e){return this.addComponent(go,e)}addMultipleDropdown(e){return this.addComponent(yr,e)}addMultipleEmail(e){return this.addComponent(wo,e)}addMultipleFile(e){return this.addComponent(bo,e)}addMultipleText(e){return this.addComponent(ko,e)}addNumber(e){return this.addComponent(Co,e)}addPassword(e){return this.addComponent(vo,e)}addTelephone(e){return this.addComponent(Ao,e)}addTime(e){return this.addComponent(So,e)}addTriStateCheckbox(e){return this.addComponent(To,e)}addTypedDropdown(e){return this.addComponent(Po,e)}addTypedMultipleDropdown(e){return this.addComponent(_o,e)}addUrl(e){return this.addComponent(Oo,e)}addWeek(e){return this.addComponent(Mo,e)}};var Lo=class extends ao{static{r(this,"PluginSettingsTab")}display(){super.display(),this.containerEl.empty(),new st(this.containerEl).setName("Should use leading dot for relative paths").setDesc(createFragment(e=>{e.appendText("Whether to use a leading dot in relative links."),e.createEl("br"),e.appendText("If enabled: "),Qe(e,"[[./relative/path/to/target]]"),e.createEl("br"),e.appendText("If disabled: "),Qe(e,"[[relative/path/to/target]]")})).addToggle(e=>{this.bind(e,"shouldUseLeadingDotForRelativePaths")}),new st(this.containerEl).setName("Should use leading slash for absolute paths").setDesc(createFragment(e=>{e.appendText("Whether to use a leading slash in absolute paths."),e.createEl("br"),e.appendText("If enabled: "),Qe(e,"[[/absolute/path/to/target]]"),e.createEl("br"),e.appendText("If disabled: "),Qe(e,"[[absolute/path/to/target]]")})).addToggle(e=>{this.bind(e,"shouldUseLeadingSlashForAbsolutePaths")}),new st(this.containerEl).setName("Should use angle brackets").setDesc(createFragment(e=>{e.appendText("Whether to use angle brackets in links. Applicable only if "),e.createEl("br"),Qe(e,"Use [[Wikilinks]]"),e.appendText(" Obsidian setting is disabled."),e.createEl("br"),e.appendText("If enabled: "),Qe(e,"[alias](<path with spaces.md>)"),e.createEl("br"),e.appendText("If disabled: "),Qe(e,"[alias](path%20with%20spaces.md)")})).addToggle(e=>{this.bind(e,"shouldUseAngleBrackets")}),new st(this.containerEl).setName("Should automatically convert new links").setDesc("Whether to automatically convert new links entered manually to the selected format.").addToggle(e=>{this.bind(e,"shouldAutomaticallyConvertNewLinks")}),new st(this.containerEl).setName("Should automatically update links on rename or move").setDesc(createFragment(e=>{e.appendText("Whether to automatically update links when a file is renamed or moved to another directory."),e.createEl("br"),e.appendText("Consider installing the "),e.createEl("a",{href:"obsidian://show-plugin?id=backlink-cache",text:"Backlink Cache"}),e.appendText(" plugin to improve performance.")})).addToggle(e=>{this.bind(e,"shouldAutomaticallyUpdateLinksOnRenameOrMove")}),new st(this.containerEl).setName("Should allow empty embed alias").setDesc(createFragment(e=>{e.appendText("Whether to allow empty embed alias. If disabled, empty alias will be replaced with the attachment name."),e.createEl("br"),e.appendText("If enabled: "),Qe(e,"![](path/to/image.png)"),e.createEl("br"),e.appendText("If disabled: "),Qe(e,"![image](path/to/image.png)")})).addToggle(e=>{this.bind(e,"shouldAllowEmptyEmbedAlias")}),new st(this.containerEl).setName("Should include attachment extension to embed alias").setDesc(createFragment(e=>{e.appendText("Whether to include the extension of the attachment in the embed alias."),e.createEl("br"),e.appendText("If enabled: "),Qe(e,"![image.png](path/to/image.png)"),e.createEl("br"),e.appendText("If disabled: "),Qe(e,"![image](path/to/image.png)")})).addToggle(e=>{this.bind(e,"shouldIncludeAttachmentExtensionToEmbedAlias")}),new st(this.containerEl).setName("Should preserve existing link style").setDesc(createFragment(e=>{e.appendText("Whether to preserve the existing link style when converting links."),e.createEl("br"),e.appendText("If enabled, the existing link style will be preserved when converting links."),e.createEl("br"),e.appendText("If disabled, the existing links style will be changed to the default link style defined in Obsidian settings.")})).addToggle(e=>{this.bind(e,"shouldPreserveExistingLinkStyle")}),new st(this.containerEl).setName("Include paths").setDesc(createFragment(e=>{e.appendText("Include notes from the following paths"),e.createEl("br"),e.appendText("Insert each path on a new line"),e.createEl("br"),e.appendText("You can use path string or "),Qe(e,"/regular expression/"),e.createEl("br"),e.appendText("If the setting is empty, all notes are included")})).addMultipleText(e=>{this.bind(e,"includePaths")}),new st(this.containerEl).setName("Exclude paths").setDesc(createFragment(e=>{e.appendText("Exclude notes from the following paths"),e.createEl("br"),e.appendText("Insert each path on a new line"),e.createEl("br"),e.appendText("You can use path string or "),Qe(e,"/regular expression/"),e.createEl("br"),e.appendText("If the setting is empty, no notes are excluded")})).addMultipleText(e=>{this.bind(e,"excludePaths")})}};var Io=class extends Is{static{r(this,"Plugin")}processFileAbortControllers=new Map;createSettingsManager(){return new io(this)}createSettingsTab(){return new Lo(this)}async onLayoutReady(){await super.onLayoutReady(),Lh(this),new $s(this).register(),new Ks(this).register(),new Ws(this).register(),this.registerEvent(this.app.vault.on("modify",rn(this.handleModify.bind(this)))),Sh(this,()=>({isPathIgnored:r(n=>this.settings.isPathIgnored(n),"isPathIgnored"),shouldHandleRenames:this.settings.shouldAutomaticallyUpdateLinksOnRenameOrMove,shouldUpdateFileNameAliases:!0})),this.app.fileManager.linkUpdaters[sn]={applyUpdates:r((e,n)=>Mh(this,e,n),"applyUpdates"),iterateReferences:et,renameSubpath:ut},this.register(()=>{delete this.app.fileManager.linkUpdaters[sn]})}async handleModify(e){if(this.abortSignal.throwIfAborted(),!(e instanceof Xh.TFile))return;let n=this.processFileAbortControllers.get(e.path);if(n?.abort(new Ft(`File ${e.path} is already being processed`)),this.processFileAbortControllers.delete(e.path),!this.settings.shouldAutomaticallyConvertNewLinks)return;let i=document.querySelector(".suggestion-container");if(!(i&&i.style.display!=="none")){n=new AbortController,this.processFileAbortControllers.set(e.path,n);try{let s=wn(this.abortSignal,n.signal),a=await bs(this.app,e);if(s.throwIfAborted(),!a)return;Zt(a).some(c=>c.original!==Cl({app:this.app,link:c,linkStyle:this.settings.getLinkStyle(!0),newSourcePathOrFile:e}))&&await ti(this,e,s)}finally{this.processFileAbortControllers.delete(e.path)}}}};var lx=Io;
/*! Bundled license information:

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.30.1 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)
*/

/* nosourcemap */